{"version":3,"sources":["webpack://@flarum/core/webpack/bootstrap","webpack://@flarum/core/./forum.ts","webpack://@flarum/core/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@flarum/core/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flarum/core/./node_modules/zepto/dist/zepto.js","webpack://@flarum/core/./node_modules/classNames/index.js","webpack://@flarum/core/./node_modules/dayjs/dayjs.min.js","webpack://@flarum/core/./node_modules/m.attrs.bidi/bidi.js","webpack://@flarum/core/./node_modules/mithril/index.js","webpack://@flarum/core/./node_modules/mousetrap/mousetrap.js","webpack://@flarum/core/./node_modules/bootstrap/js/dropdown.js","webpack://@flarum/core/./node_modules/bootstrap/js/transition.js","webpack://@flarum/core/./node_modules/dayjs/plugin/localizedFormat.js","webpack://@flarum/core/./node_modules/dayjs/plugin/relativeTime.js","webpack://@flarum/core/./node_modules/mousetrap/mousetrap.js-exposed","webpack://@flarum/core/./node_modules/classNames/index.js-exposed","webpack://@flarum/core/./node_modules/dayjs/dayjs.min.js-exposed","webpack://@flarum/core/./node_modules/zepto/dist/zepto.js-exposed","webpack://@flarum/core/./node_modules/mithril/index.js-exposed","webpack://@flarum/core/./node_modules/m.attrs.bidi/bidi.js-exposed","webpack://@flarum/core/./node_modules/dayjs/dayjs.min.js-exposed?da0f","webpack://@flarum/core/./node_modules/hc-sticky/dist/hc-sticky.js","webpack://@flarum/core/./node_modules/jump.js/dist/jump.module.js","webpack://@flarum/core/./node_modules/lodash/_Hash.js","webpack://@flarum/core/./node_modules/lodash/_ListCache.js","webpack://@flarum/core/./node_modules/lodash/_Map.js","webpack://@flarum/core/./node_modules/lodash/_MapCache.js","webpack://@flarum/core/./node_modules/lodash/_Symbol.js","webpack://@flarum/core/./node_modules/lodash/_arrayEach.js","webpack://@flarum/core/./node_modules/lodash/_arrayLikeKeys.js","webpack://@flarum/core/./node_modules/lodash/_arrayMap.js","webpack://@flarum/core/./node_modules/lodash/_assignValue.js","webpack://@flarum/core/./node_modules/lodash/_assocIndexOf.js","webpack://@flarum/core/./node_modules/lodash/_baseAssignValue.js","webpack://@flarum/core/./node_modules/lodash/_baseEach.js","webpack://@flarum/core/./node_modules/lodash/_baseFor.js","webpack://@flarum/core/./node_modules/lodash/_baseForOwn.js","webpack://@flarum/core/./node_modules/lodash/_baseGet.js","webpack://@flarum/core/./node_modules/lodash/_baseGetTag.js","webpack://@flarum/core/./node_modules/lodash/_baseIsArguments.js","webpack://@flarum/core/./node_modules/lodash/_baseIsNative.js","webpack://@flarum/core/./node_modules/lodash/_baseIsTypedArray.js","webpack://@flarum/core/./node_modules/lodash/_baseKeys.js","webpack://@flarum/core/./node_modules/lodash/_baseSet.js","webpack://@flarum/core/./node_modules/lodash/_baseTimes.js","webpack://@flarum/core/./node_modules/lodash/_baseToString.js","webpack://@flarum/core/./node_modules/lodash/_baseUnary.js","webpack://@flarum/core/./node_modules/lodash/_castFunction.js","webpack://@flarum/core/./node_modules/lodash/_castPath.js","webpack://@flarum/core/./node_modules/lodash/_coreJsData.js","webpack://@flarum/core/./node_modules/lodash/_createBaseEach.js","webpack://@flarum/core/./node_modules/lodash/_createBaseFor.js","webpack://@flarum/core/./node_modules/lodash/_defineProperty.js","webpack://@flarum/core/./node_modules/lodash/_freeGlobal.js","webpack://@flarum/core/./node_modules/lodash/_getMapData.js","webpack://@flarum/core/./node_modules/lodash/_getNative.js","webpack://@flarum/core/./node_modules/lodash/_getRawTag.js","webpack://@flarum/core/./node_modules/lodash/_getValue.js","webpack://@flarum/core/./node_modules/lodash/_hashClear.js","webpack://@flarum/core/./node_modules/lodash/_hashDelete.js","webpack://@flarum/core/./node_modules/lodash/_hashGet.js","webpack://@flarum/core/./node_modules/lodash/_hashHas.js","webpack://@flarum/core/./node_modules/lodash/_hashSet.js","webpack://@flarum/core/./node_modules/lodash/_isIndex.js","webpack://@flarum/core/./node_modules/lodash/_isKey.js","webpack://@flarum/core/./node_modules/lodash/_isKeyable.js","webpack://@flarum/core/./node_modules/lodash/_isMasked.js","webpack://@flarum/core/./node_modules/lodash/_isPrototype.js","webpack://@flarum/core/./node_modules/lodash/_listCacheClear.js","webpack://@flarum/core/./node_modules/lodash/_listCacheDelete.js","webpack://@flarum/core/./node_modules/lodash/_listCacheGet.js","webpack://@flarum/core/./node_modules/lodash/_listCacheHas.js","webpack://@flarum/core/./node_modules/lodash/_listCacheSet.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheClear.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheDelete.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheGet.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheHas.js","webpack://@flarum/core/./node_modules/lodash/_mapCacheSet.js","webpack://@flarum/core/./node_modules/lodash/_memoizeCapped.js","webpack://@flarum/core/./node_modules/lodash/_nativeCreate.js","webpack://@flarum/core/./node_modules/lodash/_nativeKeys.js","webpack://@flarum/core/./node_modules/lodash/_nodeUtil.js","webpack://@flarum/core/./node_modules/lodash/_objectToString.js","webpack://@flarum/core/./node_modules/lodash/_overArg.js","webpack://@flarum/core/./node_modules/lodash/_root.js","webpack://@flarum/core/./node_modules/lodash/_stringToPath.js","webpack://@flarum/core/./node_modules/lodash/_toKey.js","webpack://@flarum/core/./node_modules/lodash/_toSource.js","webpack://@flarum/core/./node_modules/lodash/eq.js","webpack://@flarum/core/./node_modules/lodash/forEach.js","webpack://@flarum/core/./node_modules/lodash/get.js","webpack://@flarum/core/./node_modules/lodash/identity.js","webpack://@flarum/core/./node_modules/lodash/isArguments.js","webpack://@flarum/core/./node_modules/lodash/isArray.js","webpack://@flarum/core/./node_modules/lodash/isArrayLike.js","webpack://@flarum/core/./node_modules/lodash/isBuffer.js","webpack://@flarum/core/./node_modules/lodash/isFunction.js","webpack://@flarum/core/./node_modules/lodash/isLength.js","webpack://@flarum/core/./node_modules/lodash/isObject.js","webpack://@flarum/core/./node_modules/lodash/isObjectLike.js","webpack://@flarum/core/./node_modules/lodash/isSymbol.js","webpack://@flarum/core/./node_modules/lodash/isTypedArray.js","webpack://@flarum/core/./node_modules/lodash/keys.js","webpack://@flarum/core/./node_modules/lodash/memoize.js","webpack://@flarum/core/./node_modules/lodash/set.js","webpack://@flarum/core/./node_modules/lodash/stubFalse.js","webpack://@flarum/core/./node_modules/lodash/toString.js","webpack://@flarum/core/./node_modules/mithril/api/mount-redraw.js","webpack://@flarum/core/./node_modules/mithril/api/router.js","webpack://@flarum/core/./node_modules/mithril/hyperscript.js","webpack://@flarum/core/./node_modules/mithril/mount-redraw.js","webpack://@flarum/core/./node_modules/mithril/pathname/assign.js","webpack://@flarum/core/./node_modules/mithril/pathname/build.js","webpack://@flarum/core/./node_modules/mithril/pathname/compileTemplate.js","webpack://@flarum/core/./node_modules/mithril/pathname/parse.js","webpack://@flarum/core/./node_modules/mithril/promise/polyfill.js","webpack://@flarum/core/./node_modules/mithril/promise/promise.js","webpack://@flarum/core/./node_modules/mithril/querystring/build.js","webpack://@flarum/core/./node_modules/mithril/querystring/parse.js","webpack://@flarum/core/./node_modules/mithril/render.js","webpack://@flarum/core/./node_modules/mithril/render/fragment.js","webpack://@flarum/core/./node_modules/mithril/render/hyperscript.js","webpack://@flarum/core/./node_modules/mithril/render/hyperscriptVnode.js","webpack://@flarum/core/./node_modules/mithril/render/render.js","webpack://@flarum/core/./node_modules/mithril/render/trust.js","webpack://@flarum/core/./node_modules/mithril/render/vnode.js","webpack://@flarum/core/./node_modules/mithril/request.js","webpack://@flarum/core/./node_modules/mithril/request/request.js","webpack://@flarum/core/./node_modules/mithril/route.js","webpack://@flarum/core/./node_modules/mithril/stream.js","webpack://@flarum/core/./node_modules/mithril/stream/stream.js","webpack://@flarum/core/../../src/utils/isBrowser.js","webpack://@flarum/core/../../src/utils/debounce.js","webpack://@flarum/core/../../src/utils/isFunction.js","webpack://@flarum/core/../../src/utils/getStyleComputedProperty.js","webpack://@flarum/core/../../src/utils/getParentNode.js","webpack://@flarum/core/../../src/utils/getScrollParent.js","webpack://@flarum/core/../../src/utils/isIE.js","webpack://@flarum/core/../../src/utils/getOffsetParent.js","webpack://@flarum/core/../../src/utils/isOffsetContainer.js","webpack://@flarum/core/../../src/utils/getRoot.js","webpack://@flarum/core/../../src/utils/findCommonOffsetParent.js","webpack://@flarum/core/../../src/utils/getScroll.js","webpack://@flarum/core/../../src/utils/includeScroll.js","webpack://@flarum/core/../../src/utils/getBordersSize.js","webpack://@flarum/core/../../src/utils/getWindowSizes.js","webpack://@flarum/core/../../src/utils/getClientRect.js","webpack://@flarum/core/../../src/utils/getBoundingClientRect.js","webpack://@flarum/core/../../src/utils/getOffsetRectRelativeToArbitraryNode.js","webpack://@flarum/core/../../src/utils/getViewportOffsetRectRelativeToArtbitraryNode.js","webpack://@flarum/core/../../src/utils/isFixed.js","webpack://@flarum/core/../../src/utils/getFixedPositionOffsetParent.js","webpack://@flarum/core/../../src/utils/getBoundaries.js","webpack://@flarum/core/../../src/utils/computeAutoPlacement.js","webpack://@flarum/core/../../src/utils/getReferenceOffsets.js","webpack://@flarum/core/../../src/utils/getOuterSizes.js","webpack://@flarum/core/../../src/utils/getOppositePlacement.js","webpack://@flarum/core/../../src/utils/getPopperOffsets.js","webpack://@flarum/core/../../src/utils/find.js","webpack://@flarum/core/../../src/utils/findIndex.js","webpack://@flarum/core/../../src/utils/runModifiers.js","webpack://@flarum/core/../../src/methods/update.js","webpack://@flarum/core/../../src/utils/isModifierEnabled.js","webpack://@flarum/core/../../src/utils/getSupportedPropertyName.js","webpack://@flarum/core/../../src/methods/destroy.js","webpack://@flarum/core/../../src/utils/getWindow.js","webpack://@flarum/core/../../src/utils/setupEventListeners.js","webpack://@flarum/core/../../src/methods/enableEventListeners.js","webpack://@flarum/core/../../src/utils/removeEventListeners.js","webpack://@flarum/core/../../src/methods/disableEventListeners.js","webpack://@flarum/core/../../src/utils/isNumeric.js","webpack://@flarum/core/../../src/utils/setStyles.js","webpack://@flarum/core/../../src/utils/setAttributes.js","webpack://@flarum/core/../../src/modifiers/applyStyle.js","webpack://@flarum/core/../../src/utils/getRoundedOffsets.js","webpack://@flarum/core/../../src/modifiers/computeStyle.js","webpack://@flarum/core/../../src/utils/isModifierRequired.js","webpack://@flarum/core/../../src/modifiers/arrow.js","webpack://@flarum/core/../../src/utils/getOppositeVariation.js","webpack://@flarum/core/../../src/methods/placements.js","webpack://@flarum/core/../../src/utils/clockwise.js","webpack://@flarum/core/../../src/modifiers/flip.js","webpack://@flarum/core/../../src/modifiers/keepTogether.js","webpack://@flarum/core/../../src/modifiers/offset.js","webpack://@flarum/core/../../src/modifiers/preventOverflow.js","webpack://@flarum/core/../../src/modifiers/shift.js","webpack://@flarum/core/../../src/modifiers/hide.js","webpack://@flarum/core/../../src/modifiers/inner.js","webpack://@flarum/core/../../src/modifiers/index.js","webpack://@flarum/core/../../src/methods/defaults.js","webpack://@flarum/core/../../src/index.js","webpack://@flarum/core/./node_modules/process/browser.js","webpack://@flarum/core/./node_modules/setimmediate/setImmediate.js","webpack://@flarum/core/./node_modules/spin.js/spin.js","webpack://@flarum/core/./node_modules/timers-browserify/main.js","webpack://@flarum/core/../../../popper/src/utils/isFunction.js","webpack://@flarum/core/(webpack)/buildin/amd-options.js","webpack://@flarum/core/(webpack)/buildin/global.js","webpack://@flarum/core/(webpack)/buildin/harmony-module.js","webpack://@flarum/core/(webpack)/buildin/module.js","webpack://@flarum/core/./node_modules/zepto/src/data.js","webpack://@flarum/core/./node_modules/zepto/src/fx.js","webpack://@flarum/core/./node_modules/zepto/src/fx_methods.js","webpack://@flarum/core/./node_modules/zepto/src/selector.js","webpack://@flarum/core/./src/common/Application.ts","webpack://@flarum/core/./src/common/Bus.ts","webpack://@flarum/core/./src/common/Component.ts","webpack://@flarum/core/./src/common/Model.ts","webpack://@flarum/core/./src/common/Session.ts","webpack://@flarum/core/./src/common/Store.ts","webpack://@flarum/core/./src/common/Translator.ts","webpack://@flarum/core/./src/common/compat.ts","webpack://@flarum/core/./src/common/components/Alert.tsx","webpack://@flarum/core/./src/common/components/Badge.tsx","webpack://@flarum/core/./src/common/components/Button.tsx","webpack://@flarum/core/./src/common/components/Dropdown.tsx","webpack://@flarum/core/./src/common/components/GroupBadge.ts","webpack://@flarum/core/./src/common/components/LinkButton.tsx","webpack://@flarum/core/./src/common/components/LoadingIndicator.tsx","webpack://@flarum/core/./src/common/components/SelectDropdown.tsx","webpack://@flarum/core/./src/common/components/Separator.tsx","webpack://@flarum/core/./src/common/extend.ts","webpack://@flarum/core/./src/common/helpers/avatar.tsx","webpack://@flarum/core/./src/common/helpers/highlight.ts","webpack://@flarum/core/./src/common/helpers/icon.tsx","webpack://@flarum/core/./src/common/helpers/listItems.tsx","webpack://@flarum/core/./src/common/helpers/username.tsx","webpack://@flarum/core/./src/common/index.ts","webpack://@flarum/core/./src/common/models/Discussion.tsx","webpack://@flarum/core/./src/common/models/Forum.ts","webpack://@flarum/core/./src/common/models/Group.ts","webpack://@flarum/core/./src/common/models/Post.ts","webpack://@flarum/core/./src/common/models/User.ts","webpack://@flarum/core/./src/common/utils/ItemList.ts","webpack://@flarum/core/./src/common/utils/RequestError.ts","webpack://@flarum/core/./src/common/utils/computed.ts","webpack://@flarum/core/./src/common/utils/extract.ts","webpack://@flarum/core/./src/common/utils/extractText.ts","webpack://@flarum/core/./src/common/utils/mapRoutes.ts","webpack://@flarum/core/./src/common/utils/patchMithril.ts","webpack://@flarum/core/./src/common/utils/patchZepto.ts","webpack://@flarum/core/./src/common/utils/string.ts","webpack://@flarum/core/./src/common/utils/stringToColor.ts","webpack://@flarum/core/./src/forum/Forum.ts","webpack://@flarum/core/./src/forum/compat.ts","webpack://@flarum/core/./src/forum/components/DiscussionsSearchSource.tsx","webpack://@flarum/core/./src/forum/components/HeaderPrimary.tsx","webpack://@flarum/core/./src/forum/components/HeaderSecondary.tsx","webpack://@flarum/core/./src/forum/components/IndexPage.tsx","webpack://@flarum/core/./src/forum/components/Search.tsx","webpack://@flarum/core/./src/forum/components/SearchSource.ts","webpack://@flarum/core/./src/forum/components/UsersSearchSource.tsx","webpack://@flarum/core/./src/forum/index.ts","webpack://@flarum/core/./src/forum/utils/History.ts","webpack://@flarum/core/./src/forum/utils/KeyboardNavigatable.ts","webpack://@flarum/core/external \"m\""],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_inheritsLoose","subClass","superClass","create","constructor","__proto__","global","factory","define","window","Zepto","undefined","$","classList","emptyArray","concat","filter","slice","document","elementDisplay","classCache","cssNumber","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","table","createElement","tableRow","containers","readyRE","simpleSelectorRE","class2type","toString","zepto","camelize","uniq","tempParent","propMap","isArray","Array","object","matches","element","selector","nodeType","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","match","parent","parentNode","temp","appendChild","qsa","indexOf","removeChild","type","obj","String","isFunction","value","isWindow","isDocument","DOCUMENT_NODE","isObject","isPlainObject","getPrototypeOf","likeArray","compact","array","item","flatten","fn","str","replace","chr","toUpperCase","dasherize","toLowerCase","idx","classRE","name","RegExp","maybeAddPx","defaultDisplay","nodeName","display","body","getComputedStyle","getPropertyValue","children","map","childNodes","node","Z","dom","len","fragment","html","properties","nodes","container","test","$1","innerHTML","each","attr","isZ","init","context","trim","find","ready","extend","deep","args","shift","forEach","arg","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","filtered","contains","documentElement","funcArg","payload","setAttribute","removeAttribute","className","klass","svg","baseVal","deserializeValue","parseJSON","e","isEmptyObject","isNumeric","val","num","Number","isNaN","isFinite","inArray","elem","camelCase","uuid","support","expr","noop","elements","callback","values","push","grep","JSON","parse","split","reduce","sort","splice","toArray","el","readyState","addEventListener","get","size","remove","every","not","add","is","excludes","has","eq","first","last","result","$this","some","closest","collection","_","parents","ancestors","pluck","contents","contentDocument","siblings","child","empty","property","show","style","replaceWith","newContent","before","wrap","structure","func","clone","index","wrapAll","cloneNode","append","wrapInner","self","unwrap","hide","css","toggle","setting","prev","next","originHtml","text","newText","textContent","join","getAttribute","removeAttr","attribute","prop","removeProp","data","attrName","multiple","selected","offset","coordinates","coords","parentOffset","offsetParent","props","top","left","getBoundingClientRect","pageXOffset","pageYOffset","width","Math","round","height","computedStyle","removeProperty","cssText","hasClass","addClass","cls","newName","removeClass","toggleClass","when","names","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","position","parseFloat","detach","dimension","dimensionProperty","m","traverseNode","fun","operator","operatorIndex","inside","argType","arr","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","src","ownerDocument","defaultView","_zid","isString","handlers","specialEvents","focusinSupported","focus","blur","hover","mouseenter","mouseleave","click","mousedown","mouseup","mousemove","zid","findHandlers","event","ns","matcher","matcherFor","handler","sel","parts","eventCapture","captureSetting","del","realEvent","events","delegator","capture","id","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","_args","preventDefault","stopPropagation","removeEventListener","proxyFn","unshift","TypeError","bind","on","unbind","off","one","returnTrue","returnFalse","ignoreProperties","eventMethods","stopImmediatePropagation","isDefaultPrevented","predicate","sourceMethod","timeStamp","Date","now","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","trigger","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","jsonpID","rscript","scriptTypeRE","xmlTypeRE","jsonType","htmlType","blankRE","originAnchor","href","location","triggerAndReturn","eventName","triggerGlobal","settings","active","ajaxStart","ajaxStop","ajaxBeforeSend","xhr","beforeSend","ajaxSuccess","deferred","status","success","resolveWith","ajaxComplete","ajaxError","error","rejectWith","complete","ajaxDataFilter","dataFilter","ajaxJSONP","options","ajax","_callbackName","jsonpCallback","callbackName","script","originalCallback","responseData","abort","errorType","abortTimeout","promise","clearTimeout","url","head","timeout","setTimeout","ajaxSettings","XMLHttpRequest","accepts","json","xml","crossDomain","processData","cache","mimeToDataType","mime","appendQuery","query","serializeData","param","traditional","dataType","Deferred","urlAnchor","hashIndex","protocol","host","hasPlaceholder","jsonp","headers","setHeader","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","contentType","onreadystatechange","getResponseHeader","responseType","response","responseText","eval","responseXML","statusText","async","open","username","password","xhrFields","send","parseArguments","post","getJSON","load","escape","encodeURIComponent","serialize","params","scope","hash","serializeArray","field","disabled","checked","elm","submit","nativeGetComputedStyle","pseudoElement","hasOwn","classNames","classes","inner","module","exports","default","t","n","r","s","u","a","o","h","f","c","d","z","utcOffset","abs","floor","year","month","ceil","p","M","y","w","ms","Q","weekdays","months","l","v","g","format","pl","date","D","locale","$L","utc","$u","$d","NaN","UTC","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","day","hour","minute","second","millisecond","unix","valueOf","getTime","toDate","$locale","weekStart","$set","min","daysInMonth","subtract","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","isDayjs","en","Ls","_package","bidi","tag","attrs","multi","onchange","selectedOptions","x","oninput","option","view","ctrl","hyperscript","require","request","mountRedraw","trust","mount","route","render","redraw","parseQueryString","buildQueryString","parsePathname","buildPathname","vnode","PromisePolyfill","_MAP","_KEYCODE_MAP","_SHIFT_MAP","_SPECIAL_ALIASES","navigator","platform","_REVERSE_MAP","_addEvent","attachEvent","_characterFromEvent","character","fromCharCode","which","shiftKey","_modifiersMatch","modifiers1","modifiers2","_eventModifiers","modifiers","altKey","ctrlKey","metaKey","_preventDefault","_stopPropagation","cancelBubble","_isModifier","_getReverseMap","_pickBestAction","action","_keysFromString","combination","_getKeyInfo","keys","_belongsTo","ancestor","Mousetrap","targetElement","_callbacks","_directMap","_sequenceLevels","_resetTimer","_ignoreNextKeyup","_ignoreNextKeypress","_nextExpectedAction","_resetSequences","doNotReset","activeSequences","_getMatches","sequenceName","level","seq","deleteCombo","combo","deleteSequence","_fireCallback","sequence","stopCallback","srcElement","_handleKey","callbacks","maxLevel","processedSequenceCallback","max","ignoreThisKeypress","_handleKeyEvent","keyCode","handleKey","_resetSequenceTimer","_bindSequence","_increaseSequence","nextAction","_callbackAndReset","isFinal","wrappedCallback","_bindSingle","info","_bindMultiple","combinations","reset","composedPath","initialEventTarget","tagName","isContentEditable","addKeycodes","documentMousetrap","method","charAt","backdrop","Dropdown","VERSION","getParent","$parent","clearMenus","isActive","insertAfter","keydown","desc","$items","Plugin","old","dropdown","Constructor","noConflict","jQuery","transitionEnd","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","end","emulateTransitionEnd","duration","called","$el","special","bsTransitionEnd","bindType","delegateType","handle","handleObj","LTS","LT","L","LL","LLL","LLLL","formats","relativeTime","future","past","yy","to","from","toNow","fromNow","Error","U","Y","bottom","bottomEnd","innerTop","innerSticker","stickyClass","stickTo","followScroll","responsive","mobileFirst","onStart","onStop","onBeforeResize","onResize","resizeDebounce","disable","queries","queryFlow","console","log","X","querySelector","Helpers","getStyle","innerWidth","stick","isAttached","attach","offsetLeft","release","stop","parseInt","positionLeft","marginLeft","b","S","k","E","T","j","O","C","getCascadedStyle","offsetHeight","right","verticalAlign","boxSizing","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","float","cssFloat","MozBoxSizing","offsetWidth","HTMLDocument","Document","clientHeight","scrollHeight","innerHeight","offsetTop","N","R","B","I","q","F","P","debounce","W","V","refresh","update","destroy","triggerMethod","reinit","hcSticky","defineProperty","writable","configurable","handleEvent","detachEvent","currentStyle","borderTopWidth","borderLeftWidth","margin","easeInOutQuad","_typeof","Symbol","iterator","jumper","start","easing","a11y","distance","timeStart","timeElapsed","loop","timeCurrent","requestAnimationFrame","done","jump","singleton","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","entries","clear","entry","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","getNative","root","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","arrayEach","iteratee","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","objectProto","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","arrayMap","baseAssignValue","assignValue","objValue","assocIndexOf","baseForOwn","createBaseEach","baseEach","createBaseFor","baseFor","castPath","toKey","baseGet","path","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","toStringTag","baseGetTag","isObjectLike","argsTag","baseIsArguments","isMasked","toSource","reRegExpChar","reIsHostCtor","funcProto","Function","funcToString","reIsNative","baseIsNative","pattern","isLength","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","isPrototype","nativeKeys","baseKeys","baseSet","customizer","lastIndex","nested","newValue","isSymbol","INFINITY","symbolProto","symbolToString","baseToString","baseUnary","identity","castFunction","isKey","stringToPath","coreJsData","isArrayLike","eachFunc","fromRight","iterable","keysFunc","freeGlobal","isKeyable","getMapData","__data__","getValue","nativeObjectToString","isOwn","unmasked","nativeCreate","HASH_UNDEFINED","MAX_SAFE_INTEGER","reIsUint","reIsDeepProp","reIsPlainProp","maskSrcKey","uid","exec","IE_PROTO","Ctor","proto","arrayProto","pop","memoize","MAX_MEMOIZE_SIZE","memoizeCapped","overArg","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","types","binding","transform","freeSelf","rePropName","reEscapeChar","string","charCodeAt","number","quote","subString","other","defaultValue","propertyIsEnumerable","stubFalse","Buffer","nativeIsBuffer","asyncTag","genTag","proxyTag","symbolTag","nodeIsTypedArray","FUNC_ERROR_TEXT","resolver","memoized","Cache","Vnode","schedule","subscriptions","rendering","pending","sync","component","Promise","compileTemplate","sentinel","$window","fireAsync","setPath","state","title","history","replaceState","prefix","pushState","currentResolver","currentPath","lastUpdate","SKIP","defaultRoute","routes","compiled","SyntaxError","check","callAsync","setImmediate","resolve","scheduled","onremove","defaultData","ReferenceError","resolveRoute","search","pathname","decodeURIComponent","fail","matchedRoute","localComp","comp","onmatch","then","onbeforeupdate","oncreate","Link","onclick","oninit","onupdate","onbeforeremove","Boolean","button","template","queryIndex","queryEnd","pathEnd","resolved","variadic","newQueryIndex","newHashIndex","newQueryEnd","newPathEnd","querystring","templateData","templateKeys","regexp","extra","executor","resolvers","rejectors","resolveCurrent","rejectCurrent","instance","_instance","list","shouldAbsorb","execute","executeOnce","retry","runs","run","onerror","onFulfilled","onRejection","resolveNext","rejectNext","reject","catch","finally","reason","all","total","count","consume","race","destructure","counters","levels","cursor","nextLevel","isNumber","getOwnPropertyDescriptor","hyperscriptVnode","normalizeChildren","selectorParser","selectorCache","isEmpty","compileSelector","attrValue","execSelector","class","newAttrs","$doc","currentRedraw","nameSpace","math","getNameSpace","xmlns","checkState","original","callHook","activeElement","createNodes","vnodes","hooks","createNode","initLifecycle","createText","createHTML","createFragment","createComponent","createTextNode","insertNode","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","domSize","createDocumentFragment","createElementNS","setAttrs","maybeSetContentEditable","setLateSelectAttrs","initComponent","$$reentrantLock$$","normalize","updateNodes","removeNodes","isOldKeyed","isKeyed","oldStart","commonLength","getNextSibling","removeNode","updateNode","oldEnd","oe","ve","topSibling","moveNodes","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","lisIndices","getKeyMap","oldIndex","makeLisIndices","oldTag","shouldNotUpdate","updateLifecycle","updateText","updateHTML","updateFragment","updateElement","updateComponent","nodeValue","removeHTML","updateAttrs","lisTemp","il","frag","moveChildToFrag","contenteditable","contentEditable","content","mask","stateResult","attrsResult","reallyRemove","setAttr","isLifecycleMethod","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","selectedIndex","nsLastIndex","normalized","uppercaseRegex","capital","normalizeKey","setProperty","EventDict","ev","force","namespace","namespaceURI","prevRedraw","input","oncompletion","callbackCount","PromiseProxy","makeRequest","background","hasHeader","assumeJSON","FormData","extract","aborted","replacedAbort","user","deserialize","withCredentials","message","code","config","stringify","random","callbackKey","Stream","lift","scan","merge","combine","scanMerge","warnedHalt","dependentStreams","dependentFns","stream","_changing","_state","_parents","_map","ignoreInitial","createEnd","_unregisterChild","s1","s2","childIndex","streams","changed","mappers","endStream","mapper","acc","origin","tuples","seed","tuple","longerTimeoutBrowsers","timeoutDuration","isBrowser","supportsMicroTasks","getType","functionToCheck","getStyleComputedProperty","overflow","overflowX","overflowY","getScrollParent","getParentNode","isIE11","isIE10","version","noOffsetParent","isIE","getOffsetParent","getRoot","element1","element2","order","Node","range","commonAncestorContainer","isOffsetContainer","element1root","findCommonOffsetParent","side","upperSide","scrollingElement","getScroll","modifier","sideA","axis","sideB","styles","getSize","offsets","rect","sizes","getWindowSizes","horizScrollbar","vertScrollbar","getBordersSize","getClientRect","fixedPosition","runIsIE","isHTML","childrenRect","parentRect","scrollParent","includeScroll","excludeScroll","relativeOffset","getOffsetRectRelativeToArbitraryNode","isFixed","boundaries","getFixedPositionOffsetParent","boundariesElement","getViewportOffsetRectRelativeToArtbitraryNode","boundariesNode","popper","padding","isPaddingNumber","placement","getBoundaries","rects","refRect","sortedAreas","getArea","filteredAreas","computedPlacement","variation","commonOffsetParent","popperRect","getOuterSizes","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","referenceOffsets","getOppositePlacement","cur","modifiersToRun","ends","findIndex","getReferenceOffsets","computeAutoPlacement","getPopperOffsets","runModifiers","enabled","prefixes","upperProp","toCheck","isModifierEnabled","getSupportedPropertyName","isBody","passive","scrollElement","setupEventListeners","removeEventListeners","unit","attributes","reference","noRound","referenceWidth","popperWidth","isVertical","isVariation","sameWidthParity","bothOddWidth","horizontalToInteger","verticalToInteger","isFirefox","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","getRoundedOffsets","prefixedProperty","invertTop","invertLeft","requesting","isRequired","requested","isModifierRequired","arrowElement","sideCapitalized","altSide","opSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","validPlacements","placements","counter","BEHAVIORS","placementOpposite","flipOrder","clockwise","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariationByRef","flippedVariationByContent","flippedVariation","getOppositeVariation","useHeight","fragments","divider","splitRegex","ops","mergeWithPrevious","toValue","op","index2","basePlacement","parseOffset","transformProp","popperStyles","shiftvariation","shiftOffsets","bound","subtractLength","keepTogether","Popper","modifierOptions","eventsEnabled","enableEventListeners","disableEventListeners","Utils","PopperUtils","Defaults","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","nextTick","Item","browser","env","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","cwd","chdir","dir","umask","nextHandle","tasksByHandle","currentlyRunningATask","doc","registerImmediate","task","clearImmediate","runIfPresent","installNextTickImplementation","canUsePostMessage","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","installPostMessageImplementation","messagePrefix","onGlobalMessage","installMessageChannelImplementation","channel","MessageChannel","port1","port2","installReadyStateChangeImplementation","installSetTimeoutImplementation","attachTo","__assign","defaults","lines","radius","scale","corners","color","fadeColor","animation","rotate","direction","speed","zIndex","shadow","Spinner","opts","spin","drawLines","cancelAnimationFrame","animateId","getColor","borderRadius","shadows","parseBoxShadow","degrees","backgroundLine","transformOrigin","delay","line","boxShadow","normalizeShadow","regex","_i","_a","xUnits","yUnits","shadows_1","xy","convertOffset","radians","PI","sin","cos","Timeout","setInterval","clearInterval","close","clearFn","_id","_clearFn","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","onTimeout","_onTimeout","DEFAULT_OPTIONS","Tooltip","allowHtml","tooltipGenerator","tooltipNode","titleNode","titleText","arrowSelector","directEvents","oppositeEvents","computedDelay","isSet","lastTitle","dispose","updateTitleContent","_events","_setTooltipNodeEvent","relatedreference","relatedreference2","evt2","originalModule","webpackPolyfill","enumerable","deprecate","paths","dataAttr","exp","expando","getData","store","setData","camelName","attributeData","hasData","removeData","methodName","origFn","eventPrefix","vendors","Webkit","Moz","testEl","supportedTransforms","transitionProperty","transitionDuration","transitionTiming","transitionDelay","animationName","animationDuration","animationTiming","animationDelay","cssReset","normalizeEvent","vendor","fx","speeds","_default","fast","slow","cssPrefix","animationEnd","animate","ease","anim","cssValues","cssProperties","transforms","that","endEvent","fired","clientLeft","docElem","origShow","origHide","origToggle","opacity","fadeTo","fadeIn","fadeOut","fadeToggle","oldQsa","oldMatches","visible","filters","hidden","filterRe","childRe","classTag","taggedParent","Application","forum","translator","Translator","bus","Bus","session","Store","forums","Forum","users","User","discussions","Discussion","posts","Post","groups","Group","titleCount","requestError","basePath","mapRoutes","boot","pushPayload","resources","getById","Session","userId","csrfToken","plugins","setupRoutes","dispatch","preloadedApiDocument","apiDocument","results","setTitle","updateTitle","setTitleCount","queryString","originalOptions","errorHandler","RequestError","app","errors","detail","trans","alert","Alert","subscribers","subscribe","callable","listener","Component","setProps","$element","componentProps","initProps","Model","freshness","exists","pushData","innerKey","getIdentifier","pushAttributes","save","relationships","model","oldData","copyData","meta","apiEndpoint","lazyRedraw","delete","hasOne","relationship","hasMany","transformDate","login","logout","models","included","pushObject","createRecord","getBy","records","translations","addTranslations","parameters","translation","hydrated","part","controls","dismissible","ondismiss","dismissControl","listItems","Badge","iconName","icon","label","tooltip","Button","extractText","loading","getButtonContent","LoadingIndicator","showing","buttonClassName","menuClassName","caretIcon","items","getButton","getMenu","onshow","$menu","isRight","onhide","GroupBadge","group","backgroundColor","nameSingular","LinkButton","vdom","sizeOptions","SelectDropdown","activeChild","defaultLabel","Separator","isListItem","override","newMethod","avatar","hasTitle","displayName","avatarUrl","highlight","phrase","highlighted","truncate","fontClass","isSeparator","withoutUnnecessarySeparators","newItems","prevItem","itemClassName","itemName","dayjs","localizedFormat","patchMithril","slug","createdAt","firstPost","lastPostedAt","lastPostedUser","lastPost","lastPostNumber","commentCount","replyCount","computed","mostRelevantPost","lastReadAt","lastReadPostNumber","isUnread","unreadCount","isRead","hiddenAt","hiddenUser","isHidden","canReply","canRename","canHide","canDelete","removePost","markedAllAsReadAt","badges","ItemList","postIds","link","namePlural","ADMINISTRATOR_ID","GUEST_ID","MEMBER_ID","discussion","contentHtml","contentPlain","getPlainContent","editedAt","editedUser","isEdited","canEdit","email","isEmailConfirmed","preferences","joinTime","lastSeenAt","unreadNotificationCount","newNotificationCount","discussionCount","avatarColor","calculateAvatarColor","stringToColor","isOnline","image","Image","onload","colorThief","ColorThief","savePreferences","newPreferences","priority","dependentKeys","compute","dependentValues","computedValue","recompute","routeName","withAttr","cb","includes","Dimension","sides","leave","animatedScrollTop","bindBeforeSpecialEvents","specialEvent","_init","originalHandler","$target","setup","substring","removeSelectors","ucfirst","hsvToRgb","hue","rgb","IndexPage","History","defaultAction","HeaderPrimary","HeaderSecondary","home","near","compat","DiscussionsSearchSource","page","limit","include","SearchSource","Search","locales","reload","cookie","modal","SignUpModal","LogInModal","hasFocus","sources","loadingSources","searched","searchTimeout","currentSearch","getCurrentSearch","sourceItems","focused","setIndex","getCurrentNumericIndex","selectableItems","$input","KeyboardNavigatable","onUp","onDown","onSelect","selectResult","onCancel","bindTo","select","current","searching","getItem","clearSearch","UsersSearchSource","$item","scrollToItem","$dropdown","fixedIndex","dropdownScroll","dropdownTop","dropdownBottom","outerHeight","itemTop","itemBottom","lastIndexOf","localeCompare","extensions","flarum","extension","stack","getCurrent","getPrevious","secondTop","canGoBack","back","backUrl","whenCallback","onRemove","selectionStart","selectionEnd","navigate","keyCallback"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.ts\");\n","/*\r\n * This file is part of Flarum.\r\n *\r\n * (c) Toby Zerner <toby.zerner@gmail.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nexport * from './src/common';\r\nexport * from './src/forum';","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n/* Zepto v1.2.0 - zepto event ajax form ie - zeptojs.com/license */\n(function(global, factory) {\n  if (typeof define === 'function' && define.amd)\n    define(function() { return factory(global) })\n  else\n    factory(global)\n}(this, function(window) {\n  var Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.matches || element.webkitMatchesSelector ||\n                          element.mozMatchesSelector || element.oMatchesSelector ||\n                          element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n      type = $.type(obj)\n\n    return 'function' != type && !isWindow(obj) && (\n      'array' == type || length === 0 ||\n        (typeof length == 'number' && length > 0 && (length - 1) in obj)\n    )\n  }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.isNumeric = function(val) {\n    var num = Number(val), type = typeof val\n    return val != null && type != 'boolean' &&\n      (type != 'string' || val.length) &&\n      !isNaN(num) && isFinite(num) || false\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n  $.noop = function() {}\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function(){\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var nodes = [], collection = typeof selector == 'object' && $(selector)\n      this.each(function(_, node){\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n          node = node !== context && !isDocument(node) && node.parentNode\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\n      })\n      return $(nodes)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this.pluck('textContent').join(\"\") : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    removeProp: function(name){\n      name = propMap[name] || name\n      return this.each(function(){ delete this[name] })\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      if (0 in arguments) {\n        if (value == null) value = \"\"\n        return this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n      } else {\n        return this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n      }\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\n        return {top: 0, left: 0}\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0]\n        if (typeof property == 'string') {\n          if (!element) return\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\n        } else if (isArray(property)) {\n          if (!element) return\n          var props = {}\n          var computedStyle = getComputedStyle(element, '')\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            var arr = []\n            argType = type(arg)\n            if (argType == \"array\") {\n              arg.forEach(function(el) {\n                if (el.nodeType !== undefined) return arr.push(el)\n                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\n                arr = arr.concat(zepto.fragment(el))\n              })\n              return arr\n            }\n            return argType == \"object\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src){\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window\n              target['eval'].call(target, el.innerHTML)\n            }\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      event.timeStamp || (event.timeStamp = Date.now())\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = +new Date(),\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  function ajaxDataFilter(data, type, settings) {\n    if (settings.dataFilter == empty) return data\n    var context = settings.context\n    return settings.dataFilter.call(context, data, type)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('Zepto' + (jsonpID++)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true,\n    //Used to handle the raw response data of XMLHttpRequest.\n    //This is a pre-filtering function to sanitize the response.\n    //The sanitized response should be returned\n    dataFilter: empty\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor, hashIndex\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n      // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex)\n    serializeData(settings)\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n         (!options || options.cache !== true) &&\n         ('script' == dataType || 'jsonp' == dataType)\n        ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n\n          if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob')\n            result = xhr.response\n          else {\n            result = xhr.responseText\n\n            try {\n              // http://perfectionkills.com/global-eval-what-are-the-options/\n              // sanitize response accordingly if data filter callback provided\n              result = ajaxDataFilter(result, dataType, settings)\n              if (dataType == 'script')    (1,eval)(result)\n              else if (dataType == 'xml')  result = xhr.responseXML\n              else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n            } catch (e) { error = e }\n\n            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred)\n          }\n\n          ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({ name: name, value: value })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field){\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n          add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function(){\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle\n    window.getComputedStyle = function(element, pseudoElement){\n      try {\n        return nativeGetComputedStyle(element, pseudoElement)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})()\n  return Zepto\n}))\n\n}.call(window));","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs=n()}(this,function(){\"use strict\";var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",a=\"quarter\",o=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,h:r,m:e,s:n,ms:t,Q:a}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return e||(l=r),r},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",o)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,a){var h=this,f=!!D.u(a)||a,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case o:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,a){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[o]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(a-this.$W):a;if(f===u||f===o){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,a){var h,f=this;t=Number(t);var c=D.p(a),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.valueOf()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return\"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:D.s(a+1,2,\"0\"),MMM:c(i.monthsShort,a,h,3),MMMM:h[a]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,o,2),ddd:c(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[o]=y/12,c[u]=y,c[a]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone();return e.$L=M(t,n,!0),e},d.clone=function(){return D.w(this.toDate(),this)},d.toDate=function(){return new Date(this.$d)},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","( function _package( factory ){\r\n\tif( typeof define === 'function' && define.amd ){\r\n\t\tdefine( [ 'mithril' ], factory )\r\n\t}\r\n\telse if( typeof exports === 'object' ){\r\n\t\tmodule.exports = factory( require( 'mithril' ) )\r\n\t}\r\n\telse{\r\n\t\tfactory( m )\r\n\t}\r\n}( function define( m ){\r\n\tfunction bidi( node, prop ){\r\n\t\tvar type = node.tag === 'select'\r\n\t\t\t? node.attrs.multi\r\n\t\t\t\t? 'multi'\r\n\t\t\t\t: 'select'\r\n\t\t\t: node.attrs.type\r\n\r\n\t\t// Setup: bind listeners\r\n\t\tif( type === 'multi' ){\r\n\t\t\tnode.attrs.onchange = function(){\r\n\t\t\t\tprop( [].slice.call( this.selectedOptions, function( x ){\r\n\t\t\t\t\treturn x.value\r\n\t\t\t\t} ) )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if( type === 'select' ){\r\n\t\t\tnode.attrs.onchange = function( e ){\r\n\t\t\t\tprop( this.selectedOptions[ 0 ].value )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if( type === 'checkbox' ){\r\n\t\t\tnode.attrs.onchange = function( e ){\r\n\t\t\t\tprop( this.checked )\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnode.attrs.onchange = node.attrs.oninput = function( e ){\r\n\t\t\t\tprop( this.value )\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif( node.tag === 'select' ){\r\n\t\t\tnode.children.forEach( function( option ){\r\n\t\t\t\tif( option.attrs.value === prop() || option.children[ 0 ] === prop() ){\r\n\t\t\t\t\toption.attrs.selected = true\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t}\r\n\t\telse if( type === 'checkbox' ){\r\n\t\t\tnode.attrs.checked = prop()\r\n\t\t}\r\n\t\telse if( type === 'radio' ){\r\n\t\t\tnode.attrs.checked = prop() === node.attrs.value\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnode.attrs.value   = prop()\r\n\t\t}\r\n\r\n\t\treturn node\r\n\t}\r\n\r\n\tbidi.view = function( ctrl, node, prop ){\r\n\t  return bidi( node, node.attrs.bidi )\r\n\t}\r\n\r\n\tif( m.attrs ) m.attrs.bidi = bidi\r\n\t\r\n\tm.bidi = bidi\r\n\r\n\treturn bidi\r\n} ) )\r\n","\"use strict\"\n\nvar hyperscript = require(\"./hyperscript\")\nvar request = require(\"./request\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\nm.mount = mountRedraw.mount\nm.route = require(\"./route\")\nm.render = require(\"./render\")\nm.redraw = mountRedraw.redraw\nm.request = request.request\nm.jsonp = request.jsonp\nm.parseQueryString = require(\"./querystring/parse\")\nm.buildQueryString = require(\"./querystring/build\")\nm.parsePathname = require(\"./pathname/parse\")\nm.buildPathname = require(\"./pathname/build\")\nm.vnode = require(\"./render/vnode\")\nm.PromisePolyfill = require(\"./promise/polyfill\")\n\nmodule.exports = m\n","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.3\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // Events originating from a shadow DOM are re-targetted and `e.target` is the shadow host,\n        // not the initial event target in the shadow tree. Note that not all events cross the\n        // shadow boundary.\n        // For shadow trees with `mode: 'open'`, the initial event target is the first element in\n        // the event’s composed path. For shadow trees with `mode: 'closed'`, the initial event\n        // target cannot be obtained.\n        if ('composedPath' in e && typeof e.composedPath === 'function') {\n            // For open shadow trees, update `element` so that the following check works.\n            var initialEventTarget = e.composedPath()[0];\n            if (initialEventTarget !== e.target) {\n                element = initialEventTarget;\n            }\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n","/* ========================================================================\n * Bootstrap: dropdown.js v3.4.1\n * https://getbootstrap.com/docs/3.4/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2019 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.4.1'\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector !== '#' ? $(document).find(selector) : null\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))\n    })\n  }\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $(document.createElement('div'))\n          .addClass('dropdown-backdrop')\n          .insertAfter($(this))\n          .on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger($.Event('shown.bs.dropdown', relatedTarget))\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('.dropdown-menu' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--         // up\n    if (e.which == 40 && index < $items.length - 1) index++         // down\n    if (!~index)                                    index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: transition.js v3.4.1\n * https://getbootstrap.com/docs/3.4/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2019 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: https://modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // https://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.dayjs_plugin_localizedFormat=t()}(this,function(){\"use strict\";return function(e,t,o){var n=t.prototype,r=n.format,M={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};o.en.formats=M;n.format=function(e){void 0===e&&(e=\"YYYY-MM-DDTHH:mm:ssZ\");var t=this.$locale().formats,o=void 0===t?{}:t,n=e.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,t,n){var r=n&&n.toUpperCase();return t||o[n]||M[n]||o[r].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,o){return t||o.slice(1)})});return r.call(this,n)}}});\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){var n=t.prototype;e.en.relativeTime={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};var o=function(r,t,n,o){for(var d,i,u=n.$locale().relativeTime,a=[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],f=a.length,s=0;s<f;s+=1){var l=a[s];l.d&&(d=o?e(r).diff(n,l.d,!0):n.diff(r,l.d,!0));var h=Math.round(Math.abs(d));if(h<=l.r||!l.r){1===h&&s>0&&(l=a[s-1]),i=u[l.l].replace(\"%d\",h);break}}return t?i:(d>0?u.future:u.past).replace(\"%s\",i)};n.to=function(r,t){return o(r,t,this,!0)},n.from=function(r,t){return o(r,t,this)};var d=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}});\n","module.exports = global[\"Mousetrap\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\mousetrap.js\");","module.exports = global[\"classNames\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\index.js\");","module.exports = global[\"dayjs\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\dayjs.min.js\");","module.exports = global[\"jQuery\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\imports-loader\\\\index.js?this=>window!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\zepto.js\");","module.exports = global[\"m\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\index.js\");","if(!global[\"m\"]) global[\"m\"] = {};\nmodule.exports = global[\"m\"][\"bidi\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\bidi.js\");","module.exports = global[\"moment\"] = require(\"-!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\expose-loader\\\\index.js?dayjs!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js??ref--5!E:\\\\sites\\\\flarum-new\\\\packages\\\\flarum-core\\\\js\\\\node_modules\\\\source-map-loader\\\\index.js!.\\\\dayjs.min.js\");","/*!\n * HC-Sticky\n * =========\n * Version: 2.2.3\n * Author: Some Web Media\n * Author URL: http://somewebmedia.com\n * Plugin URL: https://github.com/somewebmedia/hc-sticky\n * Description: Cross-browser plugin that makes any element on your page visible while you scroll\n * License: MIT\n */\n!function(t,e){\"use strict\";if(\"object\"==typeof module&&\"object\"==typeof module.exports){if(!t.document)throw new Error(\"HC-Sticky requires a browser to run.\");module.exports=e(t)}else\"function\"==typeof define&&define.amd?define(\"hcSticky\",[],e(t)):e(t)}(\"undefined\"!=typeof window?window:this,function(U){\"use strict\";var Y={top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,stickyClass:\"sticky\",stickTo:null,followScroll:!0,responsive:null,mobileFirst:!1,onStart:null,onStop:null,onBeforeResize:null,onResize:null,resizeDebounce:100,disable:!1,queries:null,queryFlow:\"down\"},$=function(t,e,o){console.log(\"%c! HC Sticky:%c \"+t+\"%c \"+o+\" is now deprecated and will be removed. Use%c \"+e+\"%c instead.\",\"color: red\",\"color: darkviolet\",\"color: black\",\"color: darkviolet\",\"color: black\")},Q=U.document,X=function(n,f){var o=this;if(\"string\"==typeof n&&(n=Q.querySelector(n)),!n)return!1;f.queries&&$(\"queries\",\"responsive\",\"option\"),f.queryFlow&&$(\"queryFlow\",\"mobileFirst\",\"option\");var p={},d=X.Helpers,s=n.parentNode;\"static\"===d.getStyle(s,\"position\")&&(s.style.position=\"relative\");var u=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d.isEmptyObject(t)&&!d.isEmptyObject(p)||(p=Object.assign({},Y,p,t))},t=function(){return p.disable},e=function(){var t,e=p.responsive||p.queries;if(e){var o=U.innerWidth;if(t=f,(p=Object.assign({},Y,t||{})).mobileFirst)for(var i in e)i<=o&&!d.isEmptyObject(e[i])&&u(e[i]);else{var n=[];for(var s in e){var r={};r[s]=e[s],n.push(r)}for(var l=n.length-1;0<=l;l--){var a=n[l],c=Object.keys(a)[0];o<=c&&!d.isEmptyObject(a[c])&&u(a[c])}}}},r={css:{},position:null,stick:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d.hasClass(n,p.stickyClass)||(!1===l.isAttached&&l.attach(),r.position=\"fixed\",n.style.position=\"fixed\",n.style.left=l.offsetLeft+\"px\",n.style.width=l.width,void 0===t.bottom?n.style.bottom=\"auto\":n.style.bottom=t.bottom+\"px\",void 0===t.top?n.style.top=\"auto\":n.style.top=t.top+\"px\",n.classList?n.classList.add(p.stickyClass):n.className+=\" \"+p.stickyClass,p.onStart&&p.onStart.call(n,Object.assign({},p)))},release:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t.stop=t.stop||!1,!0===t.stop||\"fixed\"===r.position||null===r.position||!(void 0===t.top&&void 0===t.bottom||void 0!==t.top&&(parseInt(d.getStyle(n,\"top\"))||0)===t.top||void 0!==t.bottom&&(parseInt(d.getStyle(n,\"bottom\"))||0)===t.bottom)){!0===t.stop?!0===l.isAttached&&l.detach():!1===l.isAttached&&l.attach();var e=t.position||r.css.position;r.position=e,n.style.position=e,n.style.left=!0===t.stop?r.css.left:l.positionLeft+\"px\",n.style.width=\"absolute\"!==e?r.css.width:l.width,void 0===t.bottom?n.style.bottom=!0===t.stop?\"\":\"auto\":n.style.bottom=t.bottom+\"px\",void 0===t.top?n.style.top=!0===t.stop?\"\":\"auto\":n.style.top=t.top+\"px\",n.classList?n.classList.remove(p.stickyClass):n.className=n.className.replace(new RegExp(\"(^|\\\\b)\"+p.stickyClass.split(\" \").join(\"|\")+\"(\\\\b|$)\",\"gi\"),\" \"),p.onStop&&p.onStop.call(n,Object.assign({},p))}}},l={el:Q.createElement(\"div\"),offsetLeft:null,positionLeft:null,width:null,isAttached:!1,init:function(){for(var t in l.el.className=\"sticky-spacer\",r.css)l.el.style[t]=r.css[t];l.el.style[\"z-index\"]=\"-1\";var e=d.getStyle(n);l.offsetLeft=d.offset(n).left-(parseInt(e.marginLeft)||0),l.positionLeft=d.position(n).left,l.width=d.getStyle(n,\"width\")},attach:function(){s.insertBefore(l.el,n),l.isAttached=!0},detach:function(){l.el=s.removeChild(l.el),l.isAttached=!1}},a=void 0,c=void 0,g=void 0,m=void 0,h=void 0,v=void 0,y=void 0,b=void 0,S=void 0,w=void 0,k=void 0,E=void 0,x=void 0,L=void 0,T=void 0,j=void 0,O=void 0,C=void 0,i=function(){var t,e,o,i;r.css=(t=n,e=d.getCascadedStyle(t),o=d.getStyle(t),i={height:t.offsetHeight+\"px\",left:e.left,right:e.right,top:e.top,bottom:e.bottom,position:o.position,display:o.display,verticalAlign:o.verticalAlign,boxSizing:o.boxSizing,marginLeft:e.marginLeft,marginRight:e.marginRight,marginTop:e.marginTop,marginBottom:e.marginBottom,paddingLeft:e.paddingLeft,paddingRight:e.paddingRight},e.float&&(i.float=e.float||\"none\"),e.cssFloat&&(i.cssFloat=e.cssFloat||\"none\"),o.MozBoxSizing&&(i.MozBoxSizing=o.MozBoxSizing),i.width=\"auto\"!==e.width?e.width:\"border-box\"===i.boxSizing||\"border-box\"===i.MozBoxSizing?t.offsetWidth+\"px\":o.width,i),l.init(),a=!(!p.stickTo||!(\"document\"===p.stickTo||p.stickTo.nodeType&&9===p.stickTo.nodeType||\"object\"==typeof p.stickTo&&p.stickTo instanceof(\"undefined\"!=typeof HTMLDocument?HTMLDocument:Document))),c=p.stickTo?a?Q:\"string\"==typeof p.stickTo?Q.querySelector(p.stickTo):p.stickTo:s,T=(C=function(){var t=n.offsetHeight+(parseInt(r.css.marginTop)||0)+(parseInt(r.css.marginBottom)||0),e=(T||0)-t;return-1<=e&&e<=1?T:t})(),m=(O=function(){return a?Math.max(Q.documentElement.clientHeight,Q.body.scrollHeight,Q.documentElement.scrollHeight,Q.body.offsetHeight,Q.documentElement.offsetHeight):c.offsetHeight})(),h=a?0:d.offset(c).top,v=p.stickTo?a?0:d.offset(s).top:h,y=U.innerHeight,j=n.offsetTop-(parseInt(r.css.marginTop)||0),g=p.innerSticker?\"string\"==typeof p.innerSticker?Q.querySelector(p.innerSticker):p.innerSticker:null,b=isNaN(p.top)&&-1<p.top.indexOf(\"%\")?parseFloat(p.top)/100*y:p.top,S=isNaN(p.bottom)&&-1<p.bottom.indexOf(\"%\")?parseFloat(p.bottom)/100*y:p.bottom,w=g?g.offsetTop:p.innerTop?p.innerTop:0,k=isNaN(p.bottomEnd)&&-1<p.bottomEnd.indexOf(\"%\")?parseFloat(p.bottomEnd)/100*y:p.bottomEnd,E=h-b+w+j},z=U.pageYOffset||Q.documentElement.scrollTop,N=0,H=void 0,R=function(){T=C(),m=O(),x=h+m-b-k,L=y<T;var t=U.pageYOffset||Q.documentElement.scrollTop,e=d.offset(n).top,o=e-t,i=void 0;H=t<z?\"up\":\"down\",N=t-z,E<(z=t)?x+b+(L?S:0)-(p.followScroll&&L?0:b)<=t+T-w-(y-(E-w)<T-w&&p.followScroll&&0<(i=T-y-w)?i:0)?r.release({position:\"absolute\",bottom:v+s.offsetHeight-x-b}):L&&p.followScroll?\"down\"===H?o+T+S<=y+.9?r.stick({bottom:S}):\"fixed\"===r.position&&r.release({position:\"absolute\",top:e-b-E-N+w}):Math.ceil(o+w)<0&&\"fixed\"===r.position?r.release({position:\"absolute\",top:e-b-E+w-N}):t+b-w<=e&&r.stick({top:b-w}):r.stick({top:b-w}):r.release({stop:!0})},A=!1,B=!1,I=function(){A&&(d.event.unbind(U,\"scroll\",R),A=!1)},q=function(){null!==n.offsetParent&&\"none\"!==d.getStyle(n,\"display\")?(i(),m<=T?I():(R(),A||(d.event.bind(U,\"scroll\",R),A=!0))):I()},F=function(){n.style.position=\"\",n.style.left=\"\",n.style.top=\"\",n.style.bottom=\"\",n.style.width=\"\",n.classList?n.classList.remove(p.stickyClass):n.className=n.className.replace(new RegExp(\"(^|\\\\b)\"+p.stickyClass.split(\" \").join(\"|\")+\"(\\\\b|$)\",\"gi\"),\" \"),r.css={},!(r.position=null)===l.isAttached&&l.detach()},M=function(){F(),e(),t()?I():q()},D=function(){p.onBeforeResize&&p.onBeforeResize.call(n,Object.assign({},p)),M(),p.onResize&&p.onResize.call(n,Object.assign({},p))},P=p.resizeDebounce?d.debounce(D,p.resizeDebounce):D,W=function(){B&&(d.event.unbind(U,\"resize\",P),B=!1),I()},V=function(){B||(d.event.bind(U,\"resize\",P),B=!0),e(),t()?I():q()};this.options=function(t){return t?p[t]:Object.assign({},p)},this.refresh=M,this.update=function(t){u(t),f=Object.assign({},f,t||{}),M()},this.attach=V,this.detach=W,this.destroy=function(){W(),F()},this.triggerMethod=function(t,e){\"function\"==typeof o[t]&&o[t](e)},this.reinit=function(){$(\"reinit\",\"refresh\",\"method\"),M()},u(f),V(),d.event.bind(U,\"load\",M)};if(void 0!==U.jQuery){var i=U.jQuery,n=\"hcSticky\";i.fn.extend({hcSticky:function(e,o){return this.length?\"options\"===e?i.data(this.get(0),n).options():this.each(function(){var t=i.data(this,n);t?t.triggerMethod(e,o):(t=new X(this,e),i.data(this,n,t))}):this}})}return U.hcSticky=U.hcSticky||X,X}),function(c){\"use strict\";var t=c.hcSticky,f=c.document;\"function\"!=typeof Object.assign&&Object.defineProperty(Object,\"assign\",{value:function(t,e){if(null==t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var o=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o},writable:!0,configurable:!0}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var e,o;if(null==this)throw new TypeError(\"this is null or not defined\");var i=Object(this),n=i.length>>>0;if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");for(1<arguments.length&&(e=arguments[1]),o=0;o<n;){var s;o in i&&(s=i[o],t.call(e,s,o,i)),o++}});var e=function(){var t=f.documentElement,e=function(){};function i(t){var e=c.event;return e.target=e.target||e.srcElement||t,e}t.addEventListener?e=function(t,e,o){t.addEventListener(e,o,!1)}:t.attachEvent&&(e=function(e,t,o){e[t+o]=o.handleEvent?function(){var t=i(e);o.handleEvent.call(o,t)}:function(){var t=i(e);o.call(e,t)},e.attachEvent(\"on\"+t,e[t+o])});var o=function(){};return t.removeEventListener?o=function(t,e,o){t.removeEventListener(e,o,!1)}:t.detachEvent&&(o=function(e,o,i){e.detachEvent(\"on\"+o,e[o+i]);try{delete e[o+i]}catch(t){e[o+i]=void 0}}),{bind:e,unbind:o}}(),r=function(t,e){return c.getComputedStyle?e?f.defaultView.getComputedStyle(t,null).getPropertyValue(e):f.defaultView.getComputedStyle(t,null):t.currentStyle?e?t.currentStyle[e.replace(/-\\w/g,function(t){return t.toUpperCase().replace(\"-\",\"\")})]:t.currentStyle:void 0},l=function(t){var e=t.getBoundingClientRect(),o=c.pageYOffset||f.documentElement.scrollTop,i=c.pageXOffset||f.documentElement.scrollLeft;return{top:e.top+o,left:e.left+i}};t.Helpers={isEmptyObject:function(t){for(var e in t)return!1;return!0},debounce:function(i,n,s){var r=void 0;return function(){var t=this,e=arguments,o=s&&!r;clearTimeout(r),r=setTimeout(function(){r=null,s||i.apply(t,e)},n),o&&i.apply(t,e)}},hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp(\"(^| )\"+e+\"( |$)\",\"gi\").test(t.className)},offset:l,position:function(t){var e=t.offsetParent,o=l(e),i=l(t),n=r(e),s=r(t);return o.top+=parseInt(n.borderTopWidth)||0,o.left+=parseInt(n.borderLeftWidth)||0,{top:i.top-o.top-(parseInt(s.marginTop)||0),left:i.left-o.left-(parseInt(s.marginLeft)||0)}},getStyle:r,getCascadedStyle:function(t){var e=t.cloneNode(!0);e.style.display=\"none\",Array.prototype.slice.call(e.querySelectorAll('input[type=\"radio\"]')).forEach(function(t){t.removeAttribute(\"name\")}),t.parentNode.insertBefore(e,t.nextSibling);var o=void 0;e.currentStyle?o=e.currentStyle:c.getComputedStyle&&(o=f.defaultView.getComputedStyle(e,null));var i={};for(var n in o)!isNaN(n)||\"string\"!=typeof o[n]&&\"number\"!=typeof o[n]||(i[n]=o[n]);if(Object.keys(i).length<3)for(var s in i={},o)isNaN(s)||(i[o[s].replace(/-\\w/g,function(t){return t.toUpperCase().replace(\"-\",\"\")})]=o.getPropertyValue(o[s]));if(i.margin||\"auto\"!==i.marginLeft?i.margin||i.marginLeft!==i.marginRight||i.marginLeft!==i.marginTop||i.marginLeft!==i.marginBottom||(i.margin=i.marginLeft):i.margin=\"auto\",!i.margin&&\"0px\"===i.marginLeft&&\"0px\"===i.marginRight){var r=t.offsetLeft-t.parentNode.offsetLeft,l=r-(parseInt(i.left)||0)-(parseInt(i.right)||0),a=t.parentNode.offsetWidth-t.offsetWidth-r-(parseInt(i.right)||0)+(parseInt(i.left)||0)-l;0!==a&&1!==a||(i.margin=\"auto\")}return e.parentNode.removeChild(e),e=null,i},event:e}}(window);","// Robert Penner's easeInOutQuad\n\n// find the rest of his easing functions here: http://robertpenner.com/easing/\n// find them exported for ES6 consumption here: https://github.com/jaxgeller/ez.js\n\nvar easeInOutQuad = function easeInOutQuad(t, b, c, d) {\n  t /= d / 2;\n  if (t < 1) return c / 2 * t * t + b;\n  t--;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar jumper = function jumper() {\n  // private variable cache\n  // no variables are created during a jump, preventing memory leaks\n\n  var element = void 0; // element to scroll to                   (node)\n\n  var start = void 0; // where scroll starts                    (px)\n  var stop = void 0; // where scroll stops                     (px)\n\n  var offset = void 0; // adjustment from the stop position      (px)\n  var easing = void 0; // easing function                        (function)\n  var a11y = void 0; // accessibility support flag             (boolean)\n\n  var distance = void 0; // distance of scroll                     (px)\n  var duration = void 0; // scroll duration                        (ms)\n\n  var timeStart = void 0; // time scroll started                    (ms)\n  var timeElapsed = void 0; // time spent scrolling thus far          (ms)\n\n  var next = void 0; // next scroll position                   (px)\n\n  var callback = void 0; // to call when done scrolling            (function)\n\n  // scroll position helper\n\n  function location() {\n    return window.scrollY || window.pageYOffset;\n  }\n\n  // element offset helper\n\n  function top(element) {\n    return element.getBoundingClientRect().top + start;\n  }\n\n  // rAF loop helper\n\n  function loop(timeCurrent) {\n    // store time scroll started, if not started already\n    if (!timeStart) {\n      timeStart = timeCurrent;\n    }\n\n    // determine time spent scrolling so far\n    timeElapsed = timeCurrent - timeStart;\n\n    // calculate next scroll position\n    next = easing(timeElapsed, start, distance, duration);\n\n    // scroll to it\n    window.scrollTo(0, next);\n\n    // check progress\n    timeElapsed < duration ? window.requestAnimationFrame(loop) // continue scroll loop\n    : done(); // scrolling is done\n  }\n\n  // scroll finished helper\n\n  function done() {\n    // account for rAF time rounding inaccuracies\n    window.scrollTo(0, start + distance);\n\n    // if scrolling to an element, and accessibility is enabled\n    if (element && a11y) {\n      // add tabindex indicating programmatic focus\n      element.setAttribute('tabindex', '-1');\n\n      // focus the element\n      element.focus();\n    }\n\n    // if it exists, fire the callback\n    if (typeof callback === 'function') {\n      callback();\n    }\n\n    // reset time for next jump\n    timeStart = false;\n  }\n\n  // API\n\n  function jump(target) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // resolve options, or use defaults\n    duration = options.duration || 1000;\n    offset = options.offset || 0;\n    callback = options.callback; // \"undefined\" is a suitable default, and won't be called\n    easing = options.easing || easeInOutQuad;\n    a11y = options.a11y || false;\n\n    // cache starting position\n    start = location();\n\n    // resolve target\n    switch (typeof target === 'undefined' ? 'undefined' : _typeof(target)) {\n      // scroll from current position\n      case 'number':\n        element = undefined; // no element to scroll to\n        a11y = false; // make sure accessibility is off\n        stop = start + target;\n        break;\n\n      // scroll to element (node)\n      // bounding rect is relative to the viewport\n      case 'object':\n        element = target;\n        stop = top(element);\n        break;\n\n      // scroll to element (selector)\n      // bounding rect is relative to the viewport\n      case 'string':\n        element = document.querySelector(target);\n        stop = top(element);\n        break;\n    }\n\n    // resolve scroll distance, accounting for offset\n    distance = stop - start + offset;\n\n    // resolve duration\n    switch (_typeof(options.duration)) {\n      // number in ms\n      case 'number':\n        duration = options.duration;\n        break;\n\n      // function passed the distance of the scroll\n      case 'function':\n        duration = options.duration(distance);\n        break;\n    }\n\n    // start the loop\n    window.requestAnimationFrame(loop);\n  }\n\n  // expose only the jump method\n  return jump;\n};\n\n// export singleton\n\nvar singleton = jumper();\n\nexport default singleton;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(render, schedule, console) {\n\tvar subscriptions = []\n\tvar rendering = false\n\tvar pending = false\n\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 0; i < subscriptions.length; i += 2) {\n\t\t\ttry { render(subscriptions[i], Vnode(subscriptions[i + 1]), redraw) }\n\t\t\tcatch (e) { console.error(e) }\n\t\t}\n\t\trendering = false\n\t}\n\n\tfunction redraw() {\n\t\tif (!pending) {\n\t\t\tpending = true\n\t\t\tschedule(function() {\n\t\t\t\tpending = false\n\t\t\t\tsync()\n\t\t\t})\n\t\t}\n\t}\n\n\tredraw.sync = sync\n\n\tfunction mount(root, component) {\n\t\tif (component != null && component.view == null && typeof component !== \"function\") {\n\t\t\tthrow new TypeError(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t}\n\n\t\tvar index = subscriptions.indexOf(root)\n\t\tif (index >= 0) {\n\t\t\tsubscriptions.splice(index, 2)\n\t\t\trender(root, [], redraw)\n\t\t}\n\n\t\tif (component != null) {\n\t\t\tsubscriptions.push(root, component)\n\t\t\trender(root, Vnode(component), redraw)\n\t\t}\n\t}\n\n\treturn {mount: mount, redraw: redraw}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar m = require(\"../render/hyperscript\")\nvar Promise = require(\"../promise/promise\")\n\nvar buildPathname = require(\"../pathname/build\")\nvar parsePathname = require(\"../pathname/parse\")\nvar compileTemplate = require(\"../pathname/compileTemplate\")\nvar assign = require(\"../pathname/assign\")\n\nvar sentinel = {}\n\nmodule.exports = function($window, mountRedraw) {\n\tvar fireAsync\n\n\tfunction setPath(path, data, options) {\n\t\tpath = buildPathname(path, data)\n\t\tif (fireAsync != null) {\n\t\t\tfireAsync()\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, route.prefix + path)\n\t\t\telse $window.history.pushState(state, title, route.prefix + path)\n\t\t}\n\t\telse {\n\t\t\t$window.location.href = route.prefix + path\n\t\t}\n\t}\n\n\tvar currentResolver = sentinel, component, attrs, currentPath, lastUpdate\n\n\tvar SKIP = route.SKIP = {}\n\n\tfunction route(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\t// 0 = start\n\t\t// 1 = init\n\t\t// 2 = ready\n\t\tvar state = 0\n\n\t\tvar compiled = Object.keys(routes).map(function(route) {\n\t\t\tif (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a `/`\")\n\t\t\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(route)) {\n\t\t\t\tthrow new SyntaxError(\"Route parameter names must be separated with either `/`, `.`, or `-`\")\n\t\t\t}\n\t\t\treturn {\n\t\t\t\troute: route,\n\t\t\t\tcomponent: routes[route],\n\t\t\t\tcheck: compileTemplate(route),\n\t\t\t}\n\t\t})\n\t\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\t\tvar p = Promise.resolve()\n\t\tvar scheduled = false\n\t\tvar onremove\n\n\t\tfireAsync = null\n\n\t\tif (defaultRoute != null) {\n\t\t\tvar defaultData = parsePathname(defaultRoute)\n\n\t\t\tif (!compiled.some(function (i) { return i.check(defaultData) })) {\n\t\t\t\tthrow new ReferenceError(\"Default route doesn't match any known routes\")\n\t\t\t}\n\t\t}\n\n\t\tfunction resolveRoute() {\n\t\t\tscheduled = false\n\t\t\t// Consider the pathname holistically. The prefix might even be invalid,\n\t\t\t// but that's not our problem.\n\t\t\tvar prefix = $window.location.hash\n\t\t\tif (route.prefix[0] !== \"#\") {\n\t\t\t\tprefix = $window.location.search + prefix\n\t\t\t\tif (route.prefix[0] !== \"?\") {\n\t\t\t\t\tprefix = $window.location.pathname + prefix\n\t\t\t\t\tif (prefix[0] !== \"/\") prefix = \"/\" + prefix\n\t\t\t\t}\n\t\t\t}\n\t\t\t// This seemingly useless `.concat()` speeds up the tests quite a bit,\n\t\t\t// since the representation is consistently a relatively poorly\n\t\t\t// optimized cons string.\n\t\t\tvar path = prefix.concat()\n\t\t\t\t.replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\t\t\t.slice(route.prefix.length)\n\t\t\tvar data = parsePathname(path)\n\n\t\t\tassign(data.params, $window.history.state)\n\n\t\t\tfunction fail() {\n\t\t\t\tif (path === defaultRoute) throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t\t\tsetPath(defaultRoute, null, {replace: true})\n\t\t\t}\n\n\t\t\tloop(0)\n\t\t\tfunction loop(i) {\n\t\t\t\t// 0 = init\n\t\t\t\t// 1 = scheduled\n\t\t\t\t// 2 = done\n\t\t\t\tfor (; i < compiled.length; i++) {\n\t\t\t\t\tif (compiled[i].check(data)) {\n\t\t\t\t\t\tvar payload = compiled[i].component\n\t\t\t\t\t\tvar matchedRoute = compiled[i].route\n\t\t\t\t\t\tvar localComp = payload\n\t\t\t\t\t\tvar update = lastUpdate = function(comp) {\n\t\t\t\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\t\t\t\tif (comp === SKIP) return loop(i + 1)\n\t\t\t\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\t\t\t\tattrs = data.params, currentPath = path, lastUpdate = null\n\t\t\t\t\t\t\tcurrentResolver = payload.render ? payload : null\n\t\t\t\t\t\t\tif (state === 2) mountRedraw.redraw()\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstate = 2\n\t\t\t\t\t\t\t\tmountRedraw.redraw.sync()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// There's no understating how much I *wish* I could\n\t\t\t\t\t\t// use `async`/`await` here...\n\t\t\t\t\t\tif (payload.view || typeof payload === \"function\") {\n\t\t\t\t\t\t\tpayload = {}\n\t\t\t\t\t\t\tupdate(localComp)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (payload.onmatch) {\n\t\t\t\t\t\t\tp.then(function () {\n\t\t\t\t\t\t\t\treturn payload.onmatch(data.params, path, matchedRoute)\n\t\t\t\t\t\t\t}).then(update, fail)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse update(\"div\")\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfail()\n\t\t\t}\n\t\t}\n\n\t\t// Set it unconditionally so `m.route.set` and `m.route.Link` both work,\n\t\t// even if neither `pushState` nor `hashchange` are supported. It's\n\t\t// cleared if `hashchange` is used, since that makes it automatically\n\t\t// async.\n\t\tfireAsync = function() {\n\t\t\tif (!scheduled) {\n\t\t\t\tscheduled = true\n\t\t\t\tcallAsync(resolveRoute)\n\t\t\t}\n\t\t}\n\n\t\tif (typeof $window.history.pushState === \"function\") {\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"popstate\", fireAsync, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"popstate\", fireAsync, false)\n\t\t} else if (route.prefix[0] === \"#\") {\n\t\t\tfireAsync = null\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"hashchange\", resolveRoute, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"hashchange\", resolveRoute, false)\n\t\t}\n\n\t\treturn mountRedraw.mount(root, {\n\t\t\tonbeforeupdate: function() {\n\t\t\t\tstate = state ? 2 : 1\n\t\t\t\treturn !(!state || sentinel === currentResolver)\n\t\t\t},\n\t\t\toncreate: resolveRoute,\n\t\t\tonremove: onremove,\n\t\t\tview: function() {\n\t\t\t\tif (!state || sentinel === currentResolver) return\n\t\t\t\t// Wrap in a fragment to preserve existing key semantics\n\t\t\t\tvar vnode = [Vnode(component, attrs.key, attrs)]\n\t\t\t\tif (currentResolver) vnode = currentResolver.render(vnode[0])\n\t\t\t\treturn vnode\n\t\t\t},\n\t\t})\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\tsetPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = \"#!\"\n\troute.Link = {\n\t\tview: function(vnode) {\n\t\t\tvar options = vnode.attrs.options\n\t\t\t// Remove these so they don't get overwritten\n\t\t\tvar attrs = {}, onclick, href\n\t\t\tassign(attrs, vnode.attrs)\n\t\t\t// The first two are internal, but the rest are magic attributes\n\t\t\t// that need censored to not screw up rendering.\n\t\t\tattrs.selector = attrs.options = attrs.key = attrs.oninit =\n\t\t\tattrs.oncreate = attrs.onbeforeupdate = attrs.onupdate =\n\t\t\tattrs.onbeforeremove = attrs.onremove = null\n\n\t\t\t// Do this now so we can get the most current `href` and `disabled`.\n\t\t\t// Those attributes may also be specified in the selector, and we\n\t\t\t// should honor that.\n\t\t\tvar child = m(vnode.attrs.selector || \"a\", attrs, vnode.children)\n\n\t\t\t// Let's provide a *right* way to disable a route link, rather than\n\t\t\t// letting people screw up accessibility on accident.\n\t\t\t//\n\t\t\t// The attribute is coerced so users don't get surprised over\n\t\t\t// `disabled: 0` resulting in a button that's somehow routable\n\t\t\t// despite being visibly disabled.\n\t\t\tif (child.attrs.disabled = Boolean(child.attrs.disabled)) {\n\t\t\t\tchild.attrs.href = null\n\t\t\t\tchild.attrs[\"aria-disabled\"] = \"true\"\n\t\t\t\t// If you *really* do want to do this on a disabled link, use\n\t\t\t\t// an `oncreate` hook to add it.\n\t\t\t\tchild.attrs.onclick = null\n\t\t\t} else {\n\t\t\t\tonclick = child.attrs.onclick\n\t\t\t\thref = child.attrs.href\n\t\t\t\tchild.attrs.href = route.prefix + href\n\t\t\t\tchild.attrs.onclick = function(e) {\n\t\t\t\t\tvar result\n\t\t\t\t\tif (typeof onclick === \"function\") {\n\t\t\t\t\t\tresult = onclick.call(e.currentTarget, e)\n\t\t\t\t\t} else if (onclick == null || typeof onclick !== \"object\") {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t} else if (typeof onclick.handleEvent === \"function\") {\n\t\t\t\t\t\tonclick.handleEvent(e)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Adapted from React Router's implementation:\n\t\t\t\t\t// https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n\t\t\t\t\t//\n\t\t\t\t\t// Try to be flexible and intuitive in how we handle links.\n\t\t\t\t\t// Fun fact: links aren't as obvious to get right as you\n\t\t\t\t\t// would expect. There's a lot more valid ways to click a\n\t\t\t\t\t// link than this, and one might want to not simply click a\n\t\t\t\t\t// link, but right click or command-click it to copy the\n\t\t\t\t\t// link target, etc. Nope, this isn't just for blind people.\n\t\t\t\t\tif (\n\t\t\t\t\t\t// Skip if `onclick` prevented default\n\t\t\t\t\t\tresult !== false && !e.defaultPrevented &&\n\t\t\t\t\t\t// Ignore everything but left clicks\n\t\t\t\t\t\t(e.button === 0 || e.which === 0 || e.which === 1) &&\n\t\t\t\t\t\t// Let the browser handle `target=_blank`, etc.\n\t\t\t\t\t\t(!e.currentTarget.target || e.currentTarget.target === \"_self\") &&\n\t\t\t\t\t\t// No modifier keys\n\t\t\t\t\t\t!e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\troute.set(href, null, options)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn child\n\t\t},\n\t}\n\troute.param = function(key) {\n\t\treturn attrs && key != null ? attrs[key] : attrs\n\t}\n\n\treturn route\n}\n","\"use strict\"\n\nvar hyperscript = require(\"./render/hyperscript\")\n\nhyperscript.trust = require(\"./render/trust\")\nhyperscript.fragment = require(\"./render/fragment\")\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar render = require(\"./render\")\n\nmodule.exports = require(\"./api/mount-redraw\")(render, requestAnimationFrame, console)\n","\"use strict\"\n\nmodule.exports = Object.assign || function(target, source) {\n\tif(source) Object.keys(source).forEach(function(key) { target[key] = source[key] })\n}\n","\"use strict\"\n\nvar buildQueryString = require(\"../querystring/build\")\nvar assign = require(\"./assign\")\n\n// Returns `path` from `template` + `params`\nmodule.exports = function(template, params) {\n\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(template)) {\n\t\tthrow new SyntaxError(\"Template parameter names *must* be separated\")\n\t}\n\tif (params == null) return template\n\tvar queryIndex = template.indexOf(\"?\")\n\tvar hashIndex = template.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? template.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = template.slice(0, pathEnd)\n\tvar query = {}\n\n\tassign(query, params)\n\n\tvar resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function(m, key, variadic) {\n\t\tdelete query[key]\n\t\t// If no such parameter exists, don't interpolate it.\n\t\tif (params[key] == null) return m\n\t\t// Escape normal parameters, but not variadic ones.\n\t\treturn variadic ? params[key] : encodeURIComponent(String(params[key]))\n\t})\n\n\t// In case the template substitution adds new query/hash parameters.\n\tvar newQueryIndex = resolved.indexOf(\"?\")\n\tvar newHashIndex = resolved.indexOf(\"#\")\n\tvar newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex\n\tvar newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex\n\tvar result = resolved.slice(0, newPathEnd)\n\n\tif (queryIndex >= 0) result += template.slice(queryIndex, queryEnd)\n\tif (newQueryIndex >= 0) result += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd)\n\tvar querystring = buildQueryString(query)\n\tif (querystring) result += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring\n\tif (hashIndex >= 0) result += template.slice(hashIndex)\n\tif (newHashIndex >= 0) result += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex)\n\treturn result\n}\n","\"use strict\"\n\nvar parsePathname = require(\"./parse\")\n\n// Compiles a template into a function that takes a resolved path (without query\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled template to be the\n// output of `parsePathname`. Note that it does *not* remove query parameters\n// specified in the template.\nmodule.exports = function(template) {\n\tvar templateData = parsePathname(template)\n\tvar templateKeys = Object.keys(templateData.params)\n\tvar keys = []\n\tvar regexp = new RegExp(\"^\" + templateData.path.replace(\n\t\t// I escape literal text so people can use things like `:file.:ext` or\n\t\t// `:lang-:locale` in routes. This is all merged into one pass so I\n\t\t// don't also accidentally escape `-` and make it harder to detect it to\n\t\t// ban it from template parameters.\n\t\t/:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g,\n\t\tfunction(m, key, extra) {\n\t\t\tif (key == null) return \"\\\\\" + m\n\t\t\tkeys.push({k: key, r: extra === \"...\"})\n\t\t\tif (extra === \"...\") return \"(.*)\"\n\t\t\tif (extra === \".\") return \"([^/]+)\\\\.\"\n\t\t\treturn \"([^/]+)\" + (extra || \"\")\n\t\t}\n\t) + \"$\")\n\treturn function(data) {\n\t\t// First, check the params. Usually, there isn't any, and it's just\n\t\t// checking a static set.\n\t\tfor (var i = 0; i < templateKeys.length; i++) {\n\t\t\tif (templateData.params[templateKeys[i]] !== data.params[templateKeys[i]]) return false\n\t\t}\n\t\t// If no interpolations exist, let's skip all the ceremony\n\t\tif (!keys.length) return regexp.test(data.path)\n\t\tvar values = regexp.exec(data.path)\n\t\tif (values == null) return false\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tdata.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1])\n\t\t}\n\t\treturn true\n\t}\n}\n","\"use strict\"\n\nvar parseQueryString = require(\"../querystring/parse\")\n\n// Returns `{path, params}` from `url`\nmodule.exports = function(url) {\n\tvar queryIndex = url.indexOf(\"?\")\n\tvar hashIndex = url.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? url.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = url.slice(0, pathEnd).replace(/\\/{2,}/g, \"/\")\n\n\tif (!path) path = \"/\"\n\telse {\n\t\tif (path[0] !== \"/\") path = \"/\" + path\n\t\tif (path.length > 1 && path[path.length - 1] === \"/\") path = path.slice(0, -1)\n\t}\n\treturn {\n\t\tpath: path,\n\t\tparams: queryIndex < 0\n\t\t\t? {}\n\t\t\t: parseQueryString(url.slice(queryIndex + 1, queryEnd)),\n\t}\n}\n","\"use strict\"\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\n\nmodule.exports = PromisePolyfill\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./polyfill\")\n\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = global.Promise\n} else {\n\tmodule.exports = PromisePolyfill\n}\n","\"use strict\"\n\nmodule.exports = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\n\treturn args.join(\"&\")\n\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\n","\"use strict\"\n\nmodule.exports = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\n\tvar entries = string.split(\"&\"), counters = {}, data = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\n\t\tvar levels = key.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data\n\t\tif (key.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key = levels.slice(0, j).join()\n\t\t\t\tif (counters[key] == null) {\n\t\t\t\t\tcounters[key] = Array.isArray(cursor) ? cursor.length : 0\n\t\t\t\t}\n\t\t\t\tlevel = counters[key]++\n\t\t\t}\n\t\t\t// Disallow direct prototype pollution\n\t\t\telse if (level === \"__proto__\") break\n\t\t\tif (j === levels.length - 1) cursor[level] = value\n\t\t\telse {\n\t\t\t\t// Read own properties exclusively to disallow indirect\n\t\t\t\t// prototype pollution\n\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(cursor, level)\n\t\t\t\tif (desc != null) desc = desc.value\n\t\t\t\tif (desc == null) cursor[level] = desc = isNumber ? [] : {}\n\t\t\t\tcursor = desc\n\t\t\t}\n\t\t}\n\t}\n\treturn data\n}\n","\"use strict\"\n\nmodule.exports = require(\"./render/render\")(window)\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nmodule.exports = function() {\n\tvar vnode = hyperscriptVnode.apply(0, arguments)\n\n\tvnode.tag = \"[\"\n\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\treturn vnode\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\n\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\n\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\n\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\n\t\tattrs = newAttrs\n\t}\n\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\n\tif (hasClass) attrs.class = null\n\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\n\treturn vnode\n}\n\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\n\tvnode.tag = selector\n\treturn vnode\n}\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\n// Call via `hyperscriptVnode.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript` and `fragment` factories and define this as\n// `hyperscriptVnode(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// module.exports = function(attrs, ...children) {\n//     if (attrs == null || typeof attrs === \"object\" && attrs.tag == null && !Array.isArray(attrs)) {\n//         if (children.length === 1 && Array.isArray(children[0])) children = children[0]\n//     } else {\n//         children = children.length === 0 && Array.isArray(attrs) ? attrs : [attrs, ...children]\n//         attrs = undefined\n//     }\n//\n//     if (attrs == null) attrs = {}\n//     return Vnode(\"\", attrs.key, attrs, children)\n// }\nmodule.exports = function() {\n\tvar attrs = arguments[this], start = this + 1, children\n\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = this\n\t}\n\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\n\treturn Vnode(\"\", attrs.key, attrs, children)\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function($window) {\n\tvar $doc = $window && $window.document\n\tvar currentRedraw\n\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\n\t//sanity check to discourage people from doing `vnode.state = ...`\n\tfunction checkState(vnode, original) {\n\t\tif (vnode.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode) {\n\t\tvar original = vnode.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode, original)\n\t\t}\n\t}\n\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode, ns, nextSibling) {\n\t\tvar match = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode.children\n\t\t}\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\t// Capture nodes to remove, so we don't confuse them.\n\t\tvnode.instance = []\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tvnode.instance.push(child)\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs = vnode.attrs\n\t\tvar is = attrs && attrs.is\n\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\n\t\tif (attrs != null) {\n\t\t\tsetAttrs(vnode, attrs, ns)\n\t\t}\n\n\t\tinsertNode(parent, element, nextSibling)\n\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tif (vnode.tag === \"select\" && attrs != null) setLateSelectAttrs(vnode, attrs)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tinitLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tcreateNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t}\n\t}\n\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index (for the old list), then iterate\n\t// over the new list and for each new vnode, find the corresponding vnode in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n\t// vnode reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next sibling (cached in the `nextSibling` variable).\n\n\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length)\n\t\telse {\n\t\t\tvar isOldKeyed = old[0] != null && old[0].key != null\n\t\t\tvar isKeyed = vnodes[0] != null && vnodes[0].key != null\n\t\t\tvar start = 0, oldStart = 0\n\t\t\tif (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) oldStart++\n\t\t\tif (!isKeyed) while (start < vnodes.length && vnodes[start] == null) start++\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(parent, old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(parent, o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(parent, old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o.key !== v.key) break\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (start === end) break\n\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\tmoveNodes(parent, oe, topSibling)\n\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\tif (++start <= --end) moveNodes(parent, o, nextSibling)\n\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse moveNodes(parent, v, nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode.events = old.events\n\t\t\tif (shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(parent, old)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, ns, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\tremoveHTML(parent, old)\n\t\t\tcreateHTML(parent, vnode, ns, nextSibling)\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t}\n\t}\n\tfunction updateFragment(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t\tupdateNodes(element, old.children, vnode.children, hooks, null, ns)\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(parent, old.instance)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode = vnodes[start]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key = vnode.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tvar lisTemp = []\n\tfunction makeLisIndices(a) {\n\t\tvar result = [0]\n\t\tvar u = 0, v = 0, i = 0\n\t\tvar il = lisTemp.length = a.length\n\t\tfor (var i = 0; i < il; i++) lisTemp[i] = a[i]\n\t\tfor (var i = 0; i < il; ++i) {\n\t\t\tif (a[i] === -1) continue\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tlisTemp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\t// Fast integer average without overflow.\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tvar c = (u >>> 1) + (v >>> 1) + (u & v & 1)\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) lisTemp[i] = result[u - 1]\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = lisTemp[v]\n\t\t}\n\t\tlisTemp.length = 0\n\t\treturn result\n\t}\n\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\n\t// This covers a really specific edge case:\n\t// - Parent node is keyed and contains child\n\t// - Child is removed, returns unresolved promise in `onbeforeremove`\n\t// - Parent node is moved in keyed diff\n\t// - Remaining children still need moved appropriately\n\t//\n\t// Ideally, I'd track removed nodes as well, but that introduces a lot more\n\t// complexity and I'm not exactly interested in doing that.\n\tfunction moveNodes(parent, vnode, nextSibling) {\n\t\tvar frag = $doc.createDocumentFragment()\n\t\tmoveChildToFrag(parent, frag, vnode)\n\t\tinsertNode(parent, frag, nextSibling)\n\t}\n\tfunction moveChildToFrag(parent, frag, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\t\t\tfrag.appendChild(vnode.instance[i])\n\t\t\t\t}\n\t\t\t} else if (vnode.tag !== \"[\") {\n\t\t\t\t// Don't recurse for text nodes *or* elements, just fragments\n\t\t\t\tfrag.appendChild(vnode.dom)\n\t\t\t} else if (vnode.children.length === 1) {\n\t\t\t\tvnode = vnode.children[0]\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\tif (child != null) moveChildToFrag(parent, frag, child)\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\n\tfunction maybeSetContentEditable(vnode) {\n\t\tif (vnode.attrs == null || (\n\t\t\tvnode.attrs.contenteditable == null && // attribute\n\t\t\tvnode.attrs.contentEditable == null // property\n\t\t)) return false\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t\treturn true\n\t}\n\n\t//remove\n\tfunction removeNodes(parent, vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) removeNode(parent, vnode)\n\t\t}\n\t}\n\tfunction removeNode(parent, vnode) {\n\t\tvar mask = 0\n\t\tvar original = vnode.state\n\t\tvar stateResult, attrsResult\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.state.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\tmask = 1\n\t\t\t\tstateResult = result\n\t\t\t}\n\t\t}\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.attrs.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tmask |= 2\n\t\t\t\tattrsResult = result\n\t\t\t}\n\t\t}\n\t\tcheckState(vnode, original)\n\n\t\t// If we can, try to fast-path it and avoid all the overhead of awaiting\n\t\tif (!mask) {\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t} else {\n\t\t\tif (stateResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 1) { mask &= 2; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tstateResult.then(next, next)\n\t\t\t}\n\t\t\tif (attrsResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 2) { mask &= 1; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tattrsResult.then(next, next)\n\t\t\t}\n\t\t}\n\n\t\tfunction reallyRemove() {\n\t\t\tcheckState(vnode, original)\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t}\n\t}\n\tfunction removeHTML(parent, vnode) {\n\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\tparent.removeChild(vnode.instance[i])\n\t\t}\n\t}\n\tfunction removeChild(parent, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tremoveHTML(parent, vnode)\n\t\t\t} else {\n\t\t\t\tif (vnode.tag !== \"[\") {\n\t\t\t\t\tparent.removeChild(vnode.dom)\n\t\t\t\t\tif (!Array.isArray(vnode.children)) break\n\t\t\t\t}\n\t\t\t\tif (vnode.children.length === 1) {\n\t\t\t\t\tvnode = vnode.children[0]\n\t\t\t\t\tif (vnode != null) continue\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\t\tif (child != null) removeChild(parent, child)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\tfunction onremove(vnode) {\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onremove === \"function\") callHook.call(vnode.state.onremove, vnode)\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") callHook.call(vnode.attrs.onremove, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//attrs\n\tfunction setAttrs(vnode, attrs, ns) {\n\t\tfor (var key in attrs) {\n\t\t\tsetAttr(vnode, key, null, attrs[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, value)\n\t\telse if (hasPropertyKey(vnode, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === \"\" + value && vnode.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t\tif (vnode.tag === \"input\" && key === \"type\") vnode.dom.setAttribute(key, value)\n\t\t\telse vnode.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode.tag === \"option\"\n\t\t\t\t|| vnode.tag === \"select\" && vnode.dom.selectedIndex === -1 && vnode.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode, attrs) {\n\t\tif (\"value\" in attrs) {\n\t\t\tif(attrs.value === null) {\n\t\t\t\tif (vnode.dom.selectedIndex !== -1) vnode.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode.dom.value !== normalized || vnode.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs) setAttr(vnode, \"selectedIndex\", null, attrs.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode, old, attrs, ns) {\n\t\tif (attrs != null) {\n\t\t\tfor (var key in attrs) {\n\t\t\t\tsetAttr(vnode, key, old && old[key], attrs[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs == null || attrs[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === activeElement() || vnode.tag === \"option\" && vnode.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode.tag.indexOf(\"-\") > -1 || vnode.attrs != null && vnode.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode.dom\n\t}\n\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {\n\t\t// Save this, so the current redraw is correctly tracked.\n\t\tthis._ = currentRedraw\n\t}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler === \"function\") result = handler.call(ev.currentTarget, ev)\n\t\telse if (typeof handler.handleEvent === \"function\") handler.handleEvent(ev)\n\t\tif (this._ && ev.redraw !== false) (0, this._)()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\n\t//event\n\tfunction updateEvent(vnode, key, value) {\n\t\tif (vnode.events != null) {\n\t\t\tif (vnode.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode.events[key] == null) vnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode.events[key] != null) vnode.dom.removeEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode.events = new EventDict()\n\t\t\tvnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\tvnode.events[key] = value\n\t\t}\n\t}\n\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tdo {\n\t\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.attrs.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.state.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode.dom = old.dom\n\t\tvnode.domSize = old.domSize\n\t\tvnode.instance = old.instance\n\t\t// One would think having the actual latest attributes would be ideal,\n\t\t// but it doesn't let us properly diff based on our current internal\n\t\t// representation. We have to save not only the old DOM info, but also\n\t\t// the attributes used to create it, as we diff *that*, not against the\n\t\t// DOM directly (with a few exceptions in `setAttr`). And, of course, we\n\t\t// need to save the children and text as they are conceptually not\n\t\t// unlike special \"attributes\" internally.\n\t\tvnode.attrs = old.attrs\n\t\tvnode.children = old.children\n\t\tvnode.text = old.text\n\t\treturn true\n\t}\n\n\treturn function(dom, vnodes, redraw) {\n\t\tif (!dom) throw new TypeError(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\n\t\t// First time rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tvar prevRedraw = currentRedraw\n\t\ttry {\n\t\t\tcurrentRedraw = typeof redraw === \"function\" ? redraw : undefined\n\t\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\t} finally {\n\t\t\tcurrentRedraw = prevRedraw\n\t\t}\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\n","\"use strict\"\n\nfunction Vnode(tag, key, attrs, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs, children: children, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node == null || typeof node === \"boolean\") return null\n\tif (typeof node === \"object\") return node\n\treturn Vnode(\"#\", undefined, undefined, String(node), undefined, undefined)\n}\nVnode.normalizeChildren = function(input) {\n\tvar children = []\n\tif (input.length) {\n\t\tvar isKeyed = input[0] != null && input[0].key != null\n\t\t// Note: this is a *very* perf-sensitive check.\n\t\t// Fun fact: merging the loop like this is somehow faster than splitting\n\t\t// it, noticeably so.\n\t\tfor (var i = 1; i < input.length; i++) {\n\t\t\tif ((input[i] != null && input[i].key != null) !== isKeyed) {\n\t\t\t\tthrow new TypeError(\"Vnodes must either always have keys or never have keys!\")\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tchildren[i] = Vnode.normalize(input[i])\n\t\t}\n\t}\n\treturn children\n}\n\nmodule.exports = Vnode\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./promise/promise\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./request/request\")(window, PromisePolyfill, mountRedraw.redraw)\n","\"use strict\"\n\nvar buildPathname = require(\"../pathname/build\")\n\nmodule.exports = function($window, Promise, oncompletion) {\n\tvar callbackCount = 0\n\n\tfunction PromiseProxy(executor) {\n\t\treturn new Promise(executor)\n\t}\n\n\t// In case the global Promise is some userland library's where they rely on\n\t// `foo instanceof this.constructor`, `this.constructor.resolve(value)`, or\n\t// similar. Let's *not* break them.\n\tPromiseProxy.prototype = Promise.prototype\n\tPromiseProxy.__proto__ = Promise // eslint-disable-line no-proto\n\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(buildPathname(url, args.params), args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\n\t\t\treturn wrap(promise)\n\n\t\t\tfunction wrap(promise) {\n\t\t\t\tvar then = promise.then\n\t\t\t\t// Set the constructor, so engines know to not await or resolve\n\t\t\t\t// this as a native promise. At the time of writing, this is\n\t\t\t\t// only necessary for V8, but their behavior is the correct\n\t\t\t\t// behavior per spec. See this spec issue for more details:\n\t\t\t\t// https://github.com/tc39/ecma262/issues/1577. Also, see the\n\t\t\t\t// corresponding comment in `request/tests/test-request.js` for\n\t\t\t\t// a bit more background on the issue at hand.\n\t\t\t\tpromise.constructor = PromiseProxy\n\t\t\t\tpromise.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then.apply(promise, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar body = args.body\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(body instanceof $window.FormData)\n\t\t\tvar responseType = args.responseType || (typeof args.extract === \"function\" ? \"\" : \"json\")\n\n\t\t\tvar xhr = new $window.XMLHttpRequest(), aborted = false\n\t\t\tvar original = xhr, replacedAbort\n\t\t\tvar abort = xhr.abort\n\n\t\t\txhr.abort = function() {\n\t\t\t\taborted = true\n\t\t\t\tabort.call(this)\n\t\t\t}\n\n\t\t\txhr.open(method, url, args.async !== false, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\n\t\t\tif (assumeJSON && body != null && !hasHeader(args, /^content-type$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\txhr.responseType = responseType\n\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.onreadystatechange = function(ev) {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif (aborted) return\n\n\t\t\t\tif (ev.target.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (ev.target.status >= 200 && ev.target.status < 300) || ev.target.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\t// When the response type isn't \"\" or \"text\",\n\t\t\t\t\t\t// `xhr.responseText` is the wrong thing to use.\n\t\t\t\t\t\t// Browsers do the right thing and throw here, and we\n\t\t\t\t\t\t// should honor that and do the right thing by\n\t\t\t\t\t\t// preferring `xhr.response` where possible/practical.\n\t\t\t\t\t\tvar response = ev.target.response, message\n\n\t\t\t\t\t\tif (responseType === \"json\") {\n\t\t\t\t\t\t\t// For IE and Edge, which don't implement\n\t\t\t\t\t\t\t// `responseType: \"json\"`.\n\t\t\t\t\t\t\tif (!ev.target.responseType && typeof args.extract !== \"function\") response = JSON.parse(ev.target.responseText)\n\t\t\t\t\t\t} else if (!responseType || responseType === \"text\") {\n\t\t\t\t\t\t\t// Only use this default if it's text. If a parsed\n\t\t\t\t\t\t\t// document is needed on old IE and friends (all\n\t\t\t\t\t\t\t// unsupported), the user should use a custom\n\t\t\t\t\t\t\t// `config` instead. They're already using this at\n\t\t\t\t\t\t\t// their own risk.\n\t\t\t\t\t\t\tif (response == null) response = ev.target.responseText\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(ev.target, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttry { message = ev.target.responseText }\n\t\t\t\t\t\t\tcatch (e) { message = response }\n\t\t\t\t\t\t\tvar error = new Error(message)\n\t\t\t\t\t\t\terror.code = ev.target.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof args.config === \"function\") {\n\t\t\t\txhr = args.config(xhr, args, url) || xhr\n\n\t\t\t\t// Propagate the `abort` to any replacement XHR as well.\n\t\t\t\tif (xhr !== original) {\n\t\t\t\t\treplacedAbort = xhr.abort\n\t\t\t\t\txhr.abort = function() {\n\t\t\t\t\t\taborted = true\n\t\t\t\t\t\treplacedAbort.call(this)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (body == null) xhr.send()\n\t\t\telse if (typeof args.serialize === \"function\") xhr.send(args.serialize(body))\n\t\t\telse if (body instanceof $window.FormData) xhr.send(body)\n\t\t\telse xhr.send(JSON.stringify(body))\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t}\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t}\n}\n","\"use strict\"\n\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./api/router\")(window, mountRedraw)\n","\"use strict\"\n\nmodule.exports = require(\"./stream/stream\")\n","/* eslint-disable */\n;(function() {\n\"use strict\"\n/* eslint-enable */\nStream.SKIP = {}\nStream.lift = lift\nStream.scan = scan\nStream.merge = merge\nStream.combine = combine\nStream.scanMerge = scanMerge\nStream[\"fantasy-land/of\"] = Stream\n\nvar warnedHalt = false\nObject.defineProperty(Stream, \"HALT\", {\n\tget: function() {\n\t\twarnedHalt || console.log(\"HALT is deprecated and has been renamed to SKIP\");\n\t\twarnedHalt = true\n\t\treturn Stream.SKIP\n\t}\n})\n\nfunction Stream(value) {\n\tvar dependentStreams = []\n\tvar dependentFns = []\n\n\tfunction stream(v) {\n\t\tif (arguments.length && v !== Stream.SKIP) {\n\t\t\tvalue = v\n\t\t\tif (open(stream)) {\n\t\t\t\tstream._changing()\n\t\t\t\tstream._state = \"active\"\n\t\t\t\tdependentStreams.forEach(function(s, i) { s(dependentFns[i](value)) })\n\t\t\t}\n\t\t}\n\n\t\treturn value\n\t}\n\n\tstream.constructor = Stream\n\tstream._state = arguments.length && value !== Stream.SKIP ? \"active\" : \"pending\"\n\tstream._parents = []\n\n\tstream._changing = function() {\n\t\tif (open(stream)) stream._state = \"changing\"\n\t\tdependentStreams.forEach(function(s) {\n\t\t\ts._changing()\n\t\t})\n\t}\n\n\tstream._map = function(fn, ignoreInitial) {\n\t\tvar target = ignoreInitial ? Stream() : Stream(fn(value))\n\t\ttarget._parents.push(stream)\n\t\tdependentStreams.push(target)\n\t\tdependentFns.push(fn)\n\t\treturn target\n\t}\n\n\tstream.map = function(fn) {\n\t\treturn stream._map(fn, stream._state !== \"active\")\n\t}\n\n\tvar end\n\tfunction createEnd() {\n\t\tend = Stream()\n\t\tend.map(function(value) {\n\t\t\tif (value === true) {\n\t\t\t\tstream._parents.forEach(function (p) {p._unregisterChild(stream)})\n\t\t\t\tstream._state = \"ended\"\n\t\t\t\tstream._parents.length = dependentStreams.length = dependentFns.length = 0\n\t\t\t}\n\t\t\treturn value\n\t\t})\n\t\treturn end\n\t}\n\n\tstream.toJSON = function() { return value != null && typeof value.toJSON === \"function\" ? value.toJSON() : value }\n\n\tstream[\"fantasy-land/map\"] = stream.map\n\tstream[\"fantasy-land/ap\"] = function(x) { return combine(function(s1, s2) { return s1()(s2()) }, [x, stream]) }\n\n\tstream._unregisterChild = function(child) {\n\t\tvar childIndex = dependentStreams.indexOf(child)\n\t\tif (childIndex !== -1) {\n\t\t\tdependentStreams.splice(childIndex, 1)\n\t\t\tdependentFns.splice(childIndex, 1)\n\t\t}\n\t}\n\n\tObject.defineProperty(stream, \"end\", {\n\t\tget: function() { return end || createEnd() }\n\t})\n\n\treturn stream\n}\n\nfunction combine(fn, streams) {\n\tvar ready = streams.every(function(s) {\n\t\tif (s.constructor !== Stream)\n\t\t\tthrow new Error(\"Ensure that each item passed to stream.combine/stream.merge/lift is a stream\")\n\t\treturn s._state === \"active\"\n\t})\n\tvar stream = ready\n\t\t? Stream(fn.apply(null, streams.concat([streams])))\n\t\t: Stream()\n\n\tvar changed = []\n\n\tvar mappers = streams.map(function(s) {\n\t\treturn s._map(function(value) {\n\t\t\tchanged.push(s)\n\t\t\tif (ready || streams.every(function(s) { return s._state !== \"pending\" })) {\n\t\t\t\tready = true\n\t\t\t\tstream(fn.apply(null, streams.concat([changed])))\n\t\t\t\tchanged = []\n\t\t\t}\n\t\t\treturn value\n\t\t}, true)\n\t})\n\n\tvar endStream = stream.end.map(function(value) {\n\t\tif (value === true) {\n\t\t\tmappers.forEach(function(mapper) { mapper.end(true) })\n\t\t\tendStream.end(true)\n\t\t}\n\t\treturn undefined\n\t})\n\n\treturn stream\n}\n\nfunction merge(streams) {\n\treturn combine(function() { return streams.map(function(s) { return s() }) }, streams)\n}\n\nfunction scan(fn, acc, origin) {\n\tvar stream = origin.map(function(v) {\n\t\tvar next = fn(acc, v)\n\t\tif (next !== Stream.SKIP) acc = next\n\t\treturn next\n\t})\n\tstream(acc)\n\treturn stream\n}\n\nfunction scanMerge(tuples, seed) {\n\tvar streams = tuples.map(function(tuple) { return tuple[0] })\n\n\tvar stream = combine(function() {\n\t\tvar changed = arguments[arguments.length - 1]\n\t\tstreams.forEach(function(stream, i) {\n\t\t\tif (changed.indexOf(stream) > -1)\n\t\t\t\tseed = tuples[i][1](seed, stream())\n\t\t})\n\n\t\treturn seed\n\t}, streams)\n\n\tstream(seed)\n\n\treturn stream\n}\n\nfunction lift() {\n\tvar fn = arguments[0]\n\tvar streams = Array.prototype.slice.call(arguments, 1)\n\treturn merge(streams).map(function(streams) {\n\t\treturn fn.apply(undefined, streams)\n\t})\n}\n\nfunction open(s) {\n\treturn s._state === \"pending\" || s._state === \"active\" || s._state === \"changing\"\n}\n\nif (typeof module !== \"undefined\") module[\"exports\"] = Stream\nelse if (typeof window.m === \"function\" && !(\"stream\" in window.m)) window.m.stream = Stream\nelse window.m = {stream : Stream}\n\n}());\n","export default typeof window !== 'undefined' && typeof document !== 'undefined';\n","import isBrowser from './isBrowser';\n\nconst longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\nlet timeoutDuration = 0;\nfor (let i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n    timeoutDuration = 1;\n    break;\n  }\n}\n\nexport function microtaskDebounce(fn) {\n  let called = false\n  return () => {\n    if (called) {\n      return\n    }\n    called = true\n    window.Promise.resolve().then(() => {\n      called = false\n      fn()\n    })\n  }\n}\n\nexport function taskDebounce(fn) {\n  let scheduled = false;\n  return () => {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(() => {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nconst supportsMicroTasks = isBrowser && window.Promise\n\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nexport default (supportsMicroTasks\n  ? microtaskDebounce\n  : taskDebounce);\n","/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nexport default function isFunction(functionToCheck) {\n  const getType = {};\n  return (\n    functionToCheck &&\n    getType.toString.call(functionToCheck) === '[object Function]'\n  );\n}\n","/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nexport default function getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  const window = element.ownerDocument.defaultView;\n  const css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n","/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nexport default function getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getParentNode from './getParentNode';\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nexport default function getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body\n    case '#document':\n      return element.body\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n  const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n","import isBrowser from './isBrowser';\n\nconst isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nconst isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nexport default function isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport isIE from './isIE';\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nexport default function getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  const noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  let offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  const nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (\n    ['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\n    getStyleComputedProperty(offsetParent, 'position') === 'static'\n  ) {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n","import getOffsetParent from './getOffsetParent';\n\nexport default function isOffsetContainer(element) {\n  const { nodeName } = element;\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return (\n    nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element\n  );\n}\n","/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nexport default function getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n","import isOffsetContainer from './isOffsetContainer';\nimport getRoot from './getRoot';\nimport getOffsetParent from './getOffsetParent';\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nexport default function findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  const order =\n    element1.compareDocumentPosition(element2) &\n    Node.DOCUMENT_POSITION_FOLLOWING;\n  const start = order ? element1 : element2;\n  const end = order ? element2 : element1;\n\n  // Get common ancestor container\n  const range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  const { commonAncestorContainer } = range;\n\n  // Both nodes are inside #document\n  if (\n    (element1 !== commonAncestorContainer &&\n      element2 !== commonAncestorContainer) ||\n    start.contains(end)\n  ) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  const element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n","/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nexport default function getScroll(element, side = 'top') {\n  const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  const nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    const html = element.ownerDocument.documentElement;\n    const scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n","import getScroll from './getScroll';\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nexport default function includeScroll(rect, element, subtract = false) {\n  const scrollTop = getScroll(element, 'top');\n  const scrollLeft = getScroll(element, 'left');\n  const modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n","/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nexport default function getBordersSize(styles, axis) {\n  const sideA = axis === 'x' ? 'Left' : 'Top';\n  const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return (\n    parseFloat(styles[`border${sideA}Width`], 10) +\n    parseFloat(styles[`border${sideB}Width`], 10)\n  );\n}\n","import isIE from './isIE';\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(\n    body[`offset${axis}`],\n    body[`scroll${axis}`],\n    html[`client${axis}`],\n    html[`offset${axis}`],\n    html[`scroll${axis}`],\n    isIE(10)\n      ? (parseInt(html[`offset${axis}`]) + \n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Top' : 'Left'}`]) + \n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Bottom' : 'Right'}`]))\n    : 0 \n  );\n}\n\nexport default function getWindowSizes(document) {\n  const body = document.body;\n  const html = document.documentElement;\n  const computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle),\n  };\n}\n","/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nexport default function getClientRect(offsets) {\n  return {\n    ...offsets,\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height,\n  };\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getBordersSize from './getBordersSize';\nimport getWindowSizes from './getWindowSizes';\nimport getScroll from './getScroll';\nimport getClientRect from './getClientRect';\nimport isIE from './isIE';\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nexport default function getBoundingClientRect(element) {\n  let rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      const scrollTop = getScroll(element, 'top');\n      const scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    }\n    else {\n      rect = element.getBoundingClientRect();\n    }\n  }\n  catch(e){}\n\n  const result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top,\n  };\n\n  // subtract scrollbar size from sizes\n  const sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  const width =\n    sizes.width || element.clientWidth || result.right - result.left;\n  const height =\n    sizes.height || element.clientHeight || result.bottom - result.top;\n\n  let horizScrollbar = element.offsetWidth - width;\n  let vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    const styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport includeScroll from './includeScroll';\nimport getScrollParent from './getScrollParent';\nimport getBoundingClientRect from './getBoundingClientRect';\nimport runIsIE from './isIE';\nimport getClientRect from './getClientRect';\n\nexport default function getOffsetRectRelativeToArbitraryNode(children, parent, fixedPosition = false) {\n  const isIE10 = runIsIE(10);\n  const isHTML = parent.nodeName === 'HTML';\n  const childrenRect = getBoundingClientRect(children);\n  const parentRect = getBoundingClientRect(parent);\n  const scrollParent = getScrollParent(children);\n\n  const styles = getStyleComputedProperty(parent);\n  const borderTopWidth = parseFloat(styles.borderTopWidth, 10);\n  const borderLeftWidth = parseFloat(styles.borderLeftWidth, 10);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if(fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  let offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height,\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    const marginTop = parseFloat(styles.marginTop, 10);\n    const marginLeft = parseFloat(styles.marginLeft, 10);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (\n    isIE10 && !fixedPosition\n      ? parent.contains(scrollParent)\n      : parent === scrollParent && scrollParent.nodeName !== 'BODY'\n  ) {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n","import getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getScroll from './getScroll';\nimport getClientRect from './getClientRect';\n\nexport default function getViewportOffsetRectRelativeToArtbitraryNode(element, excludeScroll = false) {\n  const html = element.ownerDocument.documentElement;\n  const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  const width = Math.max(html.clientWidth, window.innerWidth || 0);\n  const height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  const scrollTop = !excludeScroll ? getScroll(html) : 0;\n  const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  const offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width,\n    height,\n  };\n\n  return getClientRect(offset);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getParentNode from './getParentNode';\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nexport default function isFixed(element) {\n  const nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  const parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport isIE from './isIE';\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nexport default function getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n   if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  let el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n\n}\n","import getScrollParent from './getScrollParent';\nimport getParentNode from './getParentNode';\nimport findCommonOffsetParent from './findCommonOffsetParent';\nimport getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getViewportOffsetRectRelativeToArtbitraryNode from './getViewportOffsetRectRelativeToArtbitraryNode';\nimport getWindowSizes from './getWindowSizes';\nimport isFixed from './isFixed';\nimport getFixedPositionOffsetParent from './getFixedPositionOffsetParent';\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nexport default function getBoundaries(\n  popper,\n  reference,\n  padding,\n  boundariesElement,\n  fixedPosition = false\n) {\n  // NOTE: 1 DOM access here\n\n  let boundaries = { top: 0, left: 0 };\n  const offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport' ) {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  }\n\n  else {\n    // Handle other cases based on DOM element used as boundaries\n    let boundariesNode;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    const offsets = getOffsetRectRelativeToArbitraryNode(\n      boundariesNode,\n      offsetParent,\n      fixedPosition\n    );\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      const { height, width } = getWindowSizes(popper.ownerDocument);\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  const isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0; \n  boundaries.top += isPaddingNumber ? padding : padding.top || 0; \n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0; \n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0; \n\n  return boundaries;\n}\n","import getBoundaries from '../utils/getBoundaries';\n\nfunction getArea({ width, height }) {\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function computeAutoPlacement(\n  placement,\n  refRect,\n  popper,\n  reference,\n  boundariesElement,\n  padding = 0\n) {\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  const boundaries = getBoundaries(\n    popper,\n    reference,\n    padding,\n    boundariesElement\n  );\n\n  const rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top,\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height,\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom,\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height,\n    },\n  };\n\n  const sortedAreas = Object.keys(rects)\n    .map(key => ({\n      key,\n      ...rects[key],\n      area: getArea(rects[key]),\n    }))\n    .sort((a, b) => b.area - a.area);\n\n  const filteredAreas = sortedAreas.filter(\n    ({ width, height }) =>\n      width >= popper.clientWidth && height >= popper.clientHeight\n  );\n\n  const computedPlacement = filteredAreas.length > 0\n    ? filteredAreas[0].key\n    : sortedAreas[0].key;\n\n  const variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? `-${variation}` : '');\n}\n","import findCommonOffsetParent from './findCommonOffsetParent';\nimport getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getFixedPositionOffsetParent from './getFixedPositionOffsetParent';\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nexport default function getReferenceOffsets(state, popper, reference, fixedPosition = null) {\n  const commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n","/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nexport default function getOuterSizes(element) {\n  const window = element.ownerDocument.defaultView;\n  const styles = window.getComputedStyle(element);\n  const x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  const y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  const result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x,\n  };\n  return result;\n}\n","/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nexport default function getOppositePlacement(placement) {\n  const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, matched => hash[matched]);\n}\n","import getOuterSizes from './getOuterSizes';\nimport getOppositePlacement from './getOppositePlacement';\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nexport default function getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  const popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  const popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height,\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  const mainSide = isHoriz ? 'top' : 'left';\n  const secondarySide = isHoriz ? 'left' : 'top';\n  const measurement = isHoriz ? 'height' : 'width';\n  const secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] =\n    referenceOffsets[mainSide] +\n    referenceOffsets[measurement] / 2 -\n    popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] =\n      referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] =\n      referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n","/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nexport default function find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n","import find from './find';\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nexport default function findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(cur => cur[prop] === value);\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  const match = find(arr, obj => obj[prop] === value);\n  return arr.indexOf(match);\n}\n","import isFunction from './isFunction';\nimport findIndex from './findIndex';\nimport getClientRect from '../utils/getClientRect';\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nexport default function runModifiers(modifiers, data, ends) {\n  const modifiersToRun = ends === undefined\n    ? modifiers\n    : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(modifier => {\n    if (modifier['function']) { // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    const fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n","import computeAutoPlacement from '../utils/computeAutoPlacement';\nimport getReferenceOffsets from '../utils/getReferenceOffsets';\nimport getPopperOffsets from '../utils/getPopperOffsets';\nimport runModifiers from '../utils/runModifiers';\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nexport default function update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  let data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {},\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(\n    this.state,\n    this.popper,\n    this.reference,\n    this.options.positionFixed\n  );\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(\n    this.options.placement,\n    data.offsets.reference,\n    this.popper,\n    this.reference,\n    this.options.modifiers.flip.boundariesElement,\n    this.options.modifiers.flip.padding\n  );\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(\n    this.popper,\n    data.offsets.reference,\n    data.placement\n  );\n\n  data.offsets.popper.position = this.options.positionFixed\n    ? 'fixed'\n    : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n","/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nexport default function isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(\n    ({ name, enabled }) => enabled && name === modifierName\n  );\n}\n","/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nexport default function getSupportedPropertyName(property) {\n  const prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  const upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefix = prefixes[i];\n    const toCheck = prefix ? `${prefix}${upperProp}` : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n","import isModifierEnabled from '../utils/isModifierEnabled';\nimport getSupportedPropertyName from '../utils/getSupportedPropertyName';\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nexport default function destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n","/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nexport default function getWindow(element) {\n  const ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n","import getScrollParent from './getScrollParent';\nimport getWindow from './getWindow';\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  const isBody = scrollParent.nodeName === 'BODY';\n  const target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(\n      getScrollParent(target.parentNode),\n      event,\n      callback,\n      scrollParents\n    );\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nexport default function setupEventListeners(\n  reference,\n  options,\n  state,\n  updateBound\n) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  const scrollElement = getScrollParent(reference);\n  attachToScrollParents(\n    scrollElement,\n    'scroll',\n    state.updateBound,\n    state.scrollParents\n  );\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n","import setupEventListeners from '../utils/setupEventListeners';\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nexport default function enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(\n      this.reference,\n      this.options,\n      this.state,\n      this.scheduleUpdate\n    );\n  }\n}\n","import getWindow from './getWindow';\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nexport default function removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(target => {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n","import removeEventListeners from '../utils/removeEventListeners';\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nexport default function disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n","/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nexport default function isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n","import isNumeric from './isNumeric';\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nexport default function setStyles(element, styles) {\n  Object.keys(styles).forEach(prop => {\n    let unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (\n      ['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !==\n        -1 &&\n      isNumeric(styles[prop])\n    ) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n","/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nexport default function setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function(prop) {\n    const value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n","import setStyles from '../utils/setStyles';\nimport setAttributes from '../utils/setAttributes';\nimport getReferenceOffsets from '../utils/getReferenceOffsets';\nimport computeAutoPlacement from '../utils/computeAutoPlacement';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nexport default function applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nexport function applyStyleOnLoad(\n  reference,\n  popper,\n  options,\n  modifierOptions,\n  state\n) {\n  // compute reference element offsets\n  const referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  const placement = computeAutoPlacement(\n    options.placement,\n    referenceOffsets,\n    popper,\n    reference,\n    options.modifiers.flip.boundariesElement,\n    options.modifiers.flip.padding\n  );\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n","/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nexport default function getRoundedOffsets(data, shouldRound) {\n  const { popper, reference } = data.offsets;\n  const { round, floor } = Math;\n  const noRound = v => v;\n  \n  const referenceWidth = round(reference.width);\n  const popperWidth = round(popper.width);\n  \n  const isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  const isVariation = data.placement.indexOf('-') !== -1;\n  const sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  const bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  const horizontalToInteger = !shouldRound\n    ? noRound\n    : isVertical || isVariation || sameWidthParity\n    ? round\n    : floor;\n  const verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(\n      bothOddWidth && !isVariation && shouldRound\n        ? popper.left - 1\n        : popper.left\n    ),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right),\n  };\n}\n","import getSupportedPropertyName from '../utils/getSupportedPropertyName';\nimport find from '../utils/find';\nimport getOffsetParent from '../utils/getOffsetParent';\nimport getBoundingClientRect from '../utils/getBoundingClientRect';\nimport getRoundedOffsets from '../utils/getRoundedOffsets';\nimport isBrowser from '../utils/isBrowser';\n\nconst isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function computeStyle(data, options) {\n  const { x, y } = options;\n  const { popper } = data.offsets;\n\n  // Remove this legacy support in Popper.js v2\n  const legacyGpuAccelerationOption = find(\n    data.instance.modifiers,\n    modifier => modifier.name === 'applyStyle'\n  ).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn(\n      'WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!'\n    );\n  }\n  const gpuAcceleration =\n    legacyGpuAccelerationOption !== undefined\n      ? legacyGpuAccelerationOption\n      : options.gpuAcceleration;\n\n  const offsetParent = getOffsetParent(data.instance.popper);\n  const offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  const styles = {\n    position: popper.position,\n  };\n\n  const offsets = getRoundedOffsets(\n    data,\n    window.devicePixelRatio < 2 || !isFirefox\n  );\n\n  const sideA = x === 'bottom' ? 'top' : 'bottom';\n  const sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  const prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  let left, top;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = `translate3d(${left}px, ${top}px, 0)`;\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    const invertTop = sideA === 'bottom' ? -1 : 1;\n    const invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = `${sideA}, ${sideB}`;\n  }\n\n  // Attributes\n  const attributes = {\n    'x-placement': data.placement,\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = { ...attributes, ...data.attributes };\n  data.styles = { ...styles, ...data.styles };\n  data.arrowStyles = { ...data.offsets.arrow, ...data.arrowStyles };\n\n  return data;\n}\n","import find from './find';\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nexport default function isModifierRequired(\n  modifiers,\n  requestingName,\n  requestedName\n) {\n  const requesting = find(modifiers, ({ name }) => name === requestingName);\n\n  const isRequired =\n    !!requesting &&\n    modifiers.some(modifier => {\n      return (\n        modifier.name === requestedName &&\n        modifier.enabled &&\n        modifier.order < requesting.order\n      );\n    });\n\n  if (!isRequired) {\n    const requesting = `\\`${requestingName}\\``;\n    const requested = `\\`${requestedName}\\``;\n    console.warn(\n      `${requested} modifier is required by ${requesting} modifier in order to work, be sure to include it before ${requesting}!`\n    );\n  }\n  return isRequired;\n}\n","import getClientRect from '../utils/getClientRect';\nimport getOuterSizes from '../utils/getOuterSizes';\nimport isModifierRequired from '../utils/isModifierRequired';\nimport getStyleComputedProperty from '../utils/getStyleComputedProperty';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function arrow(data, options) {\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  let arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn(\n        'WARNING: `arrow.element` must be child of its popper element!'\n      );\n      return data;\n    }\n  }\n\n  const placement = data.placement.split('-')[0];\n  const { popper, reference } = data.offsets;\n  const isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  const len = isVertical ? 'height' : 'width';\n  const sideCapitalized = isVertical ? 'Top' : 'Left';\n  const side = sideCapitalized.toLowerCase();\n  const altSide = isVertical ? 'left' : 'top';\n  const opSide = isVertical ? 'bottom' : 'right';\n  const arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -=\n      popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] +=\n      reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  const center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  const css = getStyleComputedProperty(data.instance.popper);\n  const popperMarginSide = parseFloat(css[`margin${sideCapitalized}`], 10);\n  const popperBorderSide = parseFloat(css[`border${sideCapitalized}Width`], 10);\n  let sideValue =\n    center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = {\n    [side]: Math.round(sideValue),\n    [altSide]: '', // make sure to unset any eventual altSide value from the DOM node\n  };\n\n  return data;\n}\n","/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nexport default function getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n","/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nexport default [\n  'auto-start',\n  'auto',\n  'auto-end',\n  'top-start',\n  'top',\n  'top-end',\n  'right-start',\n  'right',\n  'right-end',\n  'bottom-end',\n  'bottom',\n  'bottom-start',\n  'left-end',\n  'left',\n  'left-start',\n];\n","import placements from '../methods/placements';\n\n// Get rid of `auto` `auto-start` and `auto-end`\nconst validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nexport default function clockwise(placement, counter = false) {\n  const index = validPlacements.indexOf(placement);\n  const arr = validPlacements\n    .slice(index + 1)\n    .concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n","import getOppositePlacement from '../utils/getOppositePlacement';\nimport getOppositeVariation from '../utils/getOppositeVariation';\nimport getPopperOffsets from '../utils/getPopperOffsets';\nimport runModifiers from '../utils/runModifiers';\nimport getBoundaries from '../utils/getBoundaries';\nimport isModifierEnabled from '../utils/isModifierEnabled';\nimport clockwise from '../utils/clockwise';\n\nconst BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise',\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  const boundaries = getBoundaries(\n    data.instance.popper,\n    data.instance.reference,\n    options.padding,\n    options.boundariesElement,\n    data.positionFixed\n  );\n\n  let placement = data.placement.split('-')[0];\n  let placementOpposite = getOppositePlacement(placement);\n  let variation = data.placement.split('-')[1] || '';\n\n  let flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach((step, index) => {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    const popperOffsets = data.offsets.popper;\n    const refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    const floor = Math.floor;\n    const overlapsRef =\n      (placement === 'left' &&\n        floor(popperOffsets.right) > floor(refOffsets.left)) ||\n      (placement === 'right' &&\n        floor(popperOffsets.left) < floor(refOffsets.right)) ||\n      (placement === 'top' &&\n        floor(popperOffsets.bottom) > floor(refOffsets.top)) ||\n      (placement === 'bottom' &&\n        floor(popperOffsets.top) < floor(refOffsets.bottom));\n\n    const overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    const overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    const overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    const overflowsBottom =\n      floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    const overflowsBoundaries =\n      (placement === 'left' && overflowsLeft) ||\n      (placement === 'right' && overflowsRight) ||\n      (placement === 'top' && overflowsTop) ||\n      (placement === 'bottom' && overflowsBottom);\n\n    // flip the variation if required\n    const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    const flippedVariationByRef =\n      !!options.flipVariations &&\n      ((isVertical && variation === 'start' && overflowsLeft) ||\n        (isVertical && variation === 'end' && overflowsRight) ||\n        (!isVertical && variation === 'start' && overflowsTop) ||\n        (!isVertical && variation === 'end' && overflowsBottom));\n\n    // flips variation if popper content overflows boundaries\n    const flippedVariationByContent =\n      !!options.flipVariationsByContent &&\n      ((isVertical && variation === 'start' && overflowsRight) ||\n        (isVertical && variation === 'end' && overflowsLeft) ||\n        (!isVertical && variation === 'start' && overflowsBottom) ||\n        (!isVertical && variation === 'end' && overflowsTop));\n\n    const flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = {\n        ...data.offsets.popper,\n        ...getPopperOffsets(\n          data.instance.popper,\n          data.offsets.reference,\n          data.placement\n        ),\n      };\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n","/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function keepTogether(data) {\n  const { popper, reference } = data.offsets;\n  const placement = data.placement.split('-')[0];\n  const floor = Math.floor;\n  const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  const side = isVertical ? 'right' : 'bottom';\n  const opSide = isVertical ? 'left' : 'top';\n  const measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] =\n      floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n","import isNumeric from '../utils/isNumeric';\nimport getClientRect from '../utils/getClientRect';\nimport find from '../utils/find';\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nexport function toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  const split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  const value = +split[1];\n  const unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    let element;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    const rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    let size;\n    if (unit === 'vh') {\n      size = Math.max(\n        document.documentElement.clientHeight,\n        window.innerHeight || 0\n      );\n    } else {\n      size = Math.max(\n        document.documentElement.clientWidth,\n        window.innerWidth || 0\n      );\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nexport function parseOffset(\n  offset,\n  popperOffsets,\n  referenceOffsets,\n  basePlacement\n) {\n  const offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  const useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  const fragments = offset.split(/(\\+|\\-)/).map(frag => frag.trim());\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  const divider = fragments.indexOf(\n    find(fragments, frag => frag.search(/,|\\s/) !== -1)\n  );\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn(\n      'Offsets separated by white space(s) are deprecated, use a comma (,) instead.'\n    );\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  const splitRegex = /\\s*,\\s*|\\s+/;\n  let ops = divider !== -1\n    ? [\n        fragments\n          .slice(0, divider)\n          .concat([fragments[divider].split(splitRegex)[0]]),\n        [fragments[divider].split(splitRegex)[1]].concat(\n          fragments.slice(divider + 1)\n        ),\n      ]\n    : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map((op, index) => {\n    // Most of the units rely on the orientation of the popper\n    const measurement = (index === 1 ? !useHeight : useHeight)\n      ? 'height'\n      : 'width';\n    let mergeWithPrevious = false;\n    return (\n      op\n        // This aggregates any `+` or `-` sign that aren't considered operators\n        // e.g.: 10 + +5 => [10, +, +5]\n        .reduce((a, b) => {\n          if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n            a[a.length - 1] = b;\n            mergeWithPrevious = true;\n            return a;\n          } else if (mergeWithPrevious) {\n            a[a.length - 1] += b;\n            mergeWithPrevious = false;\n            return a;\n          } else {\n            return a.concat(b);\n          }\n        }, [])\n        // Here we convert the string values into number values (in px)\n        .map(str => toValue(str, measurement, popperOffsets, referenceOffsets))\n    );\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach((op, index) => {\n    op.forEach((frag, index2) => {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nexport default function offset(data, { offset }) {\n  const { placement, offsets: { popper, reference } } = data;\n  const basePlacement = placement.split('-')[0];\n\n  let offsets;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n","import getOffsetParent from '../utils/getOffsetParent';\nimport getBoundaries from '../utils/getBoundaries';\nimport getSupportedPropertyName from '../utils/getSupportedPropertyName';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function preventOverflow(data, options) {\n  let boundariesElement =\n    options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  const transformProp = getSupportedPropertyName('transform');\n  const popperStyles = data.instance.popper.style; // assignment to help minification\n  const { top, left, [transformProp]: transform } = popperStyles;\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  const boundaries = getBoundaries(\n    data.instance.popper,\n    data.instance.reference,\n    options.padding,\n    boundariesElement,\n    data.positionFixed\n  );\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  const order = options.priority;\n  let popper = data.offsets.popper;\n\n  const check = {\n    primary(placement) {\n      let value = popper[placement];\n      if (\n        popper[placement] < boundaries[placement] &&\n        !options.escapeWithReference\n      ) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return { [placement]: value };\n    },\n    secondary(placement) {\n      const mainSide = placement === 'right' ? 'left' : 'top';\n      let value = popper[mainSide];\n      if (\n        popper[placement] > boundaries[placement] &&\n        !options.escapeWithReference\n      ) {\n        value = Math.min(\n          popper[mainSide],\n          boundaries[placement] -\n            (placement === 'right' ? popper.width : popper.height)\n        );\n      }\n      return { [mainSide]: value };\n    },\n  };\n\n  order.forEach(placement => {\n    const side =\n      ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = { ...popper, ...check[side](placement) };\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n","/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function shift(data) {\n  const placement = data.placement;\n  const basePlacement = placement.split('-')[0];\n  const shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    const { reference, popper } = data.offsets;\n    const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    const side = isVertical ? 'left' : 'top';\n    const measurement = isVertical ? 'width' : 'height';\n\n    const shiftOffsets = {\n      start: { [side]: reference[side] },\n      end: {\n        [side]: reference[side] + reference[measurement] - popper[measurement],\n      },\n    };\n\n    data.offsets.popper = { ...popper, ...shiftOffsets[shiftvariation] };\n  }\n\n  return data;\n}\n","import isModifierRequired from '../utils/isModifierRequired';\nimport find from '../utils/find';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  const refRect = data.offsets.reference;\n  const bound = find(\n    data.instance.modifiers,\n    modifier => modifier.name === 'preventOverflow'\n  ).boundaries;\n\n  if (\n    refRect.bottom < bound.top ||\n    refRect.left > bound.right ||\n    refRect.top > bound.bottom ||\n    refRect.right < bound.left\n  ) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n","import getClientRect from '../utils/getClientRect';\nimport getOppositePlacement from '../utils/getOppositePlacement';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function inner(data) {\n  const placement = data.placement;\n  const basePlacement = placement.split('-')[0];\n  const { popper, reference } = data.offsets;\n  const isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  const subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] =\n    reference[basePlacement] -\n    (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n","import applyStyle, { applyStyleOnLoad } from './applyStyle';\nimport computeStyle from './computeStyle';\nimport arrow from './arrow';\nimport flip from './flip';\nimport keepTogether from './keepTogether';\nimport offset from './offset';\nimport preventOverflow from './preventOverflow';\nimport shift from './shift';\nimport hide from './hide';\nimport inner from './inner';\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nexport default {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift,\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0,\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent',\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether,\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]',\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false,\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner,\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide,\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right',\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined,\n  },\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n","import modifiers from '../modifiers/index';\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nexport default {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: () => {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: () => {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers,\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n","import Popper from 'popper.js';\nimport isFunction from '../../popper/src/utils/isFunction';\n\nconst DEFAULT_OPTIONS = {\n  container: false,\n  delay: 0,\n  html: false,\n  placement: 'top',\n  title: '',\n  template:\n    '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n  trigger: 'hover focus',\n  offset: 0,\n  arrowSelector: '.tooltip-arrow, .tooltip__arrow',\n  innerSelector: '.tooltip-inner, .tooltip__inner',\n};\n\nexport default class Tooltip {\n  /**\n   * Create a new Tooltip.js instance\n   * @class Tooltip\n   * @param {HTMLElement} reference - The DOM node used as reference of the tooltip (it can be a jQuery element).\n   * @param {Object} options\n   * @param {String} options.placement='top'\n   *      Placement of the popper accepted values: `top(-start, -end), right(-start, -end), bottom(-start, -end),\n   *      left(-start, -end)`\n   * @param {String} options.arrowSelector='.tooltip-arrow, .tooltip__arrow' - className used to locate the DOM arrow element in the tooltip.\n   * @param {String} options.innerSelector='.tooltip-inner, .tooltip__inner' - className used to locate the DOM inner element in the tooltip.\n   * @param {HTMLElement|String|false} options.container=false - Append the tooltip to a specific element.\n   * @param {Number|Object} options.delay=0\n   *      Delay showing and hiding the tooltip (ms) - does not apply to manual trigger type.\n   *      If a number is supplied, delay is applied to both hide/show.\n   *      Object structure is: `{ show: 500, hide: 100 }`\n   * @param {Boolean} options.html=false - Insert HTML into the tooltip. If false, the content will inserted with `textContent`.\n   * @param {String} [options.template='<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>']\n   *      Base HTML to used when creating the tooltip.\n   *      The tooltip's `title` will be injected into the `.tooltip-inner` or `.tooltip__inner`.\n   *      `.tooltip-arrow` or `.tooltip__arrow` will become the tooltip's arrow.\n   *      The outermost wrapper element should have the `.tooltip` class.\n   * @param {String|HTMLElement|TitleFunction} options.title='' - Default title value if `title` attribute isn't present.\n   * @param {String} [options.trigger='hover focus']\n   *      How tooltip is triggered - click, hover, focus, manual.\n   *      You may pass multiple triggers; separate them with a space. `manual` cannot be combined with any other trigger.\n   * @param {Boolean} options.closeOnClickOutside=false - Close a popper on click outside of the popper and reference element. This has effect only when options.trigger is 'click'.\n   * @param {String|HTMLElement} options.boundariesElement\n   *      The element used as boundaries for the tooltip. For more information refer to Popper.js'\n   *      [boundariesElement docs](https://popper.js.org/popper-documentation.html)\n   * @param {Number|String} options.offset=0 - Offset of the tooltip relative to its reference. For more information refer to Popper.js'\n   *      [offset docs](https://popper.js.org/popper-documentation.html)\n   * @param {Object} options.popperOptions={} - Popper options, will be passed directly to popper instance. For more information refer to Popper.js'\n   *      [options docs](https://popper.js.org/popper-documentation.html)\n   * @return {Object} instance - The generated tooltip instance\n   */\n  constructor(reference, options) {\n    // apply user options over default ones\n    options = { ...DEFAULT_OPTIONS, ...options };\n\n    reference.jquery && (reference = reference[0]);\n\n    // cache reference and options\n    this.reference = reference;\n    this.options = options;\n\n    // get events list\n    const events =\n      typeof options.trigger === 'string'\n        ? options.trigger\n            .split(' ')\n            .filter(\n              trigger => ['click', 'hover', 'focus'].indexOf(trigger) !== -1\n            )\n        : [];\n\n    // set initial state\n    this._isOpen = false;\n    this._popperOptions = {};\n\n    // set event listeners\n    this._setEventListeners(reference, events, options);\n  }\n\n  //\n  // Public methods\n  //\n\n  /**\n   * Reveals an element's tooltip. This is considered a \"manual\" triggering of the tooltip.\n   * Tooltips with zero-length titles are never displayed.\n   * @method Tooltip#show\n   * @memberof Tooltip\n   */\n  show = () => this._show(this.reference, this.options);\n\n  /**\n   * Hides an element’s tooltip. This is considered a “manual” triggering of the tooltip.\n   * @method Tooltip#hide\n   * @memberof Tooltip\n   */\n  hide = () => this._hide();\n\n  /**\n   * Hides and destroys an element’s tooltip.\n   * @method Tooltip#dispose\n   * @memberof Tooltip\n   */\n  dispose = () => this._dispose();\n\n  /**\n   * Toggles an element’s tooltip. This is considered a “manual” triggering of the tooltip.\n   * @method Tooltip#toggle\n   * @memberof Tooltip\n   */\n  toggle = () => {\n    if (this._isOpen) {\n      return this.hide();\n    } else {\n      return this.show();\n    }\n  };\n\n  /**\n   * Updates the tooltip's title content\n   * @method Tooltip#updateTitleContent\n   * @memberof Tooltip\n   * @param {String|HTMLElement} title - The new content to use for the title\n   */\n  updateTitleContent = (title) => this._updateTitleContent(title);\n\n  //\n  // Private methods\n  //\n\n  _events = [];\n\n  /**\n   * Creates a new tooltip node\n   * @memberof Tooltip\n   * @private\n   * @param {HTMLElement} reference\n   * @param {String} template\n   * @param {String|HTMLElement|TitleFunction} title\n   * @param {Boolean} allowHtml\n   * @return {HTMLElement} tooltipNode\n   */\n  _create(reference, template, title, allowHtml) {\n    // create tooltip element\n    const tooltipGenerator = window.document.createElement('div');\n    tooltipGenerator.innerHTML = template.trim();\n    const tooltipNode = tooltipGenerator.childNodes[0];\n\n    // add unique ID to our tooltip (needed for accessibility reasons)\n    tooltipNode.id = `tooltip_${Math.random()\n      .toString(36)\n      .substr(2, 10)}`;\n\n    // set initial `aria-hidden` state to `false` (it's visible!)\n    tooltipNode.setAttribute('aria-hidden', 'false');\n\n    // add title to tooltip\n    const titleNode = tooltipGenerator.querySelector(this.options.innerSelector);\n    this._addTitleContent(reference, title, allowHtml, titleNode);\n\n    // return the generated tooltip node\n    return tooltipNode;\n  }\n\n  _addTitleContent(reference, title, allowHtml, titleNode) {\n    if (title.nodeType === 1 || title.nodeType === 11) {\n      // if title is a element node or document fragment, append it only if allowHtml is true\n      allowHtml && titleNode.appendChild(title);\n    } else if (isFunction(title)) {\n      // if title is a function, call it and set textContent or innerHtml depending by `allowHtml` value\n      const titleText = title.call(reference);\n      allowHtml\n        ? (titleNode.innerHTML = titleText)\n        : (titleNode.textContent = titleText);\n    } else {\n      // if it's just a simple text, set textContent or innerHtml depending by `allowHtml` value\n      allowHtml ? (titleNode.innerHTML = title) : (titleNode.textContent = title);\n    }\n  }\n\n  _show(reference, options) {\n    // don't show if it's already visible\n    // or if it's not being showed\n    if (this._isOpen && !this._isOpening) {\n      return this;\n    }\n    this._isOpen = true;\n\n    // if the tooltipNode already exists, just show it\n    if (this._tooltipNode) {\n      this._tooltipNode.style.visibility = 'visible';\n      this._tooltipNode.setAttribute('aria-hidden', 'false');\n      this.popperInstance.update();\n      return this;\n    }\n\n    // get title\n    const title = reference.getAttribute('title') || options.title;\n\n    // don't show tooltip if no title is defined\n    if (!title) {\n      return this;\n    }\n\n    // create tooltip node\n    const tooltipNode = this._create(\n      reference,\n      options.template,\n      title,\n      options.html\n    );\n\n    // Add `aria-describedby` to our reference element for accessibility reasons\n    reference.setAttribute('aria-describedby', tooltipNode.id);\n\n    // append tooltip to container\n    const container = this._findContainer(options.container, reference);\n\n    this._append(tooltipNode, container);\n\n    this._popperOptions = {\n      ...options.popperOptions,\n      placement: options.placement,\n    };\n\n    this._popperOptions.modifiers = {\n      ...this._popperOptions.modifiers,\n      arrow: {\n        ...(this._popperOptions.modifiers && this._popperOptions.modifiers.arrow),\n        element: options.arrowSelector,\n      },\n      offset: {\n        ...(this._popperOptions.modifiers && this._popperOptions.modifiers.offset),\n        offset: options.offset,\n      },\n    };\n\n    if (options.boundariesElement) {\n      this._popperOptions.modifiers.preventOverflow = {\n        boundariesElement: options.boundariesElement,\n      };\n    }\n\n    this.popperInstance = new Popper(\n      reference,\n      tooltipNode,\n      this._popperOptions\n    );\n\n    this._tooltipNode = tooltipNode;\n\n    return this;\n  }\n\n  _hide(/*reference, options*/) {\n    // don't hide if it's already hidden\n    if (!this._isOpen) {\n      return this;\n    }\n\n    this._isOpen = false;\n\n    // hide tooltipNode\n    this._tooltipNode.style.visibility = 'hidden';\n    this._tooltipNode.setAttribute('aria-hidden', 'true');\n\n    return this;\n  }\n\n  _dispose() {\n    // remove event listeners first to prevent any unexpected behaviour\n    this._events.forEach(({ func, event }) => {\n      this.reference.removeEventListener(event, func);\n    });\n    this._events = [];\n\n    if (this._tooltipNode) {\n      this._hide();\n\n      // destroy instance\n      this.popperInstance.destroy();\n\n      // destroy tooltipNode if removeOnDestroy is not set, as popperInstance.destroy() already removes the element\n      if (!this.popperInstance.options.removeOnDestroy) {\n        this._tooltipNode.parentNode.removeChild(this._tooltipNode);\n        this._tooltipNode = null;\n      }\n    }\n    return this;\n  }\n\n  _findContainer(container, reference) {\n    // if container is a query, get the relative element\n    if (typeof container === 'string') {\n      container = window.document.querySelector(container);\n    } else if (container === false) {\n      // if container is `false`, set it to reference parent\n      container = reference.parentNode;\n    }\n    return container;\n  }\n\n  /**\n   * Append tooltip to container\n   * @memberof Tooltip\n   * @private\n   * @param {HTMLElement} tooltipNode\n   * @param {HTMLElement|String|false} container\n   */\n  _append(tooltipNode, container) {\n    container.appendChild(tooltipNode);\n  }\n\n  _setEventListeners(reference, events, options) {\n    const directEvents = [];\n    const oppositeEvents = [];\n\n    events.forEach(event => {\n      switch (event) {\n        case 'hover':\n          directEvents.push('mouseenter');\n          oppositeEvents.push('mouseleave');\n          break;\n        case 'focus':\n          directEvents.push('focus');\n          oppositeEvents.push('blur');\n          break;\n        case 'click':\n          directEvents.push('click');\n          oppositeEvents.push('click');\n          break;\n      }\n    });\n\n    // schedule show tooltip\n    directEvents.forEach(event => {\n      const func = evt => {\n        if (this._isOpening === true) {\n          return;\n        }\n        evt.usedByTooltip = true;\n        this._scheduleShow(reference, options.delay, options, evt);\n      };\n      this._events.push({ event, func });\n      reference.addEventListener(event, func);\n    });\n\n    // schedule hide tooltip\n    oppositeEvents.forEach(event => {\n      const func = evt => {\n        if (evt.usedByTooltip === true) {\n          return;\n        }\n        this._scheduleHide(reference, options.delay, options, evt);\n      };\n      this._events.push({ event, func });\n      reference.addEventListener(event, func);\n      if (event === 'click' && options.closeOnClickOutside) {\n        document.addEventListener('mousedown', e => {\n          if (!this._isOpening) {\n            return;\n          }\n          const popper = this.popperInstance.popper;\n          if (reference.contains(e.target) ||\n              popper.contains(e.target)) {\n            return;\n          }\n          func(e);\n        }, true);\n      }\n    });\n  }\n\n  _scheduleShow(reference, delay, options /*, evt */) {\n    this._isOpening = true;\n    // defaults to 0\n    const computedDelay = (delay && delay.show) || delay || 0;\n    this._showTimeout = window.setTimeout(\n      () => this._show(reference, options),\n      computedDelay\n    );\n  }\n\n  _scheduleHide(reference, delay, options, evt) {\n    this._isOpening = false;\n    // defaults to 0\n    const computedDelay = (delay && delay.hide) || delay || 0;\n    window.clearTimeout(this._showTimeout);\n    window.setTimeout(() => {\n      if (this._isOpen === false) {\n        return;\n      }\n      if (!document.body.contains(this._tooltipNode)) {\n        return;\n      }\n\n      // if we are hiding because of a mouseleave, we must check that the new\n      // reference isn't the tooltip, because in this case we don't want to hide it\n      if (evt.type === 'mouseleave') {\n        const isSet = this._setTooltipNodeEvent(evt, reference, delay, options);\n\n        // if we set the new event, don't hide the tooltip yet\n        // the new event will take care to hide it if necessary\n        if (isSet) {\n          return;\n        }\n      }\n\n      this._hide(reference, options);\n    }, computedDelay);\n  }\n\n  _setTooltipNodeEvent = (evt, reference, delay, options) => {\n    const relatedreference =\n      evt.relatedreference || evt.toElement || evt.relatedTarget;\n\n    const callback = evt2 => {\n      const relatedreference2 =\n        evt2.relatedreference || evt2.toElement || evt2.relatedTarget;\n\n      // Remove event listener after call\n      this._tooltipNode.removeEventListener(evt.type, callback);\n\n      // If the new reference is not the reference element\n      if (!reference.contains(relatedreference2)) {\n        // Schedule to hide tooltip\n        this._scheduleHide(reference, options.delay, options, evt2);\n      }\n    };\n\n    if (this._tooltipNode.contains(relatedreference)) {\n      // listen to mouseleave on the tooltip element to be able to hide the tooltip\n      this._tooltipNode.addEventListener(evt.type, callback);\n      return true;\n    }\n\n    return false;\n  };\n\n  _updateTitleContent(title) {\n    if(typeof this._tooltipNode === 'undefined') {\n      if(typeof this.options.title !== 'undefined') {\n        this.options.title = title;\n      }\n      return;\n    }\n    const titleNode = this._tooltipNode.querySelector(this.options.innerSelector);\n    this._clearTitleContent(titleNode, this.options.html, this.reference.getAttribute('title') || this.options.title)\n    this._addTitleContent(this.reference, title, this.options.html, titleNode);\n    this.options.title = title;\n    this.popperInstance.update();\n  }\n\n  _clearTitleContent(titleNode, allowHtml, lastTitle) {\n    if(lastTitle.nodeType === 1 || lastTitle.nodeType === 11) {\n      allowHtml && titleNode.removeChild(lastTitle);\n    } else {\n      allowHtml ? titleNode.innerHTML = '' : titleNode.textContent = '';\n    }\n  }\n\n}\n\n/**\n * Title function, its context is the Tooltip instance.\n * @memberof Tooltip\n * @callback TitleFunction\n * @return {String} placement - The desired title.\n */\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign({}, defaults, opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nexport default function isFunction(functionToCheck) {\n  const getType = {};\n  return (\n    functionToCheck &&\n    getType.toString.call(functionToCheck) === '[object Function]'\n  );\n}\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n// The following code is heavily inspired by jQuery's $.fn.data()\n\n;(function($){\n  var data = {}, dataAttr = $.fn.data, camelize = $.camelCase,\n    exp = $.expando = 'Zepto' + (+new Date()), emptyArray = []\n\n  // Get value from node:\n  // 1. first try key as given,\n  // 2. then try camelized key,\n  // 3. fall back to reading \"data-*\" attribute.\n  function getData(node, name) {\n    var id = node[exp], store = id && data[id]\n    if (name === undefined) return store || setData(node)\n    else {\n      if (store) {\n        if (name in store) return store[name]\n        var camelName = camelize(name)\n        if (camelName in store) return store[camelName]\n      }\n      return dataAttr.call($(node), name)\n    }\n  }\n\n  // Store value under camelized key on node\n  function setData(node, name, value) {\n    var id = node[exp] || (node[exp] = ++$.uuid),\n      store = data[id] || (data[id] = attributeData(node))\n    if (name !== undefined) store[camelize(name)] = value\n    return store\n  }\n\n  // Read all \"data-*\" attributes from a node\n  function attributeData(node) {\n    var store = {}\n    $.each(node.attributes || emptyArray, function(i, attr){\n      if (attr.name.indexOf('data-') == 0)\n        store[camelize(attr.name.replace('data-', ''))] =\n          $.zepto.deserializeValue(attr.value)\n    })\n    return store\n  }\n\n  $.fn.data = function(name, value) {\n    return value === undefined ?\n      // set multiple values via object\n      $.isPlainObject(name) ?\n        this.each(function(i, node){\n          $.each(name, function(key, value){ setData(node, key, value) })\n        }) :\n        // get value from first element\n        (0 in this ? getData(this[0], name) : undefined) :\n      // set value on all elements\n      this.each(function(){ setData(this, name, value) })\n  }\n\n  $.data = function(elem, name, value) {\n    return $(elem).data(name, value)\n  }\n\n  $.hasData = function(elem) {\n    var id = elem[exp], store = id && data[id]\n    return store ? !$.isEmptyObject(store) : false\n  }\n\n  $.fn.removeData = function(names) {\n    if (typeof names == 'string') names = names.split(/\\s+/)\n    return this.each(function(){\n      var id = this[exp], store = id && data[id]\n      if (store) $.each(names || store, function(key){\n        delete store[names ? camelize(this) : key]\n      })\n    })\n  }\n\n  // Generate extended `remove` and `empty` functions\n  ;['remove', 'empty'].forEach(function(methodName){\n    var origFn = $.fn[methodName]\n    $.fn[methodName] = function() {\n      var elements = this.find('*')\n      if (methodName === 'remove') elements = elements.add(this)\n      elements.removeData()\n      return origFn.call(this)\n    }\n  })\n})(Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($, undefined){\n  var prefix = '', eventPrefix,\n    vendors = { Webkit: 'webkit', Moz: '', O: 'o' },\n    testEl = document.createElement('div'),\n    supportedTransforms = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,\n    transform,\n    transitionProperty, transitionDuration, transitionTiming, transitionDelay,\n    animationName, animationDuration, animationTiming, animationDelay,\n    cssReset = {}\n\n  function dasherize(str) { return str.replace(/([A-Z])/g, '-$1').toLowerCase() }\n  function normalizeEvent(name) { return eventPrefix ? eventPrefix + name : name.toLowerCase() }\n\n  if (testEl.style.transform === undefined) $.each(vendors, function(vendor, event){\n    if (testEl.style[vendor + 'TransitionProperty'] !== undefined) {\n      prefix = '-' + vendor.toLowerCase() + '-'\n      eventPrefix = event\n      return false\n    }\n  })\n\n  transform = prefix + 'transform'\n  cssReset[transitionProperty = prefix + 'transition-property'] =\n  cssReset[transitionDuration = prefix + 'transition-duration'] =\n  cssReset[transitionDelay    = prefix + 'transition-delay'] =\n  cssReset[transitionTiming   = prefix + 'transition-timing-function'] =\n  cssReset[animationName      = prefix + 'animation-name'] =\n  cssReset[animationDuration  = prefix + 'animation-duration'] =\n  cssReset[animationDelay     = prefix + 'animation-delay'] =\n  cssReset[animationTiming    = prefix + 'animation-timing-function'] = ''\n\n  $.fx = {\n    off: (eventPrefix === undefined && testEl.style.transitionProperty === undefined),\n    speeds: { _default: 400, fast: 200, slow: 600 },\n    cssPrefix: prefix,\n    transitionEnd: normalizeEvent('TransitionEnd'),\n    animationEnd: normalizeEvent('AnimationEnd')\n  }\n\n  $.fn.animate = function(properties, duration, ease, callback, delay){\n    if ($.isFunction(duration))\n      callback = duration, ease = undefined, duration = undefined\n    if ($.isFunction(ease))\n      callback = ease, ease = undefined\n    if ($.isPlainObject(duration))\n      ease = duration.easing, callback = duration.complete, delay = duration.delay, duration = duration.duration\n    if (duration) duration = (typeof duration == 'number' ? duration :\n                    ($.fx.speeds[duration] || $.fx.speeds._default)) / 1000\n    if (delay) delay = parseFloat(delay) / 1000\n    return this.anim(properties, duration, ease, callback, delay)\n  }\n\n  $.fn.anim = function(properties, duration, ease, callback, delay){\n    var key, cssValues = {}, cssProperties, transforms = '',\n        that = this, wrappedCallback, endEvent = $.fx.transitionEnd,\n        fired = false\n\n    if (duration === undefined) duration = $.fx.speeds._default / 1000\n    if (delay === undefined) delay = 0\n    if ($.fx.off) duration = 0\n\n    if (typeof properties == 'string') {\n      // keyframe animation\n      cssValues[animationName] = properties\n      cssValues[animationDuration] = duration + 's'\n      cssValues[animationDelay] = delay + 's'\n      cssValues[animationTiming] = (ease || 'linear')\n      endEvent = $.fx.animationEnd\n    } else {\n      cssProperties = []\n      // CSS transitions\n      for (key in properties)\n        if (supportedTransforms.test(key)) transforms += key + '(' + properties[key] + ') '\n        else cssValues[key] = properties[key], cssProperties.push(dasherize(key))\n\n      if (transforms) cssValues[transform] = transforms, cssProperties.push(transform)\n      if (duration > 0 && typeof properties === 'object') {\n        cssValues[transitionProperty] = cssProperties.join(', ')\n        cssValues[transitionDuration] = duration + 's'\n        cssValues[transitionDelay] = delay + 's'\n        cssValues[transitionTiming] = (ease || 'linear')\n      }\n    }\n\n    wrappedCallback = function(event){\n      if (typeof event !== 'undefined') {\n        if (event.target !== event.currentTarget) return // makes sure the event didn't bubble from \"below\"\n        $(event.target).unbind(endEvent, wrappedCallback)\n      } else\n        $(this).unbind(endEvent, wrappedCallback) // triggered by setTimeout\n\n      fired = true\n      $(this).css(cssReset)\n      callback && callback.call(this)\n    }\n    if (duration > 0){\n      this.bind(endEvent, wrappedCallback)\n      // transitionEnd is not always firing on older Android phones\n      // so make sure it gets fired\n      setTimeout(function(){\n        if (fired) return\n        wrappedCallback.call(that)\n      }, ((duration + delay) * 1000) + 25)\n    }\n\n    // trigger page reflow so new elements can animate\n    this.size() && this.get(0).clientLeft\n\n    this.css(cssValues)\n\n    if (duration <= 0) setTimeout(function() {\n      that.each(function(){ wrappedCallback.call(this) })\n    }, 0)\n\n    return this\n  }\n\n  testEl = null\n})(Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($, undefined){\n  var document = window.document, docElem = document.documentElement,\n    origShow = $.fn.show, origHide = $.fn.hide, origToggle = $.fn.toggle\n\n  function anim(el, speed, opacity, scale, callback) {\n    if (typeof speed == 'function' && !callback) callback = speed, speed = undefined\n    var props = { opacity: opacity }\n    if (scale) {\n      props.scale = scale\n      el.css($.fx.cssPrefix + 'transform-origin', '0 0')\n    }\n    return el.animate(props, speed, null, callback)\n  }\n\n  function hide(el, speed, scale, callback) {\n    return anim(el, speed, 0, scale, function(){\n      origHide.call($(this))\n      callback && callback.call(this)\n    })\n  }\n\n  $.fn.show = function(speed, callback) {\n    origShow.call(this)\n    if (speed === undefined) speed = 0\n    else this.css('opacity', 0)\n    return anim(this, speed, 1, '1,1', callback)\n  }\n\n  $.fn.hide = function(speed, callback) {\n    if (speed === undefined) return origHide.call(this)\n    else return hide(this, speed, '0,0', callback)\n  }\n\n  $.fn.toggle = function(speed, callback) {\n    if (speed === undefined || typeof speed == 'boolean')\n      return origToggle.call(this, speed)\n    else return this.each(function(){\n      var el = $(this)\n      el[el.css('display') == 'none' ? 'show' : 'hide'](speed, callback)\n    })\n  }\n\n  $.fn.fadeTo = function(speed, opacity, callback) {\n    return anim(this, speed, opacity, null, callback)\n  }\n\n  $.fn.fadeIn = function(speed, callback) {\n    var target = this.css('opacity')\n    if (target > 0) this.css('opacity', 0)\n    else target = 1\n    return origShow.call(this).fadeTo(speed, target, callback)\n  }\n\n  $.fn.fadeOut = function(speed, callback) {\n    return hide(this, speed, null, callback)\n  }\n\n  $.fn.fadeToggle = function(speed, callback) {\n    return this.each(function(){\n      var el = $(this)\n      el[\n        (el.css('opacity') == 0 || el.css('display') == 'none') ? 'fadeIn' : 'fadeOut'\n      ](speed, callback)\n    })\n  }\n\n})(Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($){\n  var zepto = $.zepto, oldQsa = zepto.qsa, oldMatches = zepto.matches\n\n  function visible(elem){\n    elem = $(elem)\n    return !!(elem.width() || elem.height()) && elem.css(\"display\") !== \"none\"\n  }\n\n  // Implements a subset from:\n  // http://api.jquery.com/category/selectors/jquery-selector-extensions/\n  //\n  // Each filter function receives the current index, all nodes in the\n  // considered set, and a value if there were parentheses. The value\n  // of `this` is the node currently being considered. The function returns the\n  // resulting node(s), null, or undefined.\n  //\n  // Complex selectors are not supported:\n  //   li:has(label:contains(\"foo\")) + li:has(label:contains(\"bar\"))\n  //   ul.inner:first > li\n  var filters = $.expr[':'] = {\n    visible:  function(){ if (visible(this)) return this },\n    hidden:   function(){ if (!visible(this)) return this },\n    selected: function(){ if (this.selected) return this },\n    checked:  function(){ if (this.checked) return this },\n    parent:   function(){ return this.parentNode },\n    first:    function(idx){ if (idx === 0) return this },\n    last:     function(idx, nodes){ if (idx === nodes.length - 1) return this },\n    eq:       function(idx, _, value){ if (idx === value) return this },\n    contains: function(idx, _, text){ if ($(this).text().indexOf(text) > -1) return this },\n    has:      function(idx, _, sel){ if (zepto.qsa(this, sel).length) return this }\n  }\n\n  var filterRe = new RegExp('(.*):(\\\\w+)(?:\\\\(([^)]+)\\\\))?$\\\\s*'),\n      childRe  = /^\\s*>/,\n      classTag = 'Zepto' + (+new Date())\n\n  function process(sel, fn) {\n    // quote the hash in `a[href^=#]` expression\n    sel = sel.replace(/=#\\]/g, '=\"#\"]')\n    var filter, arg, match = filterRe.exec(sel)\n    if (match && match[2] in filters) {\n      filter = filters[match[2]], arg = match[3]\n      sel = match[1]\n      if (arg) {\n        var num = Number(arg)\n        if (isNaN(num)) arg = arg.replace(/^[\"']|[\"']$/g, '')\n        else arg = num\n      }\n    }\n    return fn(sel, filter, arg)\n  }\n\n  zepto.qsa = function(node, selector) {\n    return process(selector, function(sel, filter, arg){\n      try {\n        var taggedParent\n        if (!sel && filter) sel = '*'\n        else if (childRe.test(sel))\n          // support \"> *\" child queries by tagging the parent node with a\n          // unique class and prepending that classname onto the selector\n          taggedParent = $(node).addClass(classTag), sel = '.'+classTag+' '+sel\n\n        var nodes = oldQsa(node, sel)\n      } catch(e) {\n        console.error('error performing selector: %o', selector)\n        throw e\n      } finally {\n        if (taggedParent) taggedParent.removeClass(classTag)\n      }\n      return !filter ? nodes :\n        zepto.uniq($.map(nodes, function(n, i){ return filter.call(n, i, nodes, arg) }))\n    })\n  }\n\n  zepto.matches = function(node, selector){\n    return process(selector, function(sel, filter, arg){\n      return (!sel || oldMatches(node, sel)) &&\n        (!filter || filter.call(node, null, arg) === node)\n    })\n  }\n})(Zepto)\n","import Mithril from \"mithril\";\n\nimport Bus from './Bus';\nimport Translator from './Translator';\nimport Session from './Session';\nimport Store from './Store';\n\nimport extract from './utils/extract';\nimport mapRoutes from './utils/mapRoutes';\nimport {extend} from './extend';\n\nimport Forum from './models/Forum';\nimport Discussion from './models/Discussion';\nimport User from './models/User';\nimport Post from './models/Post';\nimport Group from './models/Group';\n\nimport RequestError from './utils/RequestError';\nimport Alert from './components/Alert';\n\nexport type ApplicationData = {\n    apiDocument: any;\n    locale: string;\n    locales: any;\n    resources: Array<any>;\n    session: any;\n};\n\nexport default abstract class Application {\n    /**\n     * The forum model for this application.\n     */\n    forum: Forum;\n\n    data: ApplicationData | undefined;\n\n    translator = new Translator();\n    bus = new Bus();\n\n    /**\n     * The app's session.\n     */\n    session?: Session;\n\n    /**\n     * The app's data store.\n     */\n    store = new Store({\n        forums: Forum,\n        users: User,\n        discussions: Discussion,\n        posts: Post,\n        groups: Group,\n        // notifications: Notification\n    });\n\n    routes = {};\n\n    title = '';\n    titleCount = 0;\n\n    /**\n     * An Alert that was shown as a result of an AJAX request error. If present,\n     * it will be dismissed on the next successful request.\n     */\n    private requestError: Alert = null;\n\n    mount(basePath = '') {\n        // this.modal = m.mount(document.getElementById('modal'), <ModalManager />);\n        // this.alerts = m.mount(document.getElementById('alerts'), <AlertManager />);\n\n        // this.drawer = new Drawer();\n\n        m.route(document.getElementById('content'), basePath + '/', mapRoutes(this.routes, basePath));\n    }\n\n    boot(payload: any) {\n        this.data = payload;\n\n        this.store.pushPayload({ data: this.data.resources });\n\n        this.forum = this.store.getById('forums', 1);\n\n        this.session = new Session(\n            this.store.getById('users', this.data.session.userId),\n            this.data.session.csrfToken\n        );\n\n        this.locale();\n        this.plugins();\n        this.setupRoutes();\n        this.mount();\n\n        this.bus.dispatch('app.booting');\n    }\n\n    locale() {\n        this.translator.locale = this.data.locale;\n\n        this.bus.dispatch('app.locale');\n    }\n\n    plugins() {\n        this.bus.dispatch('app.plugins');\n    }\n\n    setupRoutes() {\n        this.bus.dispatch('app.routes');\n    }\n\n    /**\n     * Get the API response document that has been preloaded into the application.\n     */\n    preloadedApiDocument() {\n      if (this.data.apiDocument) {\n        const results = this.store.pushPayload(this.data.apiDocument);\n\n        this.data.apiDocument = null;\n\n        return results;\n      }\n\n      return null;\n    }\n\n    /**\n     * Set the <title> of the page.\n     */\n    setTitle(title: string) {\n        this.title = title;\n        this.updateTitle();\n    }\n\n    /**\n     * Set a number to display in the <title> of the page.\n     */\n    setTitleCount(count: number) {\n        this.titleCount = count;\n        this.updateTitle();\n    }\n\n    updateTitle() {\n        document.title = (this.titleCount ? `(${this.titleCount}) ` : '') +\n          (this.title ? this.title + ' - ' : '') +\n          this.forum.attribute('title');\n    }\n\n    /**\n     * Construct a URL to the route with the given name.\n     */\n    route(name: string, params: object = {}): string {\n        const route = this.routes[name];\n\n        if (!route) throw new Error(`Route ${name} does not exist`);\n\n        const url = route.path.replace(/:([^\\/]+)/g, (m, key) => extract(params, key));\n        const queryString = m.buildQueryString(params);\n        const prefix = m.route.prefix === '' ? this.forum.attribute('basePath') : '';\n\n        return prefix + url + (queryString ? '?' + queryString : '');\n    }\n\n    /**\n     * Make an AJAX request, handling any low-level errors that may occur.\n     *\n     * @see https://mithril.js.org/request.html\n     */\n    request(originalOptions: Mithril.RequestOptions|any): Promise<any> {\n      const options: Mithril.RequestOptions = Object.assign({}, originalOptions);\n\n      // Set some default options if they haven't been overridden. We want to\n      // authenticate all requests with the session token. We also want all\n      // requests to run asynchronously in the background, so that they don't\n      // prevent redraws from occurring.\n      options.background = options.background || true;\n\n      extend(options, 'config', (result, xhr: XMLHttpRequest) => xhr.setRequestHeader('X-CSRF-Token', this.session.csrfToken));\n\n      // If the method is something like PATCH or DELETE, which not all servers\n      // and clients support, then we'll send it as a POST request with the\n      // intended method specified in the X-HTTP-Method-Override header.\n      if (options.method !== 'GET' && options.method !== 'POST') {\n        const method = options.method;\n        extend(options, 'config', (result, xhr: XMLHttpRequest) => xhr.setRequestHeader('X-HTTP-Method-Override', method));\n        options.method = 'POST';\n      }\n\n      // When we deserialize JSON data, if for some reason the server has provided\n      // a dud response, we don't want the application to crash. We'll show an\n      // error message to the user instead.\n      options.deserialize = options.deserialize || (responseText => responseText);\n\n      options.errorHandler = options.errorHandler || (error => {\n        throw error;\n      });\n\n      // When extracting the data from the response, we can check the server\n      // response code and show an error message to the user if something's gone\n      // awry.\n      const original = options.extract;\n      options.extract = xhr => {\n        let responseText;\n\n        if (original) {\n          responseText = original(xhr.responseText);\n        } else {\n          responseText = xhr.responseText || null;\n        }\n\n        const status = xhr.status;\n\n        if (status < 200 || status > 299) {\n          throw new RequestError(status, responseText, options, xhr);\n        }\n\n        if (xhr.getResponseHeader) {\n          const csrfToken = xhr.getResponseHeader('X-CSRF-Token');\n          if (csrfToken) app.session.csrfToken = csrfToken;\n        }\n\n        try {\n          return JSON.parse(responseText);\n        } catch (e) {\n          throw new RequestError(500, responseText, options, xhr);\n        }\n      };\n\n      // TODO: ALERT MANAGER\n      // if (this.requestError) this.alerts.dismiss(this.requestError.alert);\n\n      // Now make the request. If it's a failure, inspect the error that was\n      // returned and show an alert containing its contents.\n      // const deferred = m.deferred();\n\n      // return new Promise((resolve, reject) => )\n\n      return m.request(options)\n        .catch(error => {\n        this.requestError = error;\n\n        let children;\n\n        switch (error.status) {\n          case 422:\n            children = error.response.errors\n              .map(error => [error.detail, m('br')])\n              .reduce((a, b) => a.concat(b), [])\n              .slice(0, -1);\n            break;\n\n          case 401:\n          case 403:\n            children = this.translator.trans('core.lib.error.permission_denied_message');\n            break;\n\n          case 404:\n          case 410:\n            children = this.translator.trans('core.lib.error.not_found_message');\n            break;\n\n          case 429:\n            children = this.translator.trans('core.lib.error.rate_limit_exceeded_message');\n            break;\n\n          default:\n            children = this.translator.trans('core.lib.error.generic_message');\n        }\n\n        error.alert = Alert.component({\n          type: 'error',\n          children\n        });\n\n        try {\n          options.errorHandler(error);\n        } catch (error) {\n          // this.alerts.show(error.alert);\n        }\n\n        return Promise.reject(error);\n      });\n\n      // return deferred.promise;\n    }\n}\n","import forEach from 'lodash/forEach';\r\nimport get from 'lodash/get';\r\nimport set from 'lodash/set';\r\n\r\nexport default class Bus {\r\n    subscribers = {};\r\n\r\n    subscribe(event, callable) {\r\n        set(this.subscribers, event + '[]', callable);\r\n    }\r\n\r\n    dispatch(event, args: any = null) {\r\n        forEach(get(this.subscribers, event), function(listener) {\r\n            listener(event, args);\r\n        });\r\n    }\r\n}","import Mithril from 'mithril';\n\nexport type ComponentProps = {\n  children?: Mithril.Children,\n\n  className?: string;\n\n  [key: string]: any;\n}\n\nexport default class Component<T extends ComponentProps = any> {\n    protected element: HTMLElement;\n\n    protected props = <T> {};\n\n    view(vnode) {\n        throw new Error('Component#view must be implemented by subclass');\n    }\n\n    oninit(vnode) {\n        this.setProps(vnode.attrs);\n    }\n\n    oncreate(vnode) {\n        this.setProps(vnode.attrs);\n        this.element = vnode.dom;\n    }\n\n    onbeforeupdate(vnode) {\n        this.setProps(vnode.attrs);\n    }\n\n    onupdate(vnode) {\n        this.setProps(vnode.attrs);\n    }\n\n    onbeforeremove(vnode) {\n        this.setProps(vnode.attrs);\n    }\n\n    onremove(vnode) {\n        this.setProps(vnode.attrs);\n    }\n\n    /**\n     * Returns a jQuery object for this component's element. If you pass in a\n     * selector string, this method will return a jQuery object, using the current\n     * element as its buffer.\n     *\n     * For example, calling `component.$('li')` will return a jQuery object\n     * containing all of the `li` elements inside the DOM element of this\n     * component.\n     *\n     * @param {String} [selector] a jQuery-compatible selector string\n     * @returns {jQuery} the jQuery object for the DOM node\n     * @final\n     */\n    $(selector?: string) {\n        const $element = $(this.element);\n\n        return selector ? $element.find(selector) : $element;\n    }\n\n    static component(props: ComponentProps|any = {}, children?: Mithril.Children) {\n        const componentProps: ComponentProps = Object.assign({}, props);\n\n        if (children) componentProps.children = children;\n\n        return m(this, componentProps);\n    }\n\n    static initProps(props: ComponentProps = {}) {}\n\n    private setProps(props: T) {\n        (this.constructor as typeof Component).initProps(props);\n\n        this.props = props;\n    }\n}\n","/**\n * The `Model` class represents a local data resource. It provides methods to\n * persist changes via the API.\n *\n * @abstract\n */\nimport Store from \"./Store\";\n\nexport default class Model {\n  /**\n   * The resource object from the API.\n   */\n  data: any;\n\n  /**\n   * The time at which the model's data was last updated. Watching the value\n   * of this property is a fast way to retain/cache a subtree if data hasn't\n   * changed.\n   */\n  freshness: Date;\n\n  /**\n   * Whether or not the resource exists on the server.\n   */\n  exists: boolean;\n\n  /**\n   * The data store that this resource should be persisted to.\n   */\n  protected store: Store;\n\n  /**\n   * @param {Object} data A resource object from the API.\n   * @param {Store} store The data store that this model should be persisted to.\n   */\n  constructor(data = {}, store = null) {\n    this.data = data;\n    this.store = store;\n\n    this.freshness = new Date();\n    this.exists = false;\n  }\n\n  /**\n   * Get the model's ID.\n   * @final\n   */\n  id(): number {\n    return this.data.id;\n  }\n\n  /**\n   * Get one of the model's attributes.\n   * @final\n   */\n  attribute(attribute: string): any {\n    return this.data.attributes[attribute];\n  }\n\n  /**\n   * Merge new data into this model locally.\n   *\n   * @param data A resource object to merge into this model\n   * @public\n   */\n  pushData(data: {}) {\n    // Since most of the top-level items in a resource object are objects\n    // (e.g. relationships, attributes), we'll need to check and perform the\n    // merge at the second level if that's the case.\n    for (const key in data) {\n      if (typeof data[key] === 'object') {\n        this.data[key] = this.data[key] || {};\n\n        // For every item in a second-level object, we want to check if we've\n        // been handed a Model instance. If so, we will convert it to a\n        // relationship data object.\n        for (const innerKey in data[key]) {\n          if (data[key][innerKey] instanceof Model) {\n            data[key][innerKey] = {data: Model.getIdentifier(data[key][innerKey])};\n          }\n          this.data[key][innerKey] = data[key][innerKey];\n        }\n      } else {\n        this.data[key] = data[key];\n      }\n    }\n\n    // Now that we've updated the data, we can say that the model is fresh.\n    // This is an easy way to invalidate retained subtrees etc.\n    this.freshness = new Date();\n  }\n\n  /**\n   * Merge new attributes into this model locally.\n   *\n   * @param {Object} attributes The attributes to merge.\n   */\n  pushAttributes(attributes: any) {\n    this.pushData({attributes});\n  }\n\n  /**\n   * Merge new attributes into this model, both locally and with persistence.\n   *\n   * @param attributes The attributes to save. If a 'relationships' key\n   *     exists, it will be extracted and relationships will also be saved.\n   * @param [options]\n   * @return {Promise}\n   */\n  save(attributes: any, options: any = {}): Promise {\n    const data = {\n      type: this.data.type,\n      id: this.data.id,\n      attributes,\n      relationships: undefined\n    };\n\n    // If a 'relationships' key exists, extract it from the attributes hash and\n    // set it on the top-level data object instead. We will be sending this data\n    // object to the API for persistence.\n    if (attributes.relationships) {\n      data.relationships = {};\n\n      for (const key in attributes.relationships) {\n        const model = attributes.relationships[key];\n\n        data.relationships[key] = {\n          data: model instanceof Array\n            ? model.map(Model.getIdentifier)\n            : Model.getIdentifier(model)\n        };\n      }\n\n      delete attributes.relationships;\n    }\n\n    // Before we update the model's data, we should make a copy of the model's\n    // old data so that we can revert back to it if something goes awry during\n    // persistence.\n    const oldData = this.copyData();\n\n    this.pushData(data);\n\n    const request = {data};\n    if (options.meta) request.meta = options.meta;\n\n    return app.request(Object.assign({\n      method: this.exists ? 'PATCH' : 'POST',\n      url: app.forum.attribute('apiUrl') + this.apiEndpoint(),\n      data: request\n    }, options)).then(\n      // If everything went well, we'll make sure the store knows that this\n      // model exists now (if it didn't already), and we'll push the data that\n      // the API returned into the store.\n      payload => {\n        this.store.data[payload.data.type] = this.store.data[payload.data.type] || {};\n        this.store.data[payload.data.type][payload.data.id] = this;\n        return this.store.pushPayload(payload);\n      },\n\n      // If something went wrong, though... good thing we backed up our model's\n      // old data! We'll revert to that and let others handle the error.\n      response => {\n        this.pushData(oldData);\n        m.lazyRedraw();\n        throw response;\n      }\n    );\n  }\n\n  /**\n   * Send a request to delete the resource.\n   *\n   * @param {Object} data Data to send along with the DELETE request.\n   * @param {Object} [options]\n   * @return {Promise}\n   * @public\n   */\n  delete(data, options = {}) {\n    if (!this.exists) return m.deferred.resolve().promise;\n\n    return app.request(Object.assign({\n      method: 'DELETE',\n      url: app.forum.attribute('apiUrl') + this.apiEndpoint(),\n      data\n    }, options)).then(() => {\n      this.exists = false;\n      this.store.remove(this);\n    });\n  }\n\n  /**\n   * Construct a path to the API endpoint for this resource.\n   *\n   * @return {String}\n   * @protected\n   */\n  apiEndpoint() {\n    return '/' + this.data.type + (this.exists ? '/' + this.data.id : '');\n  }\n\n  copyData() {\n    return JSON.parse(JSON.stringify(this.data));\n  }\n\n  /**\n   * Generate a function which returns the value of the given attribute.\n   *\n   * @param {String} name\n   * @param [transform] A function to transform the attribute value\n   */\n  static attribute(name: string, transform?: Function): () => any {\n    return function() {\n      const value = this.data.attributes && this.data.attributes[name];\n\n      return transform ? transform(value) : value;\n    };\n  }\n\n  /**\n   * Generate a function which returns the value of the given has-one\n   * relationship.\n   *\n   * @return false if no information about the\n   *     relationship exists; undefined if the relationship exists but the model\n   *     has not been loaded; or the model if it has been loaded.\n   */\n  static hasOne(name: string): () => Model|boolean {\n    return function() {\n      if (this.data.relationships) {\n        const relationship = this.data.relationships[name];\n\n        if (relationship) {\n          return app.store.getById(relationship.data.type, relationship.data.id);\n        }\n      }\n\n      return false;\n    };\n  }\n\n  /**\n   * Generate a function which returns the value of the given has-many\n   * relationship.\n   *\n   * @return false if no information about the relationship\n   *     exists; an array if it does, containing models if they have been\n   *     loaded, and undefined for those that have not.\n   */\n  static hasMany(name: string): () => []|boolean {\n    return function() {\n      if (this.data.relationships) {\n        const relationship = this.data.relationships[name];\n\n        if (relationship) {\n          return relationship.data.map(data => app.store.getById(data.type, data.id));\n        }\n      }\n\n      return false;\n    };\n  }\n\n  /**\n   * Transform the given value into a Date object.\n   */\n  static transformDate(value: string): Date {\n    return value ? new Date(value) : null;\n  }\n\n  /**\n   * Get a resource identifier object for the given model.\n   */\n  protected static getIdentifier(model: Model): { type: string, id: string } {\n    return {\n      type: model.data.type,\n      id: model.data.id\n    };\n  }\n}\n","/**\n * The `Session` class defines the current user session. It stores a reference\n * to the current authenticated user, and provides methods to log in/out.\n */\nexport default class Session {\n  /**\n   * The current authenticated user.\n   */\n  user?: User;\n\n  /**\n   * The CSRF token.\n   */\n  csrfToken?: string;\n\n  constructor(user, csrfToken) {\n    this.user = user;\n\n    this.csrfToken = csrfToken;\n  }\n\n  /**\n   * Attempt to log in a user.\n   */\n  login(data: { identification: string, password: string }, options = {}): Promise {\n    return app.request(Object.assign({\n      method: 'POST',\n      url: app.forum.attribute('baseUrl') + '/login',\n      data\n    }, options));\n  }\n\n  /**\n   * Log the user out.\n   *\n   * @public\n   */\n  logout() {\n    window.location = app.forum.attribute('baseUrl') + '/logout?token=' + this.csrfToken;\n  }\n}\n","import Model from './Model';\n\n/**\n * The `Store` class defines a local data store, and provides methods to\n * retrieve data from the API.\n */\nexport default class Store {\n  /**\n   * The local data store. A tree of resource types to IDs, such that\n   * accessing data[type][id] will return the model for that type/ID.\n   */\n  protected data: { [key: string]: { [key: number]: Model }} = {};\n\n  /**\n   * The model registry. A map of resource types to the model class that\n   * should be used to represent resources of that type.\n   */\n  models: {};\n\n  constructor(models) {\n    this.models = models;\n  }\n\n  /**\n   * Push resources contained within an API payload into the store.\n   *\n   * @param payload\n   * @return The model(s) representing the resource(s) contained\n   *     within the 'data' key of the payload.\n   */\n  pushPayload(payload: { included?: {}[], data?: {}|{}[] }): Model|Model[] {\n    if (payload.included) payload.included.map(this.pushObject.bind(this));\n\n    const result: any = payload.data instanceof Array\n      ? payload.data.map(this.pushObject.bind(this))\n      : this.pushObject(payload.data);\n\n    // Attach the original payload to the model that we give back. This is\n    // useful to consumers as it allows them to access meta information\n    // associated with their request.\n    result.payload = payload;\n\n    return result;\n  }\n\n  /**\n   * Create a model to represent a resource object (or update an existing one),\n   * and push it into the store.\n   *\n   * @param {Object} data The resource object\n   * @return The model, or null if no model class has been\n   *     registered for this resource type.\n   */\n  pushObject(data): Model {\n    if (!this.models[data.type]) return null;\n\n    const type = this.data[data.type] = this.data[data.type] || {};\n\n    if (type[data.id]) {\n      type[data.id].pushData(data);\n    } else {\n      type[data.id] = this.createRecord(data.type, data);\n    }\n\n    type[data.id].exists = true;\n\n    return type[data.id];\n  }\n\n  /**\n   * Make a request to the API to find record(s) of a specific type.\n   *\n   * @param type The resource type.\n   * @param [id] The ID(s) of the model(s) to retrieve.\n   *     Alternatively, if an object is passed, it will be handled as the\n   *     `query` parameter.\n   * @param query\n   * @param options\n   */\n  find<T extends Model = Model>(type: string, id?: number|Array<number>|any, query = {}, options = {}): Promise<T[]> {\n    let data = query;\n    let url = `${app.forum.attribute('apiUrl')}/${type}`;\n\n    if (id instanceof Array) {\n      url += `?filter[id]=${id.join(',')}`;\n    } else if (typeof id === 'object') {\n      data = id;\n    } else if (id) {\n      url += `/${id}`;\n    }\n\n    return app.request(Object.assign({\n      method: 'GET',\n      url,\n      data\n    }, options)).then(this.pushPayload.bind(this));\n  }\n\n  /**\n   * Get a record from the store by ID.\n   *\n   * @param type The resource type.\n   * @param id The resource ID.\n   */\n  getById<T extends Model = Model>(type: string, id: number): T {\n    return this.data[type] && this.data[type][id] as T;\n  }\n\n  /**\n   * Get a record from the store by the value of a model attribute.\n   *\n   * @param type The resource type.\n   * @param key The name of the method on the model.\n   * @param value The value of the model attribute.\n   */\n  getBy<T extends Model = Model>(type: string, key: string, value: any): T {\n    return this.all<T>(type).filter(model => model[key]() === value)[0];\n  }\n\n  /**\n   * Get all loaded records of a specific type.\n   */\n  all<T extends Model = Model>(type: string): T[] {\n    const records = this.data[type];\n\n    return records ? Object.keys(records).map(id => records[id]) : [];\n  }\n\n  /**\n   * Remove the given model from the store.\n   */\n  remove(model: Model) {\n    delete this.data[model.data.type][model.id()];\n  }\n\n  /**\n   * Create a new record of the given type.\n   *\n   * @param {String} type The resource type\n   * @param {Object} [data] Any data to initialize the model with\n   */\n  createRecord<T extends Model = Model>(type: string, data: any = {}): T {\n    data.type = data.type || type;\n\n    return new (this.models[type])(data, this);\n  }\n}\n","import extract from './utils/extract';\nimport username from './helpers/username';\n\ntype Translations = { [key: string]: string };\n\nexport default class Translator {\n    translations: Translations = {};\n    locale = null;\n\n    constructor() {\n        /**\n         * A map of translation keys to their translated values.\n         *\n         * @type {Object}\n         * @public\n         */\n        this.translations = {};\n\n        this.locale = null;\n    }\n\n    addTranslations(translations) {\n        Object.assign(this.translations, translations);\n    }\n\n    trans(id: string, parameters = null) {\n        const translation = this.translations[id];\n\n        if (translation) {\n            return this.apply(translation, parameters || {});\n        }\n\n        return id;\n    }\n\n    apply(translation: string, input: any) {\n        if ('user' in input) {\n            const user = extract(input, 'user');\n            if (!input.username) input.username = username(user);\n        }\n\n        const parts = translation.split(new RegExp('({[a-z0-9_]+}|</?[a-z0-9_]+>)', 'gi'));\n\n        const hydrated: any[] = [];\n        const open: any[][] = [hydrated];\n\n        parts.forEach(part => {\n            const match = part.match(new RegExp('{([a-z0-9_]+)}|<(/?)([a-z0-9_]+)>', 'i'));\n\n            if (match) {\n                if (match[1]) {\n                    open[0].push(input[match[1]]);\n                } else if (match[3]) {\n                    if (match[2]) {\n                        open.shift();\n                    } else {\n                        let tag = input[match[3]] || { tag: match[3], children: [] };\n                        open[0].push(tag);\n                        open.unshift(tag.children || tag);\n                    }\n                }\n            } else {\n                open[0].push(part);\n            }\n        });\n\n        return hydrated.filter(part => part);\n    }\n}\n","import * as extend from './extend';\n\nexport default {\n    extend: extend,\n};\n","import Component, {ComponentProps} from '../Component';\nimport Button from './Button';\nimport listItems from '../helpers/listItems';\nimport extract from '../utils/extract';\nimport * as Mithril from \"mithril\";\n\nexport interface AlertProps extends ComponentProps {\n  controls?: Mithril.ChildArray,\n  type?: string,\n  dismissible?: boolean,\n\n  ondismiss?: () => any,\n}\n\n/**\n * The `Alert` component represents an alert box, which contains a message,\n * some controls, and may be dismissible.\n *\n * The alert may have the following special props:\n *\n * - `type` The type of alert this is. Will be used to give the alert a class\n *   name of `Alert--{type}`.\n * - `controls` An array of controls to show in the alert.\n * - `dismissible` Whether or not the alert can be dismissed.\n * - `ondismiss` A callback to run when the alert is dismissed.\n *\n * All other props will be assigned as attributes on the alert element.\n */\nexport default class Alert extends Component<AlertProps> {\n  view() {\n    const attrs: AlertProps = Object.assign({}, this.props);\n\n    const type: string = extract(attrs, 'type');\n    attrs.className = `Alert Alert--${type} ${attrs.className || ''}`;\n\n    const children: Mithril.Children = extract(attrs, 'children');\n    const controls: Mithril.ChildArray = extract(attrs, 'controls') || [];\n\n    // If the alert is meant to be dismissible (which is the case by default),\n    // then we will create a dismiss button to append as the final control in\n    // the alert.\n    const dismissible: boolean|undefined = extract(attrs, 'dismissible');\n    const ondismiss: () => any = extract(attrs, 'ondismiss');\n    const dismissControl = [];\n\n    if (dismissible || dismissible === undefined) {\n      dismissControl.push(\n        <Button\n          icon=\"fas fa-times\"\n          className=\"Button Button--link Button--icon Alert-dismiss\"\n          onclick={ondismiss}/>\n      );\n    }\n\n    return (\n      <div {...attrs}>\n        <span className=\"Alert-body\">\n          {children}\n        </span>\n        <ul className=\"Alert-controls\">\n          {listItems(controls.concat(dismissControl))}\n        </ul>\n      </div>\n    );\n  }\n}\n","import Component from '../Component';\nimport icon from '../helpers/icon';\nimport extract from '../utils/extract';\n\n/**\n * The `Badge` component represents a user/discussion badge, indicating some\n * status (e.g. a discussion is stickied, a user is an admin).\n *\n * A badge may have the following special props:\n *\n * - `type` The type of badge this is. This will be used to give the badge a\n *   class name of `Badge--{type}`.\n * - `icon` The name of an icon to show inside the badge.\n * - `label`\n *\n * All other props will be assigned as attributes on the badge element.\n */\nexport default class Badge extends Component {\n  view(vnode) {\n    const attrs = vnode.attrs;\n    const type = extract(attrs, 'type');\n    const iconName = extract(attrs, 'icon');\n\n    attrs.className = `Badge ${type ? `Badge--${type}` : ''} ${attrs.className || ''}`;\n    attrs.title = extract(attrs, 'label') || '';\n\n    return (\n      <span {...attrs}>\n        {iconName ? icon(iconName, {className: 'Badge-icon'}) : m.trust('&nbsp;')}\n      </span>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    if (this.props.label) this.$().tooltip({container: 'body'});\n  }\n}\n","import Component, {ComponentProps} from '../Component';\nimport icon from '../helpers/icon';\nimport extract from '../utils/extract';\nimport extractText from '../utils/extractText';\nimport LoadingIndicator from './LoadingIndicator';\n\nexport interface ButtonProps extends ComponentProps {\n  title?: string,\n  type?: string,\n  icon?: string,\n\n  loading?: boolean,\n  disabled?: boolean,\n  onclick?: Function\n}\n\n/**\n * The `Button` component defines an element which, when clicked, performs an\n * action. The button may have the following special props:\n *\n * - `icon` The name of the icon class. If specified, the button will be given a\n *   'has-icon' class name.\n * - `disabled` Whether or not the button is disabled. If truthy, the button\n *   will be given a 'disabled' class name, and any `onclick` handler will be\n *   removed.\n * - `loading` Whether or not the button should be in a disabled loading state.\n *\n * All other props will be assigned as attributes on the button element.\n *\n * Note that a Button has no default class names. This is because a Button can\n * be used to represent any generic clickable control, like a menu item.\n */\nexport default class Button<T extends ButtonProps = ButtonProps> extends Component<T> {\n  view(vnode) {\n    const attrs: ButtonProps = vnode.attrs;\n    const children = attrs.children;\n\n    delete attrs.children;\n\n    attrs.className = attrs.className || '';\n    attrs.type = attrs.type || 'button';\n\n    // If nothing else is provided, we use the textual button content as tooltip\n    if (!attrs.title && this.props.children) {\n      attrs.title = extractText(this.props.children);\n    }\n\n    const iconName = extract(attrs, 'icon');\n    if (iconName) attrs.className += ' hasIcon';\n\n    const loading = extract(attrs, 'loading');\n    if (attrs.disabled || loading) {\n      attrs.className += ' disabled' + (loading ? ' loading' : '');\n      delete attrs.onclick;\n    }\n\n    return <button {...attrs}>{this.getButtonContent(attrs.icon, attrs.loading, children)}</button>;\n  }\n\n  /**\n   * Get the template for the button's content.\n   */\n  protected getButtonContent(iconName?: string|boolean, loading?: boolean, children?: any) : any[] {\n    return [\n      iconName && iconName !== true ? icon(iconName, {className: 'Button-icon'}) : '',\n      children ? <span className=\"Button-label\">{children}</span> : '',\n      loading ? LoadingIndicator.component({size: 'tiny', className: 'LoadingIndicator--inline'}) : ''\n    ];\n  }\n}\n","import Component, {ComponentProps} from '../Component';\nimport icon from '../helpers/icon';\nimport listItems from '../helpers/listItems';\n\nexport interface DropdownProps extends ComponentProps {\n  buttonClassName?: string;\n  menuClassName?: string;\n  label?: string;\n  icon?: string;\n  caretIcon?: undefined|string;\n\n  onhide?: Function;\n  onshow?: Function;\n  onclick?: Function;\n}\n\n/**\n * The `Dropdown` component displays a button which, when clicked, shows a\n * dropdown menu beneath it.\n *\n * ### Props\n *\n * - `buttonClassName` A class name to apply to the dropdown toggle button.\n * - `menuClassName` A class name to apply to the dropdown menu.\n * - `icon` The name of an icon to show in the dropdown toggle button.\n * - `caretIcon` The name of an icon to show on the right of the button.\n * - `label` The label of the dropdown toggle button. Defaults to 'Controls'.\n * - `onhide`\n * - `onshow`\n *\n * The children will be displayed as a list inside of the dropdown menu.\n */\nexport default class Dropdown<T extends DropdownProps = DropdownProps> extends Component<T> {\n  showing: boolean;\n\n  static initProps(props: DropdownProps) {\n    props.className = props.className || '';\n    props.buttonClassName = props.buttonClassName || '';\n    props.menuClassName = props.menuClassName || '';\n    props.label = props.label || '';\n    props.caretIcon = typeof props.caretIcon !== 'undefined' ? props.caretIcon : 'fas fa-caret-down';\n  }\n\n  view() {\n    const items = this.props.children ? listItems(this.props.children) : [];\n\n    return (\n      <div className={`ButtonGroup Dropdown dropdown ${this.props.className} itemCount${items.length}${this.showing ? ' open' : ''}`}>\n        {this.getButton()}\n        {this.getMenu(items)}\n      </div>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.$('> .Dropdown-toggle').dropdown();\n\n    // When opening the dropdown menu, work out if the menu goes beyond the\n    // bottom of the viewport. If it does, we will apply class to make it show\n    // above the toggle button instead of below it.\n    this.element.addEventListener('shown.bs.dropdown', () => {\n      this.showing = true;\n\n      if (this.props.onshow) {\n        this.props.onshow();\n      }\n\n      m.redraw();\n\n      const $menu = this.$('.Dropdown-menu');\n      const isRight = $menu.hasClass('Dropdown-menu--right');\n\n      $menu.removeClass('Dropdown-menu--top Dropdown-menu--right');\n\n      $menu.toggleClass(\n        'Dropdown-menu--top',\n        $menu.offset().top + $menu.height() > $(window).scrollTop() + $(window).height()\n      );\n\n      if ($menu.offset().top < 0) {\n        $menu.removeClass('Dropdown-menu--top');\n      }\n\n      $menu.toggleClass(\n        'Dropdown-menu--right',\n        isRight || $menu.offset().left + $menu.width() > $(window).scrollLeft() + $(window).width()\n      );\n    });\n\n    this.element.addEventListener('hidden.bs.dropdown', () => {\n      this.showing = false;\n\n      if (this.props.onhide) {\n        this.props.onhide();\n      }\n\n      m.redraw();\n    });\n  }\n\n  /**\n   * Get the template for the button.\n   */\n  protected getButton(): any {\n    return (\n      <button\n        className={'Dropdown-toggle ' + this.props.buttonClassName}\n        data-toggle=\"dropdown\"\n        onclick={this.props.onclick}>\n        {this.getButtonContent()}\n      </button>\n    );\n  }\n\n  /**\n   * Get the template for the button's content.\n   *\n   * @return {*}\n   */\n  protected getButtonContent() {\n    const attrs = this.props;\n\n    return [\n      attrs.icon ? icon(attrs.icon, {className: 'Button-icon'}) : '',\n      <span className=\"Button-label\">{attrs.label}</span>,\n      attrs.caretIcon ? icon(attrs.caretIcon, {className: 'Button-caret'}) : ''\n    ];\n  }\n\n  protected getMenu(items) {\n    return (\n      <ul className={'Dropdown-menu dropdown-menu ' + this.props.menuClassName}>\n        {items}\n      </ul>\n    );\n  }\n}\n","import Badge from './Badge';\n\nexport default class GroupBadge extends Badge {\n  static initProps(props) {\n    super.initProps(props);\n\n    if (props.group) {\n      props.icon = props.group.icon();\n      props.style = {backgroundColor: props.group.color()};\n      props.label = typeof props.label === 'undefined' ? props.group.nameSingular() : props.label;\n      props.type = `group--${props.group.id()}`;\n\n      delete props.group;\n    }\n  }\n}\n","import Button, {ButtonProps} from './Button';\n\ninterface LinkButtonProps extends ButtonProps {\n  active: boolean;\n  oncreate: Function;\n  href?: string;\n}\n\n/**\n * The `LinkButton` component defines a `Button` which links to a route.\n *\n * ### Props\n *\n * All of the props accepted by `Button`, plus:\n *\n * - `active` Whether or not the page that this button links to is currently\n *   active.\n * - `href` The URL to link to. If the current URL `m.route()` matches this,\n *   the `active` prop will automatically be set to true.\n */\nexport default class LinkButton extends Button<LinkButtonProps> {\n  static initProps(props: LinkButtonProps) {\n    props.active = this.isActive(props);\n    props.oncreate = props.oncreate || m.route;\n  }\n\n  view(vnode) {\n    const vdom = super.view(vnode);\n\n    vdom.tag = 'a';\n\n    return vdom;\n  }\n\n  /**\n   * Determine whether a component with the given props is 'active'.\n   */\n  static isActive(props: LinkButtonProps): boolean {\n    return typeof props.active !== 'undefined'\n      ? props.active\n      : m.route.get() === props.href;\n  }\n}\n","import Component from '../Component';\nimport {Spinner, SpinnerOptions} from 'spin.js';\n\n/**\n * The `LoadingIndicator` component displays a loading spinner with spin.js. It\n * may have the following special props:\n *\n * - `size` The spin.js size preset to use. Defaults to 'small'.\n *\n * All other props will be assigned as attributes on the element.\n */\nexport default class LoadingIndicator extends Component {\n  view(vnode) {\n    const attrs = vnode.attrs;\n\n    attrs.className = 'LoadingIndicator ' + (attrs.className || '');\n    delete attrs.size;\n\n    return <div {...attrs}>{m.trust('&nbsp;')}</div>;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    const options: SpinnerOptions = { zIndex: 'auto', color: this.$().css('color') };\n    let sizeOptions: SpinnerOptions = {};\n\n    switch (vnode.attrs.size) {\n      case 'large':\n        sizeOptions = { lines: 10, length: 8, width: 4, radius: 8 };\n        break;\n\n      case 'tiny':\n        sizeOptions = { lines: 8, length: 2, width: 2, radius: 3 };\n        break;\n\n      default:\n        sizeOptions = { lines: 8, length: 4, width: 3, radius: 5 };\n    }\n\n    new Spinner({ ...options, ...sizeOptions }).spin(this.element);\n  }\n}\n","import Dropdown, {DropdownProps} from './Dropdown';\nimport icon from '../helpers/icon';\n\nexport interface SelectDropdownProps extends DropdownProps {\n  defaultLabel?: string;\n}\n\n/**\n * The `SelectDropdown` component is the same as a `Dropdown`, except the toggle\n * button's label is set as the label of the first child which has a truthy\n * `active` prop.\n *\n * ### Props\n *\n * - `caretIcon`\n * - `defaultLabel`\n */\nexport default class SelectDropdown extends Dropdown<SelectDropdownProps> {\n  static initProps(props: SelectDropdownProps) {\n      props.caretIcon = typeof props.caretIcon !== 'undefined' ? props.caretIcon : 'fas fa-sort';\n\n      super.initProps(props);\n\n      props.className += ' Dropdown--select';\n  }\n\n  getButtonContent() {\n    const activeChild = this.props.children.filter(child => child.attrs.active)[0];\n    let label = activeChild && activeChild.attrs.children || this.props.defaultLabel;\n\n    if (label instanceof Array) label = label[0];\n\n    return [\n      <span className=\"Button-label\">{label}</span>,\n      icon(this.props.caretIcon, {className: 'Button-caret'})\n    ];\n  }\n}\n","import Component from '../Component';\n\n/**\n * The `Separator` component defines a menu separator item.\n */\nexport default class Separator extends Component {\n  static isListItem = true;\n\n  view() {\n    return <li className=\"Dropdown-separator\"/>;\n  }\n}\n","/**\n * Extend an object's method by running its output through a mutating callback\n * every time it is called.\n *\n * The callback accepts the method's return value and should perform any\n * mutations directly on this value. For this reason, this function will not be\n * effective on methods which return scalar values (numbers, strings, booleans).\n *\n * Care should be taken to extend the correct object – in most cases, a class'\n * prototype will be the desired target of extension, not the class itself.\n *\n * @example\n * extend(Discussion.prototype, 'badges', function(badges) {\n *   // do something with `badges`\n * });\n *\n * @param {Object} object The object that owns the method\n * @param {String} method The name of the method to extend\n * @param {function} callback A callback which mutates the method's output\n */\nexport function extend(object, method, callback) {\n    const original = object[method];\n\n    object[method] = (...args) => {\n        // @ts-ignore\n        const value = original ? original.apply(object, args) : undefined;\n\n        // @ts-ignore\n        callback.apply(object, [value].concat(args));\n\n        return value;\n    };\n\n    Object.assign(object[method], original);\n}\n\n/**\n * Override an object's method by replacing it with a new function, so that the\n * new function will be run every time the object's method is called.\n *\n * The replacement function accepts the original method as its first argument,\n * which is like a call to 'super'. Any arguments passed to the original method\n * are also passed to the replacement.\n *\n * Care should be taken to extend the correct object – in most cases, a class'\n * prototype will be the desired target of extension, not the class itself.\n *\n * @example\n * override(Discussion.prototype, 'badges', function(original) {\n *   const badges = original();\n *   // do something with badges\n *   return badges;\n * });\n *\n * @param {Object} object The object that owns the method\n * @param {String} method The name of the method to override\n * @param {function} newMethod The method to replace it with\n */\nexport function override(object, method, newMethod) {\n    const original = object[method];\n\n    object[method] = function(...args) {\n        // @ts-ignore\n        return newMethod.apply(this, [original.bind(this)].concat(args));\n    };\n\n    Object.assign(object[method], original);\n}\n","/**\n * The `avatar` helper displays a user's avatar.\n *\n * @param {User} user\n * @param {Object} attrs Attributes to apply to the avatar element\n * @return {Object}\n */\nexport default function avatar(user, attrs: any = {}) {\n  attrs.className = 'Avatar ' + (attrs.className || '');\n  let content = '';\n\n  // If the `title` attribute is set to null or false, we don't want to give the\n  // avatar a title. On the other hand, if it hasn't been given at all, we can\n  // safely default it to the user's username.\n  const hasTitle = attrs.title === 'undefined' || attrs.title;\n  if (!hasTitle) delete attrs.title;\n\n  // If a user has been passed, then we will set up an avatar using their\n  // uploaded image, or the first letter of their username if they haven't\n  // uploaded one.\n  if (user) {\n    const username = user.displayName() || '?';\n    const avatarUrl = user.avatarUrl();\n\n    if (hasTitle) attrs.title = attrs.title || username;\n\n    if (avatarUrl) {\n      return <img {...attrs} src={avatarUrl}/>;\n    }\n\n    content = username.charAt(0).toUpperCase();\n    attrs.style = {background: user.color()};\n  }\n\n  return <span {...attrs}>{content}</span>;\n}\n","import { truncate } from '../utils/string';\n\n/**\n * The `highlight` helper searches for a word phrase in a string, and wraps\n * matches with the <mark> tag.\n *\n * @param {String} string The string to highlight.\n * @param {String|RegExp} phrase The word or words to highlight.\n * @param {Integer} [length] The number of characters to truncate the string to.\n *     The string will be truncated surrounding the first match.\n */\nexport default function highlight(string: string, phrase: string|RegExp, length?: number): any {\n  if (!phrase && !length) return string;\n\n  // Convert the word phrase into a global regular expression (if it isn't\n  // already) so we can search the string for matched.\n  const regexp = phrase instanceof RegExp ? phrase : new RegExp(phrase, 'gi');\n\n  let highlighted = string;\n  let start = 0;\n\n  // If a length was given, the truncate the string surrounding the first match.\n  if (length) {\n    if (phrase) start = Math.max(0, string.search(regexp) - length / 2);\n\n    highlighted = truncate(highlighted, length, start);\n  }\n\n  // Convert the string into HTML entities, then highlight all matches with\n  // <mark> tags. Then we will return the result as a trusted HTML string.\n  highlighted = $('<div/>').text(highlighted).html();\n\n  if (phrase) highlighted = highlighted.replace(regexp, '<mark>$&</mark>');\n\n  return m.trust(highlighted);\n}\n","/**\n * The `icon` helper displays an icon.\n *\n * @param {String} fontClass The full icon class, prefix and the icon’s name.\n * @param {Object} attrs Any other attributes to apply.\n */\nexport default function icon(fontClass: string, attrs: any = {}) {\n  attrs.className = 'icon ' + fontClass + ' ' + (attrs.className || '');\n\n  return <i {...attrs}/>;\n}\n","import Separator from '../components/Separator';\n\nexport function isSeparator(item) {\n  return item && item.component === Separator;\n}\n\nexport function withoutUnnecessarySeparators(items) {\n  const newItems = [];\n  let prevItem;\n\n  items.forEach((item, i) => {\n    if (!isSeparator(item) || (prevItem && !isSeparator(prevItem) && i !== items.length - 1)) {\n      prevItem = item;\n      newItems.push(item);\n    }\n  });\n\n  return newItems;\n}\n\n/**\n * The `listItems` helper wraps a collection of components in <li> tags,\n * stripping out any unnecessary `Separator` components.\n *\n * @param {*} items\n * @return {Array}\n */\nexport default function listItems(items) {\n  if (!(items instanceof Array)) items = [items];\n\n  return withoutUnnecessarySeparators(items).map(item => {\n    const isListItem = item.component && item.component.isListItem;\n    const active = item.component && item.component.isActive && item.component.isActive(item.props);\n    const className = item.props ? item.props.itemClassName : item.itemClassName;\n\n    if (isListItem) {\n      item.attrs = item.attrs || {};\n      item.attrs.key = item.attrs.key || item.itemName;\n    }\n\n    return isListItem\n      ? item\n      : <li className={classNames([\n        (item.itemName ? 'item-' + item.itemName : ''),\n        className,\n        (active ? 'active' : '')\n      ])}\n            key={item.itemName}>\n        {item}\n      </li>;\n  });\n}\n","/**\n * The `username` helper displays a user's username in a <span class=\"username\">\n * tag. If the user doesn't exist, the username will be displayed as [deleted].\n *\n * @param {User} user\n */\nexport default function username(user): any {\n  const name = (user && user.displayName()) || app.translator.trans('core.lib.username.deleted_text');\n\n  return <span className=\"username\">{name}</span>;\n}\n","import 'expose-loader?jQuery!zepto';\nimport 'expose-loader?moment!expose-loader?dayjs!dayjs';\nimport 'expose-loader?m!mithril';\nimport 'expose-loader?m.bidi!m.attrs.bidi';\nimport 'expose-loader?Mousetrap!mousetrap';\nimport 'expose-loader?classNames!classNames';\n\nimport 'zepto/src/selector';\nimport 'zepto/src/data';\nimport 'zepto/src/fx';\nimport 'zepto/src/fx_methods';\n\nimport './utils/patchZepto';\n\nimport 'hc-sticky';\nimport 'bootstrap/js/dropdown';\nimport 'bootstrap/js/transition';\n\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\n\ndayjs.extend(relativeTime);\ndayjs.extend(localizedFormat);\n\nimport patchMithril from './utils/patchMithril';\n\npatchMithril();\n\n// import * as Extend from './extend/index';\n\n// export { Extend };\n","import Model from '../Model';\nimport computed from '../utils/computed';\nimport ItemList from '../utils/ItemList';\nimport Badge from '../components/Badge';\n\nimport User from './User';\nimport Post from './Post';\n\nexport default class Discussion extends Model {\n  title = Model.attribute('title') as () => string;\n  slug = Model.attribute('slug') as () => string;\n\n  createdAt = Model.attribute('createdAt', Model.transformDate) as () => Date;\n  user = Model.hasOne('user') as () => User;\n  firstPost = Model.hasOne('firstPost') as () => Post;\n\n  lastPostedAt = Model.attribute('lastPostedAt', Model.transformDate) as () => Date;\n  lastPostedUser = Model.hasOne('lastPostedUser') as () => User;\n  lastPost = Model.hasOne('lastPost') as () => Post;\n  lastPostNumber = Model.attribute('lastPostNumber') as () => number;\n\n  commentCount = Model.attribute('commentCount') as () => number;\n  replyCount = computed('commentCount', commentCount => Math.max(0, commentCount - 1)) as () => string;\n  posts = Model.hasMany('posts') as () => Post[];\n  mostRelevantPost = Model.hasOne('mostRelevantPost') as () => Post;\n\n  lastReadAt = Model.attribute('lastReadAt', Model.transformDate) as () => Date;\n  lastReadPostNumber = Model.attribute('lastReadPostNumber') as () => number;\n  isUnread = computed('unreadCount', unreadCount => !!unreadCount) as () => boolean;\n  isRead = computed('unreadCount', unreadCount => app.session.user && !unreadCount) as () => boolean;\n\n  hiddenAt = Model.attribute('hiddenAt', Model.transformDate) as () => Date;\n  hiddenUser = Model.hasOne('hiddenUser') as () => User;\n  isHidden = computed('hiddenAt', hiddenAt => !!hiddenAt) as () => boolean;\n\n  canReply = Model.attribute('canReply') as () => boolean;\n  canRename = Model.attribute('canRename') as () => boolean;\n  canHide = Model.attribute('canHide') as () => boolean;\n  canDelete = Model.attribute('canDelete') as () => boolean;\n\n  /**\n   * Remove a post from the discussion's posts relationship.\n   *\n   * @param id The ID of the post to remove.\n   */\n  removePost(id: number) {\n    const relationships = this.data.relationships;\n    const posts = relationships && relationships.posts;\n\n    if (posts) {\n      posts.data.some((data, i) => {\n        if (id === data.id) {\n          posts.data.splice(i, 1);\n          return true;\n        }\n      });\n    }\n  }\n\n  /**\n   * Get the estimated number of unread posts in this discussion for the current\n   * user.\n   */\n  unreadCount(): number {\n    const user = app.session.user;\n\n    if (user && user.markedAllAsReadAt() < this.lastPostedAt()) {\n      return Math.max(0, this.lastPostNumber() - (this.lastReadPostNumber() || 0));\n    }\n\n    return 0;\n  }\n\n  /**\n   * Get the Badge components that apply to this discussion.\n   */\n  badges(): ItemList {\n    const items = new ItemList();\n\n    if (this.isHidden()) {\n      items.add('hidden', <Badge type=\"hidden\" icon=\"fas fa-trash\" label={app.translator.trans('core.lib.badge.hidden_tooltip')}/>);\n    }\n\n    return items;\n  }\n\n  /**\n   * Get a list of all of the post IDs in this discussion.\n   */\n  postIds(): number[] {\n    const posts = this.data.relationships.posts;\n\n    return posts ? posts.data.map(link => link.id) : [];\n  }\n}\n","import Model from '../Model';\n\nexport default class Forum extends Model {\n  apiEndpoint() {\n    return '/';\n  }\n}\n","import Model from '../Model';\n\nexport default class Group extends Model {\n  static ADMINISTRATOR_ID = '1';\n  static GUEST_ID = '2';\n  static MEMBER_ID = '3';\n\n  nameSingular = Model.attribute('nameSingular') as () => string;\n  namePlural = Model.attribute('namePlural') as () => string;\n  color = Model.attribute('color') as () => string;\n  icon = Model.attribute('icon') as () => string;\n}\n","import Model from '../Model';\nimport computed from '../utils/computed';\nimport { getPlainContent } from '../utils/string';\n\nimport Discussion from './Discussion';\nimport User from \"./User\";\n\nexport default class Post extends Model {\n  number = Model.attribute('number') as () => number;\n  discussion = Model.hasOne('discussion') as () => Discussion;\n\n  createdAt= Model.attribute('createdAt', Model.transformDate) as () => Date;\n  user = Model.hasOne('user') as () => User;\n  contentType = Model.attribute('contentType') as () => string;\n  content = Model.attribute('content') as () => string;\n  contentHtml = Model.attribute('contentHtml') as () => string;\n  contentPlain = computed('contentHtml', getPlainContent) as () => string;\n\n  editedAt = Model.attribute('editedAt', Model.transformDate) as () => Date;\n  editedUser = Model.hasOne('editedUser') as () => User;\n  isEdited = computed('editedAt', editedAt => !!editedAt) as () => boolean;\n\n  hiddenAt = Model.attribute('hiddenAt', Model.transformDate) as () => Date;\n  hiddenUser = Model.hasOne('hiddenUser') as () => User;\n  isHidden = computed('hiddenAt', hiddenAt => !!hiddenAt) as () => boolean;\n\n  canEdit = Model.attribute('canEdit') as () => boolean;\n  canHide = Model.attribute('canHide') as () => boolean;\n  canDelete = Model.attribute('canDelete') as () => boolean;\n}\n","import Model from '../Model';\nimport stringToColor from '../utils/stringToColor';\nimport ItemList from '../utils/ItemList';\nimport computed from '../utils/computed';\nimport GroupBadge from '../components/GroupBadge';\nimport Group from \"./Group\";\n\nexport default class User extends Model {\n  username = Model.attribute('username') as () => string;\n\n  displayName = Model.attribute('displayName') as () => string;\n  email = Model.attribute('email') as () => string;\n  isEmailConfirmed = Model.attribute('isEmailConfirmed') as () => boolean;\n  password = Model.attribute('password') as () => string;\n\n  avatarUrl = Model.attribute('avatarUrl') as () => string;\n  preferences = Model.attribute('preferences') as () => string;\n  groups = Model.hasMany('groups') as () => Group[];\n\n  joinTime = Model.attribute('joinTime', Model.transformDate) as () => Date;\n  lastSeenAt = Model.attribute('lastSeenAt', Model.transformDate) as () => Date;\n  markedAllAsReadAt = Model.attribute('markedAllAsReadAt', Model.transformDate) as () => Date;\n  unreadNotificationCount = Model.attribute('unreadNotificationCount') as () => number;\n  newNotificationCount = Model.attribute('newNotificationCount') as () => number;\n\n  discussionCount = Model.attribute('discussionCount') as () => number;\n  commentCount = Model.attribute('commentCount') as () => number;\n\n  canEdit = Model.attribute('canEdit') as () => boolean;\n  canDelete = Model.attribute('canDelete') as () => boolean;\n\n  avatarColor = null;\n  color = computed('username', 'avatarUrl', 'avatarColor', function(username, avatarUrl, avatarColor) {\n    // If we've already calculated and cached the dominant color of the user's\n    // avatar, then we can return that in RGB format. If we haven't, we'll want\n    // to calculate it. Unless the user doesn't have an avatar, in which case\n    // we generate a color from their username.\n    if (avatarColor) {\n      return 'rgb(' + avatarColor.join(', ') + ')';\n    } else if (avatarUrl) {\n      this.calculateAvatarColor();\n      return '';\n    }\n\n    return '#' + stringToColor(username);\n  }) as () => string;\n\n  isOnline(): boolean {\n    return this.lastSeenAt() > dayjs().subtract(5, 'minutes').toDate();\n  }\n\n  /**\n   * Get the Badge components that apply to this user.\n   */\n  badges(): ItemList {\n    const items = new ItemList();\n    const groups = this.groups();\n\n    if (groups) {\n      groups.forEach(group => {\n        items.add('group' + group.id(), GroupBadge.component({group}));\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   * Calculate the dominant color of the user's avatar. The dominant color will\n   * be set to the `avatarColor` property once it has been calculated.\n   *\n   * @protected\n   */\n  calculateAvatarColor() {\n    const image = new Image();\n    const user = this;\n\n    image.onload = function() {\n      const colorThief = new ColorThief();\n      user.avatarColor = colorThief.getColor(this);\n      user.freshness = new Date();\n      m.redraw();\n    };\n    image.src = this.avatarUrl();\n  }\n\n  /**\n   * Update the user's preferences.\n   */\n  savePreferences(newPreferences: object): Promise<User> {\n    const preferences = this.preferences();\n\n    Object.assign(preferences, newPreferences);\n\n    return this.save({preferences});\n  }\n}\n","class Item {\n    content: any;\n    priority: number;\n    key: number = 0;\n\n    constructor(content: any, priority: number) {\n        this.content = content;\n        this.priority = priority;\n    }\n}\n\nexport default class ItemList {\n    private items: { [key: string]: Item } = {};\n\n    /**\n     * Check whether the list is empty.\n     *\n     * @returns {boolean}\n     * @public\n     */\n    isEmpty(): boolean {\n        for (const i in this.items) {\n            if (this.items.hasOwnProperty(i)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * Check whether an item is present in the list.\n     *\n     * @param key\n     * @returns {boolean}\n     */\n    has(key: any): boolean {\n        return !!this.items[key];\n    }\n\n    /**\n     * Get the content of an item.\n     *\n     * @param {String} key\n     * @return {*}\n     * @public\n     */\n    get(key: any) {\n        return this.items[key].content;\n    }\n\n    /**\n     * Add an item to the list.\n     *\n     * @param {String} key A unique key for the item.\n     * @param {*} content The item's content.\n     * @param {Integer} [priority] The priority of the item. Items with a higher\n     *     priority will be positioned before items with a lower priority.\n     * @return {ItemList}\n     * @public\n     */\n    add(key: any, content: T, priority = 0) {\n        this.items[key] = new Item(content, priority);\n\n        return this;\n    }\n\n    toArray<T>(): T[] {\n        const items: Item[] = [];\n\n        for (const i in this.items) {\n            if (this.items.hasOwnProperty(i)) {\n                if (this.items[i] !== null && this.items[i] instanceof Item) {\n                    this.items[i].content = Object(this.items[i].content);\n\n                    this.items[i].content.itemName = i;\n                    items.push(this.items[i]);\n                    this.items[i].key = items.length;\n                }\n            }\n        }\n\n        return items\n            .sort((a, b) => {\n                if (a.priority === b.priority) {\n                    return a.key - b.key;\n                } else if (a.priority > b.priority) {\n                    return -1;\n                }\n                return 1;\n            })\n            .map(item => item.content);\n    }\n}\n","import Mithril from \"mithril\";\n\nimport Alert from \"../components/Alert\";\n\nexport default class RequestError {\n    status: number;\n    responseText: string;\n    options: Mithril.RequestOptions;\n    xhr: XMLHttpRequest;\n    response?: JSON;\n    alert?: Alert;\n\n    constructor(status, responseText, options, xhr) {\n      this.status = status;\n      this.responseText = responseText;\n      this.options = options;\n      this.xhr = xhr;\n\n      try {\n        this.response = JSON.parse(responseText);\n      } catch (e) {\n        this.response = null;\n      }\n\n      this.alert = null;\n    }\n}\n","/**\n * The `computed` utility creates a function that will cache its output until\n * any of the dependent values are dirty.\n *\n * @param {...String} dependentKeys The keys of the dependent values.\n * @param {function} compute The function which computes the value using the\n *     dependent values.\n */\nexport default function computed(...dependentKeys: Array<string|Function>): () => any {\n  const keys = <string[]> dependentKeys.slice(0, -1);\n  const compute = <Function> dependentKeys.slice(-1)[0];\n\n  const dependentValues = {};\n  let computedValue;\n\n  return function() {\n    let recompute = false;\n\n    // Read all of the dependent values. If any of them have changed since last\n    // time, then we'll want to recompute our output.\n    keys.forEach(key => {\n      const value = typeof this[key] === 'function' ? this[key]() : this[key];\n\n      if (dependentValues[key] !== value) {\n        recompute = true;\n        dependentValues[key] = value;\n      }\n    });\n\n    if (recompute) {\n      computedValue = compute.apply(this, keys.map(key => dependentValues[key]));\n    }\n\n    return computedValue;\n  };\n}\n","/**\n * The `extract` utility deletes a property from an object and returns its\n * value.\n */\nexport default function extract(object: object, property: string): any {\n    const value = object[property];\n\n    delete object[property];\n\n    return value;\n}\n","/**\n * Extract the text nodes from a virtual element.\n *\n * @param {VirtualElement} vdom\n * @return {String}\n */\nexport default function extractText(vdom: any): string {\n  if (vdom instanceof Array) {\n    return vdom.map(element => extractText(element)).join('');\n  } else if (typeof vdom === 'object' && vdom !== null) {\n    return extractText(vdom.children);\n  } else {\n    return vdom;\n  }\n}\n","import { RouteDefs } from 'mithril';\n\n/**\n * The `mapRoutes` utility converts a map of named application routes into a\n * format that can be understood by Mithril.\n *\n * @see https://lhorie.github.io/mithril/mithril.route.html#defining-routes\n */\nexport default function mapRoutes(routes: object, basePath: string = ''): RouteDefs {\n    const map = {};\n\n    for (const key in routes) {\n        const route = routes[key];\n\n        if (route.component) {\n            if (!route.component.attrs) route.component.attrs = {};\n            route.component.attrs.routeName = key;\n        }\n\n        map[basePath + route.path] = route.component;\n    }\n\n    return map;\n}\n","import prop from 'mithril/stream';\n\nexport default () => {\n  m.withAttr = (key: string, cb: Function) => function () {\n    cb(this.getAttribute(key));\n  };\n\n  m.prop = prop;\n}\n","import jump from 'jump.js';\nimport Tooltip from 'tooltip.js';\n\n// add $.fn.tooltip\n$.fn.tooltip = function (option) {\n  return this.each(function () {\n    const $this = $(this);\n    let data = $this.data('bs.tooltip');\n    const options = typeof option === 'object' && option || {};\n\n    if ($this.attr('title')) {\n      options.title = $this.attr('title');\n      $this.removeAttr('title');\n      $this.attr('data-original-title', options.title);\n    }\n\n    if (option === 'destroy') option = 'dispose';\n\n    if (!data && ['dispose', 'hide'].includes(option)) return;\n\n    if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)));\n    if (typeof option === 'string' && data[option]) data[option]();\n  });\n};\n\n// add $.fn.outerWidth and $.fn.outerHeight\n['width', 'height'].forEach(function(dimension) {\n  const Dimension = dimension.replace(/./, function (m) {\n    return m[0].toUpperCase()\n  });\n\n  $.fn[`outer${Dimension}`] = function(margin) {\n    const elem = this;\n\n    if (elem) {\n      const sides = {'width': ['left', 'right'], 'height': ['top', 'bottom']};\n      let size = elem[dimension]();\n\n      sides[dimension].forEach(function(side) {\n        if (margin) size += parseInt(elem.css('margin-' + side), 10);\n      });\n\n      return size;\n    } else {\n      return null;\n    }\n  };\n});\n\n// allow use of $(':input')\n// @ts-ignore\n$.expr[':']['input'] = function() {\n  if (('disabled' in this) || ['INPUT', 'SELECT', 'TEXTAREA', 'BUTTON'].includes(this.tagName)) return this;\n};\n\n// add $().hover() method\n$.fn.hover = function(hover, leave) {\n  return this\n    .on('mouseenter', hover)\n    .on('mouseleave', leave || hover);\n};\n\n// add animated scroll\n$.fn.animatedScrollTop = function (to, duration = $.fx.speeds._default, callback) {\n  if (typeof to === 'number') to -= (window.scrollY || window.pageYOffset);\n\n  jump(to, {\n    duration: $.fx.speeds[duration] || duration,\n    callback\n  });\n\n  return this;\n};\n\n// required for compatibility with jquery plugins\n// ex: bootstrap plugins\n$.fn.extend = $.extend.bind($);\n\n/**\n * Enable special events on Zepto\n * @license Original Copyright 2013 Enideo. Released under dual MIT and GPL licenses.\n */\n// @ts-ignore\n$.event.special = $.event.special || {};\n\nconst bindBeforeSpecialEvents = $.fn.bind;\n\n$.fn.bind = function(eventName, data, callback) {\n  const el = this;\n\n  if (!callback){\n    callback = data;\n    data = null;\n  }\n\n  $.each(eventName.split(/\\s/), (key: string, value: any) : boolean => {\n    value = value.split(/\\./)[0];\n\n    if(value in $.event.special){\n      let specialEvent = $.event.special[value];\n\n      /// init enable special events on Zepto\n      if(!specialEvent._init) {\n        specialEvent._init = true;\n\n        /// intercept and replace the special event handler to add functionality\n        specialEvent.originalHandler = specialEvent.handler;\n        specialEvent.handler = function(){\n\n          /// make event argument writable, like on jQuery\n          const args = Array.prototype.slice.call(arguments);\n\n          args[0] = $.extend({},args[0]);\n\n          /// define the event handle, $.event.dispatch is only for newer versions of jQuery\n          $.event.handle = function(){\n\n            /// make context of trigger the event element\n            const args = Array.prototype.slice.call(arguments);\n            const event = args[0];\n            const $target = $(event.target);\n\n            $target.trigger.apply( $target, arguments );\n          };\n\n          specialEvent.originalHandler.apply(this,args);\n        }\n      }\n\n      /// setup special events on Zepto\n      specialEvent.setup.apply(el, [data]);\n    }\n\n    return true;\n  });\n\n  return bindBeforeSpecialEvents.apply(this, [eventName, callback]);\n};\n","/**\n * Truncate a string to the given length, appending ellipses if necessary.\n */\nexport function truncate(string: string, length: number, start = 0): string {\n  return (start > 0 ? '...' : '') +\n    string.substring(start, start + length) +\n    (string.length > start + length ? '...' : '');\n}\n\n/**\n * Create a slug out of the given string. Non-alphanumeric characters are\n * converted to hyphens.\n */\nexport function slug(string: string): string {\n  return string.toLowerCase()\n    .replace(/[^a-z0-9]/gi, '-')\n    .replace(/-+/g, '-')\n    .replace(/-$|^-/g, '');\n}\n\n/**\n * Strip HTML tags and quotes out of the given string, replacing them with\n * meaningful punctuation.\n */\nexport function getPlainContent(string: string): string {\n  const html = string\n    .replace(/(<\\/p>|<br>)/g, '$1 &nbsp;')\n    .replace(/<img\\b[^>]*>/ig, ' ');\n\n  const dom = $('<div/>').html(html);\n\n  dom.find(getPlainContent.removeSelectors.join(',')).remove();\n\n  return dom.text().replace(/\\s+/g, ' ').trim();\n}\n\n/**\n * An array of DOM selectors to remove when getting plain content.\n *\n * @type {String[]}\n */\ngetPlainContent.removeSelectors = ['blockquote', 'script'];\n\n/**\n * Make a string's first character uppercase.\n */\nexport function ucfirst(string: string): string {\n  return string.substr(0, 1).toUpperCase() + string.substr(1);\n}\n","export function hsvToRgb(h: number, s: number, v: number) {\n  let r;\n  let g;\n  let b;\n\n  const i = Math.floor(h * 6);\n  const f = h * 6 - i;\n  const p = v * (1 - s);\n  const q = v * (1 - f * s);\n  const t = v * (1 - (1 - f) * s);\n\n  switch (i % 6) {\n    case 0: r = v; g = t; b = p; break;\n    case 1: r = q; g = v; b = p; break;\n    case 2: r = p; g = v; b = t; break;\n    case 3: r = p; g = q; b = v; break;\n    case 4: r = t; g = p; b = v; break;\n    case 5: r = v; g = p; b = q; break;\n  }\n\n  return {\n    r: Math.floor(r * 255),\n    g: Math.floor(g * 255),\n    b: Math.floor(b * 255)\n  };\n}\n\n/**\n * Convert the given string to a unique color.\n */\nexport default function stringToColor(string: string): string {\n  let num = 0;\n\n  // Convert the username into a number based on the ASCII value of each\n  // character.\n  for (let i = 0; i < string.length; i++) {\n    num += string.charCodeAt(i);\n  }\n\n  // Construct a color using the remainder of that number divided by 360, and\n  // some predefined saturation and value values.\n  const hue = num % 360;\n  const rgb = hsvToRgb(hue / 360, 0.3, 0.9);\n\n  return '' + rgb.r.toString(16) + rgb.g.toString(16) + rgb.b.toString(16);\n}\n","import Application from '../common/Application';\nimport History from './utils/History';\n\nimport Search from './components/Search';\n\nimport IndexPage from './components/IndexPage';\nimport HeaderPrimary from './components/HeaderPrimary';\nimport HeaderSecondary from './components/HeaderSecondary';\n\nexport default class Forum extends Application {\n    routes = {\n        'index': { path: '/', component: IndexPage.component() },\n        'index.filter': {path: '/:filter', component: IndexPage.component() },\n    };\n\n    // /**\n    //  * The page's search component instance.\n    //  */\n    // search: Search = new Search();\n\n    /**\n     * The app's history stack, which keeps track of which routes the user visits\n     * so that they can easily navigate back to the previous route.\n     */\n    history: History = new History();\n\n    mount() {\n      // Get the configured default route and update that route's path to be '/'.\n      // Push the homepage as the first route, so that the user will always be\n      // able to click on the 'back' button to go home, regardless of which page\n      // they started on.\n      const defaultRoute = this.forum.attribute('defaultRoute');\n      let defaultAction = 'index';\n\n      for (const i in this.routes) {\n        if (this.routes[i].path === defaultRoute) defaultAction = i;\n      }\n\n      this.routes[defaultAction].path = '/';\n      this.history.push(defaultAction, this.translator.trans('core.forum.header.back_to_index_tooltip'), '/');\n\n      // m.mount(document.getElementById('app-navigation'), Navigation.component({className: 'App-backControl', drawer: true}));\n      // m.mount(document.getElementById('header-navigation'), Navigation.component());\n      m.mount(document.getElementById('header-primary'), new HeaderPrimary());\n      m.mount(document.getElementById('header-secondary'), new HeaderSecondary());\n\n      // this.pane = new Pane(document.getElementById('app'));\n      // this.composer = m.mount(document.getElementById('composer'), Composer.component());\n\n      m.route.prefix = '';\n      super.mount(this.forum.attribute('basePath'));\n\n      // alertEmailConfirmation(this);\n\n      // Route the home link back home when clicked. We do not want it to register\n      // if the user is opening it in a new tab, however.\n      $('#home-link').click(e => {\n        if (e.ctrlKey || e.metaKey || e.which === 2) return;\n        e.preventDefault();\n        app.history.home();\n\n        // Reload the current user so that their unread notification count is refreshed.\n        if (app.session.user) {\n          app.store.find('users', app.session.user.id());\n          m.redraw();\n        }\n      });\n    }\n\n    setupRoutes() {\n      super.setupRoutes();\n\n      this.route.discussion = (discussion, near) => {\n        const slug = discussion.slug();\n        return this.route(near && near !== 1 ? 'discussion.near' : 'discussion', {\n          id: discussion.id() + (slug.trim() ? '-' + slug : ''),\n          near: near && near !== 1 ? near : undefined\n        });\n      };\n\n      /**\n       * Generate a URL to a post.\n       *\n       * @param {Post} post\n       * @return {String}\n       */\n      this.route.post = post => {\n        return this.route.discussion(post.discussion(), post.number());\n      };\n\n      /**\n       * Generate a URL to a user.\n       *\n       * @param {User} user\n       * @return {String}\n       */\n      this.route.user = user => {\n        return this.route('user', {\n          username: user.username()\n        });\n      };\n    }\n}\n","import compat from '../common/compat';\n\nimport Forum from './Forum';\n\nimport IndexPage from './components/IndexPage';\n\nexport default Object.assign(compat, {\n    'components/IndexPage': IndexPage,\n    Forum: Forum,\n}) as any;\n","import highlight from '../../common/helpers/highlight';\nimport LinkButton from '../../common/components/LinkButton';\nimport SearchSource from \"./SearchSource\";\nimport Discussion from \"../../common/models/Discussion\";\n\n/**\n * The `DiscussionsSearchSource` finds and displays discussion search results in\n * the search dropdown.\n */\nexport default class DiscussionsSearchSource extends SearchSource {\n  protected results: { [key: string]: Discussion[] } = {};\n\n  search(query: string) {\n    query = query.toLowerCase();\n\n    this.results[query] = [];\n\n    const params = {\n      filter: {q: query},\n      page: {limit: 3},\n      include: 'mostRelevantPost'\n    };\n\n    return app.store.find('discussions', params).then(results => this.results[query] = results);\n  }\n\n  view(query: string) {\n    query = query.toLowerCase();\n\n    const results = this.results[query] || [];\n\n    return [\n      <li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.discussions_heading')}</li>,\n      <li>\n        {LinkButton.component({\n          icon: 'fas fa-search',\n          children: app.translator.trans('core.forum.search.all_discussions_button', {query}),\n          href: app.route('index', {q: query})\n        })}\n      </li>,\n      results.map(discussion => {\n        const mostRelevantPost = discussion.mostRelevantPost();\n\n        return (\n          <li className=\"DiscussionSearchResult\" data-index={'discussions' + discussion.id()}>\n            <a href={app.route.discussion(discussion, mostRelevantPost && mostRelevantPost.number())} config={m.route}>\n              <div className=\"DiscussionSearchResult-title\">{highlight(discussion.title(), query)}</div>\n              {mostRelevantPost ? <div className=\"DiscussionSearchResult-excerpt\">{highlight(mostRelevantPost.contentPlain(), query, 100)}</div> : ''}\n            </a>\n          </li>\n        );\n      })\n    ];\n  }\n}\n","import Component from '../../common/Component';\nimport ItemList from '../../common/utils/ItemList';\nimport listItems from '../../common/helpers/listItems';\n\n/**\n * The `HeaderPrimary` component displays primary header controls. On the\n * default skin, these are shown just to the right of the forum title.\n */\nexport default class HeaderPrimary extends Component {\n  view() {\n    return (\n      <ul className=\"Header-controls\">\n        {listItems(this.items().toArray())}\n      </ul>\n    );\n  }\n\n  /**\n   * Build an item list for the controls.\n   */\n  items(): ItemList {\n    return new ItemList();\n  }\n}\n","import Component from '../../common/Component';\nimport Button from '../../common/components/Button';\n// import LogInModal from './LogInModal';\n// import SignUpModal from './SignUpModal';\n// import SessionDropdown from './SessionDropdown';\nimport SelectDropdown from '../../common/components/SelectDropdown';\n// import NotificationsDropdown from './NotificationsDropdown';\nimport ItemList from '../../common/utils/ItemList';\nimport listItems from '../../common/helpers/listItems';\n\nimport Search from './Search';\n\n/**\n * The `HeaderSecondary` component displays secondary header controls, such as\n * the search box and the user menu. On the default skin, these are shown on the\n * right side of the header.\n */\nexport default class HeaderSecondary extends Component {\n  view() {\n    return (\n      <ul className=\"Header-controls\">\n        {listItems(this.items().toArray())}\n      </ul>\n    );\n  }\n\n  /**\n   * Build an item list for the controls.\n   */\n  items(): ItemList {\n    const items = new ItemList();\n\n    items.add('search', Search.component(), 30);\n\n    if (app.forum.attribute(\"showLanguageSelector\") && Object.keys(app.data.locales).length > 0) {\n      const locales = [];\n\n      for (const locale in app.data.locales) {\n        locales.push(Button.component({\n          active: app.data.locale === locale,\n          children: app.data.locales[locale],\n          icon: app.data.locale === locale ? 'fas fa-check' : true,\n          onclick: () => {\n            if (app.session.user) {\n              app.session.user.savePreferences({locale}).then(() => window.location.reload());\n            } else {\n              document.cookie = `locale=${locale}; path=/; expires=Tue, 19 Jan 2038 03:14:07 GMT`;\n              window.location.reload();\n            }\n          }\n        }));\n      }\n\n      items.add('locale', SelectDropdown.component({\n        children: locales,\n        buttonClassName: 'Button Button--link'\n      }), 20);\n    }\n\n    if (app.session.user) {\n      // items.add('notifications', NotificationsDropdown.component(), 10);\n      // items.add('session', SessionDropdown.component(), 0);\n    } else {\n      if (app.forum.attribute('allowSignUp')) {\n        items.add('signUp',\n          Button.component({\n            children: app.translator.trans('core.forum.header.sign_up_link'),\n            className: 'Button Button--link',\n            onclick: () => app.modal.show(new SignUpModal())\n          }), 10\n        );\n      }\n\n      items.add('logIn',\n        Button.component({\n          children: app.translator.trans('core.forum.header.log_in_link'),\n          className: 'Button Button--link',\n          onclick: () => app.modal.show(new LogInModal())\n        }), 0\n      );\n    }\n\n    return items;\n  }\n}\n","import Component from '../../common/Component';\n\nexport default class IndexPage extends Component {\n    oninit() {\n        console.log('IndexPage#oninit');\n    }\n\n    view() {\n        return (\n            <div class=\"container\">\n                <h1>hi</h1>\n            </div>\n        );\n    }\n}\n","import Component from '../../common/Component';\nimport LoadingIndicator from '../../common/components/LoadingIndicator';\nimport ItemList from '../../common/utils/ItemList';\nimport extractText from '../../common/utils/extractText';\nimport KeyboardNavigatable from '../utils/KeyboardNavigatable';\nimport icon from '../../common/helpers/icon';\nimport DiscussionsSearchSource from './DiscussionsSearchSource';\nimport UsersSearchSource from './UsersSearchSource';\nimport SearchSource from './SearchSource';\n\n/**\n * The `Search` component displays a menu of as-you-type results from a variety\n * of sources.\n *\n * The search box will be 'activated' if the app's current controller implements\n * a `searching` method that returns a truthy value. If this is the case, an 'x'\n * button will be shown next to the search field, and clicking it will call the\n * `clearSearch` method on the controller.\n */\nexport default class Search extends Component {\n  /**\n   * The value of the search input.\n   */\n  value: Function = m.prop('');\n\n  /**\n   * Whether or not the search input has focus.\n   */\n  hasFocus: boolean = false;\n\n  /**\n   * An array of SearchSources.\n   */\n  sources: SearchSource[] = null;\n\n  /**\n   * The number of sources that are still loading results.\n   */\n  loadingSources = 0;\n\n  /**\n   * A list of queries that have been searched for.\n   */\n  searched: string[] = [];\n\n  /**\n   * The index of the currently-selected <li> in the results list. This can be\n   * a unique string (to account for the fact that an item's position may jump\n   * around as new results load), but otherwise it will be numeric (the\n   * sequential position within the list).\n   */\n  index: string|number = 0;\n\n  navigator: KeyboardNavigatable;\n\n  searchTimeout: number;\n\n  view() {\n    const currentSearch = this.getCurrentSearch();\n\n    // Initialize search input value in the view rather than the constructor so\n    // that we have access to app.current.\n    if (typeof this.value() === 'undefined') {\n      this.value(currentSearch || '');\n    }\n\n    // Initialize search sources in the view rather than the constructor so\n    // that we have access to app.forum.\n    if (!this.sources) {\n      this.sources = this.sourceItems().toArray();\n    }\n\n    // Hide the search view if no sources were loaded\n    if (!this.sources.length) return <div/>;\n\n    console.log('Search#view - loading:', this.loadingSources)\n\n    return (\n      <div className={'Search ' + classNames({\n        open: this.value() && this.hasFocus,\n        focused: this.hasFocus,\n        active: !!currentSearch,\n        loading: !!this.loadingSources\n      })}>\n        <div className=\"Search-input\">\n          <input className=\"FormControl\"\n                 type=\"search\"\n                 placeholder={extractText(app.translator.trans('core.forum.header.search_placeholder'))}\n                 value={this.value()}\n                 oninput={m.withAttr('value', this.value)}\n                 onfocus={() => this.hasFocus = true}\n                 onblur={() => this.hasFocus = false}/>\n          {this.loadingSources\n            ? LoadingIndicator.component({size: 'tiny', className: 'Button Button--icon Button--link'})\n            : currentSearch\n              ? <button className=\"Search-clear Button Button--icon Button--link\" onclick={this.clear.bind(this)}>{icon('fas fa-times-circle')}</button>\n              : ''}\n        </div>\n        <ul className=\"Dropdown-menu Search-results\">\n          {this.value() && this.hasFocus\n            ? this.sources.map(source => source.view(this.value()))\n            : ''}\n        </ul>\n      </div>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    // Highlight the item that is currently selected.\n    this.setIndex(this.getCurrentNumericIndex());\n\n    const search = this;\n\n    this.$('.Search-results')\n      .on('mousedown', e => e.preventDefault())\n      .on('click', () => this.$('input').blur())\n\n      // Whenever the mouse is hovered over a search result, highlight it.\n      .on('mouseenter', '> li:not(.Dropdown-header)', function() {\n        search.setIndex(\n          search.selectableItems().index(this)\n        );\n      });\n\n    const $input = this.$('input');\n\n    this.navigator = new KeyboardNavigatable();\n\n    this.navigator\n      .onUp(() => this.setIndex(this.getCurrentNumericIndex() - 1, true))\n      .onDown(() => this.setIndex(this.getCurrentNumericIndex() + 1, true))\n      .onSelect(this.selectResult.bind(this))\n      .onCancel(this.clear.bind(this))\n      .bindTo($input);\n\n    // Handle input key events on the search input, triggering results to load.\n    $input\n      .on('input focus', function() {\n        const query = this.value.toLowerCase();\n\n        if (!query) return;\n\n        clearTimeout(search.searchTimeout);\n        search.searchTimeout = setTimeout(() => {\n          if (search.searched.indexOf(query) !== -1) return;\n\n          if (query.length >= 3) {\n            search.sources.map(source => {\n              if (!source.search) return;\n\n              search.loadingSources++;\n\n              source.search(query).then(() => {\n                search.loadingSources = Math.max(0, search.loadingSources - 1);\n                m.redraw();\n              });\n            });\n          }\n\n          search.searched.push(query);\n          m.redraw();\n        }, 250);\n      })\n\n      .on('focus', function() {\n        $(this).one('mouseup', e => e.preventDefault()).select();\n      });\n  }\n\n  /**\n   * Get the active search in the app's current controller.\n   *\n   * @return {String}\n   */\n  getCurrentSearch() {\n    return app.current && typeof app.current.searching === 'function' && app.current.searching();\n  }\n\n  /**\n   * Navigate to the currently selected search result and close the list.\n   */\n  selectResult() {\n    clearTimeout(this.searchTimeout);\n    this.loadingSources = 0;\n\n    if (this.value()) {\n      m.route(this.getItem(this.index).find('a').attr('href'));\n    } else {\n      this.clear();\n    }\n\n    this.$('input').blur();\n  }\n\n  /**\n   * Clear the search input and the current controller's active search.\n   */\n  clear() {\n    this.value('');\n\n    if (this.getCurrentSearch()) {\n      app.current.clearSearch();\n    } else {\n      m.redraw();\n    }\n  }\n\n  /**\n   * Build an item list of SearchSources.\n   *\n   * @return {ItemList}\n   */\n  sourceItems() {\n    const items = new ItemList();\n\n    if (app.forum.attribute('canViewDiscussions')) items.add('discussions', new DiscussionsSearchSource());\n    if (app.forum.attribute('canViewUserList')) items.add('users', new UsersSearchSource());\n\n    return items;\n  }\n\n  /**\n   * Get all of the search result items that are selectable.\n   *\n   * @return {jQuery}\n   */\n  selectableItems() {\n    return this.$('.Search-results > li:not(.Dropdown-header)');\n  }\n\n  /**\n   * Get the position of the currently selected search result item.\n   *\n   * @return {Integer}\n   */\n  getCurrentNumericIndex() {\n    return this.selectableItems().index(\n      this.getItem(this.index)\n    );\n  }\n\n  /**\n   * Get the <li> in the search results with the given index (numeric or named).\n   *\n   * @param {String} index\n   * @return {DOMElement}\n   */\n  getItem(index) {\n    const $items = this.selectableItems();\n    let $item = $items.filter(`[data-index=\"${index}\"]`);\n\n    if (!$item.length) {\n      $item = $items.eq(index);\n    }\n\n    return $item;\n  }\n\n  /**\n   * Set the currently-selected search result item to the one with the given\n   * index.\n   *\n   * @param index\n   * @param scrollToItem Whether or not to scroll the dropdown so that\n   *     the item is in view.\n   */\n  setIndex(index: number, scrollToItem?: boolean) {\n    const $items = this.selectableItems();\n    const $dropdown = $items.parent();\n\n    let fixedIndex = index;\n    if (index < 0) {\n      fixedIndex = $items.length - 1;\n    } else if (index >= $items.length) {\n      fixedIndex = 0;\n    }\n\n    const $item = $items.removeClass('active').eq(fixedIndex).addClass('active');\n\n    this.index = $item.attr('data-index') || fixedIndex;\n\n    if (scrollToItem) {\n      const dropdownScroll = $dropdown.scrollTop();\n      const dropdownTop = $dropdown.offset().top;\n      const dropdownBottom = dropdownTop + $dropdown.outerHeight();\n      const itemTop = $item.offset().top;\n      const itemBottom = itemTop + $item.outerHeight();\n\n      let scrollTop;\n      if (itemTop < dropdownTop) {\n        scrollTop = dropdownScroll - dropdownTop + itemTop - parseInt($dropdown.css('padding-top'), 10);\n      } else if (itemBottom > dropdownBottom) {\n        scrollTop = dropdownScroll - dropdownBottom + itemBottom + parseInt($dropdown.css('padding-bottom'), 10);\n      }\n\n      if (typeof scrollTop !== 'undefined') {\n        $dropdown.animate({scrollTop}, 100);\n      }\n    }\n  }\n}\n","export default abstract class SearchSource {\n  abstract view(vnode: string);\n\n  abstract search(query: string);\n}\n","import highlight from '../../common/helpers/highlight';\nimport avatar from '../../common/helpers/avatar';\nimport username from '../../common/helpers/username';\nimport SearchSource from \"./SearchSource\";\nimport User from '../../common/models/User';\n\n/**\n * The `UsersSearchSource` finds and displays user search results in the search\n * dropdown.\n *\n * @implements SearchSource\n */\nexport default class UsersSearchSource extends SearchSource {\n  protected results: { [key: string]: User[] } = {};\n\n  search(query: string) {\n    return app.store.find<User>('users', {\n      filter: {q: query},\n      page: {limit: 5}\n    }).then(results => {\n      this.results[query] = results;\n      m.redraw();\n    });\n  }\n\n  view(query: string) {\n    query = query.toLowerCase();\n\n    const results = (this.results[query] || [])\n      .concat(app.store.all<User>('users').filter((user: User) => [user.username(), user.displayName()].some(value => value.toLowerCase().substr(0, query.length) === query)))\n      .filter((e, i, arr) => arr.lastIndexOf(e) === i)\n      .sort((a, b) => a.displayName().localeCompare(b.displayName()));\n\n    if (!results.length) return '';\n\n    return [\n      <li className=\"Dropdown-header\">{app.translator.trans('core.forum.search.users_heading')}</li>,\n      results.map(user => {\n        const name = username(user);\n        name.children[0] = highlight(name.children[0], query);\n\n        return (\n          <li className=\"UserSearchResult\" data-index={'users' + user.id()}>\n            <a href={app.route.user(user)} config={m.route}>\n              {avatar(user)}\n              {name}\n            </a>\n          </li>\n        );\n      })\n    ];\n  }\n}\n","import Forum from './Forum';\n\nconst app = new Forum();\n\n// @ts-ignore\nwindow.app = app;\n\napp.bus.subscribe('app.plugins', () => {\n    // @ts-ignore\n    const extensions = flarum.extensions;\n\n    Object.keys(extensions).forEach(name => {\n        const extension = extensions[name];\n\n        // if (typeof extension === 'function') extension();\n    });\n});\n\nexport { app };\n\n// Export compat API\nimport compat from './compat';\n\ncompat.app = app;\n\nexport { compat };\n","export interface StackItem {\n  name: string;\n  title: string;\n  url?: string;\n}\n\n/**\n * The `History` class keeps track and manages a stack of routes that the user\n * has navigated to in their session.\n *\n * An item can be pushed to the top of the stack using the `push` method. An\n * item in the stack has a name and a URL. The name need not be unique; if it is\n * the same as the item before it, that will be overwritten with the new URL. In\n * this way, if a user visits a discussion, and then visits another discussion,\n * popping the history stack will still take them back to the discussion list\n * rather than the previous discussion.\n */\nexport default class History {\n  /**\n   * The stack of routes that have been navigated to.\n   */\n  protected stack: StackItem[] = [];\n\n  /**\n   * Get the item on the top of the stack.\n   */\n  getCurrent(): StackItem {\n    return this.stack[this.stack.length - 1];\n  }\n\n  /**\n   * Get the previous item on the stack.\n   */\n  getPrevious(): StackItem {\n    return this.stack[this.stack.length - 2];\n  }\n\n  /**\n   * Push an item to the top of the stack.\n   *\n   * @param {String} name The name of the route.\n   * @param {String} title The title of the route.\n   * @param {String} [url] The URL of the route. The current URL will be used if\n   *     not provided.\n   */\n  push(name: string, title: string, url: string = m.route.get()) {\n    // If we're pushing an item with the same name as second-to-top item in the\n    // stack, we will assume that the user has clicked the 'back' button in\n    // their browser. In this case, we don't want to push a new item, so we will\n    // pop off the top item, and then the second-to-top item will be overwritten\n    // below.\n    const secondTop = this.stack[this.stack.length - 2];\n    if (secondTop && secondTop.name === name) {\n      this.stack.pop();\n    }\n\n    // If we're pushing an item with the same name as the top item in the stack,\n    // then we'll overwrite it with the new URL.\n    const top = this.getCurrent();\n    if (top && top.name === name) {\n      Object.assign(top, {url, title});\n    } else {\n      this.stack.push({name, url, title});\n    }\n  }\n\n  /**\n   * Check whether or not the history stack is able to be popped.\n   */\n  canGoBack(): boolean {\n    return this.stack.length > 1;\n  }\n\n  /**\n   * Go back to the previous route in the history stack.\n   */\n  back() {\n    if (! this.canGoBack()) {\n      return this.home();\n    }\n\n    this.stack.pop();\n\n    m.route.set(this.getCurrent().url);\n  }\n\n  /**\n   * Get the URL of the previous page.\n   */\n  backUrl(): string {\n    const secondTop = this.stack[this.stack.length - 2];\n\n    return secondTop.url;\n  }\n\n  /**\n   * Go to the first route in the history stack.\n   */\n  home() {\n    this.stack.splice(0);\n\n    m.route.set('/');\n  }\n}\n","/**\n * The `KeyboardNavigatable` class manages lists that can be navigated with the\n * keyboard, calling callbacks for each actions.\n *\n * This helper encapsulates the key binding logic, providing a simple fluent\n * API for use.\n */\nexport default class KeyboardNavigatable {\n  callbacks = {};\n\n  // By default, always handle keyboard navigation.\n  whenCallback = () => true;\n\n  /**\n   * Provide a callback to be executed when navigating upwards.\n   *\n   * This will be triggered by the Up key.\n   */\n  onUp(callback: Function): this {\n    this.callbacks[38] = e => {\n      e.preventDefault();\n      callback(e);\n    };\n\n    return this;\n  }\n\n  /**\n   * Provide a callback to be executed when navigating downwards.\n   *\n   * This will be triggered by the Down key.\n   */\n  onDown(callback: Function): this {\n    this.callbacks[40] = e => {\n      e.preventDefault();\n      callback(e);\n    };\n\n    return this;\n  }\n\n  /**\n   * Provide a callback to be executed when the current item is selected..\n   *\n   * This will be triggered by the Return and Tab keys..\n   */\n  onSelect(callback: Function): this {\n    this.callbacks[9] = this.callbacks[13] = e => {\n      e.preventDefault();\n      callback(e);\n    };\n\n    return this;\n  }\n\n  /**\n   * Provide a callback to be executed when the navigation is canceled.\n   *\n   * This will be triggered by the Escape key.\n   */\n  onCancel(callback: Function): this {\n    this.callbacks[27] = e => {\n      e.stopPropagation();\n      e.preventDefault();\n      callback(e);\n    };\n\n    return this;\n  }\n\n  /**\n   * Provide a callback to be executed when previous input is removed.\n   *\n   * This will be triggered by the Backspace key.\n   */\n  onRemove(callback: Function): this {\n    this.callbacks[8] = e => {\n      if (e.target.selectionStart === 0 && e.target.selectionEnd === 0) {\n        callback(e);\n        e.preventDefault();\n      }\n    };\n\n    return this;\n  }\n\n  /**\n   * Provide a callback that determines whether keyboard input should be handled.\n   */\n  when(callback: () => boolean): this {\n    this.whenCallback = callback;\n\n    return this;\n  }\n\n  /**\n   * Set up the navigation key bindings on the given jQuery element.\n   */\n  bindTo($element: any) {\n    // Handle navigation key events on the navigatable element.\n    $element.on('keydown', this.navigate.bind(this));\n  }\n\n  /**\n   * Interpret the given keyboard event as navigation commands.\n   */\n  navigate(event: KeyboardEvent) {\n    // This callback determines whether keyboard should be handled or ignored.\n    if (!this.whenCallback()) return;\n\n    const keyCallback = this.callbacks[event.which];\n    if (keyCallback) {\n      keyCallback(event);\n    }\n  }\n}\n","module.exports = m;"],"sourceRoot":""}